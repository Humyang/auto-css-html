{"version":3,"sources":["webpack:///./src/vendors/ace.js","webpack:///./src/App.vue?0e98","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/router/index.js","webpack:///./src/vuex/store.js","webpack:///./src/api/ajax.js","webpack:///./src/api/module/plan.js","webpack:///./src/main.js","webpack:///./src/api/env.js"],"names":["global","this","window","requirejs","define","module","deps","payload","arguments","length","modules","payloads","original","apply","console","error","trace","ns","root","_require","parentId","callback","lookup","undefined","Object","prototype","toString","call","params","i","l","dep","require","push","packagedModule","moduleName","normalizeModule","indexOf","chunks","split","charAt","slice","join","previous","replace","exports","mod","id","uri","packaged","x","real","exec","RegExp","test","match","String","compliantExecNpcg","compliantLastIndexIncrement","lastIndex","str","name","r2","regex","array","item","from","Array","source","ignoreCase","multiline","extended","sticky","index","_xregexp","captureNames","Empty","Function","bind","that","target","TypeError","args","bound","result","concat","defineGetter","defineSetter","lookupGetter","lookupSetter","supportsAccessors","prototypeOfArray","prototypeOfObject","_toString","owns","hasOwnProperty","__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","splice","makeArray","a","lengthBefore","array_splice","start","deleteCount","pos","removeCount","Math","max","removed","insert","add","remove","min","tailOldPos","tailNewPos","tailCount","lengthAfterRemove","isArray","obj","createEmpty","freezeObject","boxedString","splitString","forEach","fun","object","toObject","self","thisp","map","filter","value","every","some","reduce","reduceRight","sought","toInteger","lastIndexOf","abs","_Object$getPrototypeOf","getPrototypeOf","__proto__","constructor","_Object$getOwnPropertyDescriptor","getOwnPropertyDescriptor","property","_typeof","descriptor","enumerable","configurable","getter","setter","get","set","_Object$getOwnPropertyNames","getOwnPropertyNames","_Object$keys","_Object$create","empty","propertyIsEnumerable","isPrototypeOf","toLocaleString","valueOf","create","properties","Type","_Object$defineProperties","doesDefinePropertyWork","defineProperty","exception","_Object$defineProperty","definePropertyWorksOnObject","definePropertyWorksOnDom","document","createElement","definePropertyFallback","defineProperties","_Object$seal","seal","_Object$freeze","freeze","_Object$preventExtensions","preventExtensions","_Object$isSealed","isSealed","_Object$isFrozen","isFrozen","_Object$isExtensible","isExtensible","returnValue","hasDontEnumBug","dontEnums","dontEnumsLength","key","keys","ii","dontEnum","Date","now","getTime","ws","trim","trimBeginRegexp","trimEndRegexp","n","floor","o","Element","writable","parentNode","removeChild","OS","LINUX","MAC","WINDOWS","getOS","isMac","isLinux","_navigator","navigator","os","platform","toLowerCase","ua","userAgent","appName","isWin","isIE","parseFloat","isOldIE","isGecko","isMozilla","isOpera","opera","isWebKit","isChrome","isEdge","isAIR","isAndroid","isChromeOS","isIOS","MSStream","isMobile","useragent","buildDom","arr","parent","refs","txt","createTextNode","appendChild","els","ch","el","options","childIndex","val","className","setAttribute","getDocumentHead","doc","head","getElementsByTagName","documentElement","tag","createElementNS","removeChildren","element","innerHTML","textContent","ownerDocument","createFragment","createDocumentFragment","hasCssClass","addCssClass","removeCssClass","classes","toggleCssClass","setCssClass","node","include","hasCssString","sheets","querySelectorAll","importCssString","cssText","container","getRootNode","style","insertBefore","firstChild","importCssStylsheet","rel","href","scrollbarWidth","inner","width","minWidth","height","display","outer","position","left","overflow","body","noScrollbar","offsetWidth","withScrollbar","clientWidth","computedStyle","getComputedStyle","setStyle","styles","HAS_CSS_ANIMATION","HAS_CSS_TRANSFORMS","HI_DPI","devicePixelRatio","div","transform","animationName","translate","tx","ty","round","top","inherits","ctor","superCtor","super_","mixin","implement","proto","oop","Keys","ret","MODIFIER_KEYS","16","17","18","224","91","92","93","KEY_MODS","ctrl","alt","option","shift","super","meta","command","cmd","FUNCTION_KEYS","8","9","13","19","27","32","33","34","35","36","37","38","39","40","44","45","46","96","97","98","99","100","101","102","103","104","105","-13","112","113","114","115","116","117","118","119","120","121","122","123","144","145","PRINTABLE_KEYS","48","49","50","51","52","53","54","55","56","57","59","61","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","107","109","110","186","187","188","189","190","191","192","219","220","221","222","111","106","parseInt","enter","escape","esc","del","mods","pow","keyCodeToString","keyCode","keyString","fromCharCode","activeListenerOptions","pressedKeys","ts","getListenerOptions","createComment","addEventListener","passive","e","detectListenerOptionsSupport","addListener","elem","type","removeListener","removeEventListener","stopEvent","stopPropagation","preventDefault","getButton","ctrlKey","altKey","shiftKey","button","capture","eventHandler","releaseCaptureHandler","onMouseUp","addMouseWheelListener","wheelDeltaX","wheelX","wheelY","wheelDeltaY","wheelDelta","deltaMode","DOM_DELTA_PIXEL","deltaX","deltaY","DOM_DELTA_LINE","DOM_DELTA_PAGE","axis","HORIZONTAL_AXIS","detail","addMultiMouseDownListener","elements","timeouts","callbackName","startX","startY","timer","clicks","eventNames","2","3","4","onMousedown","isNewClick","clientX","clientY","clearTimeout","setTimeout","_clicks","getModifierHash","metaKey","normalizeCommandKeys","hashId","getModifierState","altGr","location","keyLocation","timeStamp","defaultPrevented","resetPressedKeys","getModifierString","addCommandKeyListener","isOldGecko","lastKeyDownKeyCode","lastDefaultPrevented","postMessage","postMessageId","nextTick","win","messageName","listener","data","$idleBlocked","onIdle","cb","timeout","handler","$idleBlockId","blockIdle","delay","nextFrame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","Range","startRow","startColumn","endRow","endColumn","row","column","end","isEqual","range","contains","compare","compareRange","cmp","comparePoint","p","containsRange","intersects","isEnd","isStart","setStart","setEnd","inside","insideStart","insideEnd","isMultiLine","compareStart","compareEnd","compareInside","clipRows","firstRow","lastRow","fromPoints","extend","isEmpty","clone","collapseRows","toScreenRange","session","screenPosStart","documentToScreenPosition","screenPosEnd","moveBy","comparePoints","p1","p2","last","stringReverse","string","reverse","stringRepeat","count","stringTrimLeft","stringTrimRight","copyObject","copy","copyArray","deepCopy","arrayToMap","createMap","props","arrayRemove","escapeRegExp","escapeHTML","getMatchOffsets","regExp","matches","offset","deferredCall","fcn","deferred","cancel","schedule","isPending","delayedCall","defaultTimeout","_self","$cancelT","lineMode","pasteCancelled","event","dom","lang","clipboard","BROKEN_SETDATA","USE_IE_MIME_TYPE","HAS_FOCUS_ARGS","KEYS","MODS","valueResetRegex","TextInput","host","text","opacity","copied","pasted","inComposition","sendingText","tempStyle","fontSize","commandMode","ignoreFocusEvents","lastValue","lastSelectionStart","lastSelectionEnd","lastRestoreEnd","isFocused","activeElement","onBlur","hasFocus","onFocus","resetSelection","$focusScroll","focus","preventScroll","isTransformed","getBoundingClientRect","ancestors","t","parentElement","nodeType","removeAttribute","blur","on","curOp","onCompositionEnd","newValue","selectionEnd","selection","setSelectionRange","afterContextMenu","getRange","cursor","selectionStart","line","getLine","prevLine","nextLine","inputHandler","setInputHandler","getInputHandler","sendText","fromInput","onPaste","extendLeft","extendRight","inserted","restoreStart","restoreEnd","endIndex","onTextInput","onInput","onCompositionUpdate","inputType","execCommand","MAX_LINE_LENGTH","handleClipboardData","forceIEMime","clipboardData","mime","setData","getData","doCopy","isCut","getCopyText","onCut","onCopy","select","onCommandKey","isAllSelected","selectAll","$readOnly","cancelComposition","useTextareaForIME","markerRange","context","compositionStartOffset","off","closeTimeout","syncComposition","onContextMenuClose","renderer","$isMousePressed","$keepTextAreaAtCursor","$moveTextAreaToCursor","onCompositionStart","getSelectionRange","msGetInputContext","getInputContext","getElement","setCommandMode","readOnly","setReadOnly","setCopyWithEmptySelection","onContextMenu","_emit","domEvent","moveToMouse","bringToFront","characterWidth","rect","borderTopWidth","borderLeftWidth","maxTop","bottom","clientHeight","move","textInput","scroller","typingResetTimeout","typing","detectArrowKeys","$mouseHandler","isMousePressed","modifier","up","home","down","right","commands","findKeyCommand","addIosSelectionHandler","DefaultHandlers","mouseHandler","$clickSelection","editor","setDefaultHandler","onMouseDown","onDoubleClick","onTripleClick","onQuadClick","onMouseWheel","selectByLines","extendSelectionBy","selectByWords","calcRangeOrientation","anchor","ev","inSelection","getDocumentPosition","mousedownEvent","moveToPosition","time","$focusTimeout","inMultiSelectMode","captureMouse","startSelect","setState","waitForClickSelection","screenToTextCoordinates","y","getShiftKey","selectToPosition","setCapture","orientedRange","setSelectionAnchor","scrollCursorIntoView","unitName","cmpStart","cmpEnd","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","unsetStyle","releaseCapture","focusWait","ax","ay","bx","by","distance","sqrt","getBracketRange","getWordRange","getLineRange","getAccelKey","$lastScroll","vx","vy","allowed","prevScroll","dt","direction","canScroll","isScrollableBy","speed","scrollBy","stop","Tooltip","isOpen","$element","$parentNode","$init","setText","setHtml","html","setPosition","setClassName","show","hide","getHeight","offsetHeight","getWidth","destroy","GutterTooltip","windowWidth","innerWidth","windowHeight","innerHeight","GutterHandler","tooltipTimeout","mouseEvent","tooltipAnnotation","gutter","$gutterLayer","tooltip","hideTooltip","_signal","moveTooltip","getRegion","selectTo","srcElement","$tooltipFollowsMouse","annotation","$annotations","getLength","screenRow","pixelToScreenCoordinates","$pos","documentToScreenRow","showTooltip","$gutter","MouseEvent","$inSelection","propagationStopped","selectionRange","AUTOSCROLL_DELAY","SCROLL_CURSOR_DELAY","SCROLL_CURSOR_HYSTERESIS","DragdropHandler","blankImage","src","dragSelectionMarker","timerId","dragCursor","dragOperation","isInternal","autoScrollStartTime","cursorMovedTime","cursorPointOnCaretMoved","mouseTarget","counter","onDragInterval","prevCursor","vMovement","hMovement","moveCursorToPosition","calcDistance","lineHeight","layerConfig","editorRect","offsets","nearestXOffset","nearestYOffset","scrollCursor","vScroll","hScroll","autoScroll","addDragMarker","toOrientedRange","addMarker","getSelectionStyle","clearSelection","$cursorLayer","setBlinking","clearInterval","setInterval","onMouseMove","clearDragMarker","removeMarker","fromOrientedRange","$resetCursorStyle","onDragStart","cancelDrag","draggable","dataTransfer","effectAllowed","getReadOnly","scrollTop","setDragImage","clearData","getTextRange","onDragEnd","dropEffect","setCursorStyle","onDragEnter","canAccept","getDropEffect","onDragOver","onMouseMoveTimer","onDragLeave","onDrop","moveText","dropData","types","copyAllowed","copyModifierState","dragWait","getDragDelay","startDrag","dragWaitEnd","dragReadyEnd","cursorStyle","onMouseDrag","state","dragDrop","$dragEnabled","eventTarget","unselectable","addTouchListeners","touchStartT","lastT","longTouchTimer","animationTimer","pressed","contextMenu","mode","animationSteps","clickCount","vX","vY","createContextMenu","handleClick","selected","hasUndo","action","getAttribute","getUndoManager","replaceChild","class","readText","then","writeText","ontouchstart","ontouchend","onclick","showContextMenu","pagePos","textToScreenCoordinates","pageY","hideContextMenu","handleLongTap","selectWord","touches","h","w","touchObj","setRange","switchToSelectionMode","cursorPos","getPixelPosition","anchorPos","weightedDistance","diff1","diff2","oldScrollTop","getScrollTop","url","xhr","XMLHttpRequest","open","onreadystatechange","readyState","responseText","send","loadScript","path","s","onload","_","isAbort","qualifyURL","EventEmitter","_dispatchEvent","eventName","_eventRegistry","_defaultHandlers","listeners","defaultHandler","once","newCallback","_Promise","resolve","handlers","_disabled_","old","disabled","removeDefaultHandler","pop","capturing","removeAllListeners","optionsProvider","setOptions","optList","setOption","getOptions","optionNames","$options","hidden","getOption","opt","warn","forwardTo","handlesSet","message","reportError","msg","Error","AppConfig","$defaultOptions","defineOptions","initialValue","resetOptions","setDefaultValue","opts","setDefaultValues","optionHash","net","workerPath","modePath","themePath","basePath","suffix","$moduleUrls","loadWorkerFromBlob","sharedPopups","all","$modes","moduleUrl","component","parts","sep","base","re","setModuleUrl","subst","$loading","loadModule","onLoad","moduleType","afterLoad","reportErrorIfPathIsNotConfigured","init","scriptOptions","scriptUrl","currentScript","_currentScript","scripts","script","attributes","j","attr","m","m1","toUpperCase","version","DefaultGutterHandler","config","MouseHandler","focusEditor","getMouseEventTarget","onMouseEvent","scrollBarV","scrollBarH","Boolean","gutterEl","$dragDelay","character","mousemove","$scrollSpeed","mouseMoveHandler","which","releaseMouse","$mouseMoved","onCaptureEnd","onOperationEnd","onCaptureInterval","$onCaptureMouseMove","endOperation","selectionChanged","startOperation","cancelContextMenu","scrollSpeed","dragDelay","dragEnabled","focusTimeout","tooltipFollowsMouse","FoldHandler","fold","getFoldAt","removeFold","expandFold","getUseWrapMode","foldWidgets","onFoldWidgetClick","getParentFoldRangeData","firstRange","addFold","keyUtil","KeyBinding","$editor","$data","$handlers","kb","removeKeyboardHandler","$defaultHandler","addKeyboardHandler","setKeyboardHandler","handleKeyboard","attach","detach","getKeyboardHandler","getStatusText","$callKeyboardHandlers","toExecute","success","passEvent","dir","hiLevel","lastArabic","hasUBAT_B","hasUBAT_S","impTab_LTR","impTab_RTL","RTL","L","R","EN","AN","ON","B","S","AL","WS","CS","ES","ET","NSM","LRE","RLE","PDF","LRO","RLO","BN","UnicodeTBL00","UnicodeTBL20","_invertLevel","lev","levels","_array","lo","hi","tmp","len","_getCharClass","chars","ix","wType","nType","cType","c","rtlCandidate","_getCharacterType","uc","charCodeAt","ON_R","R_H","DOT","doBidiReorder","textCharTypes","isRtl","logicalFromVisual","bidiLevels","charTypes","impTab","prevState","newClass","newLevel","newState","condPos","_computeLevels","hasBidiCharacters","getVisualFromLogicalIdx","logIdx","rowMap","bidiUtil","bidiRE","BidiHandler","bidiMap","currentRow","charWidths","EOL","showInvisibles","isRtlDir","$isRtl","wrapIndent","EOF","contentWidth","fontMetrics","rtlLineOffset","wrapOffset","isMoveLeftOperation","seenBidi","getValue","isBidiRow","docRow","splitIndex","updateRowLine","updateBidiMap","onChange","delta","lines","getDocumentRow","rowCache","$screenRowCache","$getRowCacheIndex","$docRowCache","getSplitIndex","currentIndex","prevIndex","endOfLine","$useWrapMode","splits","$wrapData","indent","substring","size","isFullWidth","getScreenTabSize","$main","substr","markAsDirty","updateCharacterWidths","$characterSize","bidiCharWidth","$measureCharWidth","setShowInvisibles","setEolChar","eolChar","setContentWidth","isRtlLine","setRtlDirection","getCursorPosition","getSelectionAnchor","$bidiHandler","removeInLine","getPosLeft","col","leftBoundary","logicalIdx","getOverwrite","visualIdx","getSelections","startCol","endCol","level","selections","selColMin","selColMax","isSelected","isSelectedPrev","visIdx","offsetToCol","posX","charWidth","Selection","getDocument","lead","createAnchor","$silent","$cursorChanged","$isEmpty","$keepDesiredColumnOnChange","$desiredColumn","$anchorChanged","getCursor","getPosition","getAnchor","getSelectionLead","isBackwards","$setSelection","Number","MAX_VALUE","anchorRow","anchorColumn","cursorRow","cursorColumn","wasEmpty","wasMultiselect","$moveSelection","mover","moveCursorTo","moveTo","selectUp","moveCursorUp","selectDown","moveCursorDown","selectRight","moveCursorRight","selectLeft","moveCursorLeft","selectLineStart","moveCursorLineStart","selectLineEnd","moveCursorLineEnd","selectFileEnd","moveCursorFileEnd","selectFileStart","moveCursorFileStart","selectWordRight","moveCursorWordRight","selectWordLeft","moveCursorWordLeft","selectAWord","getAWordRange","excludeLastChar","rowEnd","rowStart","foldLine","getFoldLine","selectLine","moveCursorBy","wouldMoveIntoSoftTab","tabSize","isTabStop","getTabSize","getNavigateWithinSoftTabs","firstColumnPosition","screenToDocumentPosition","leadingSpace","getDisplayLine","$useEmacsStyleLineStart","lineEnd","getDocumentLastRowColumnPosition","textEnd","search","moveCursorLongWordRight","rightOfCursor","nonTokenRe","tokenRe","moveCursorLongWordLeft","getFoldStringAt","leftOfCursor","$shortWordEndIndex","whitespaceRe","moveCursorShortWordRight","moveCursorShortWordLeft","$selectLongWords","rows","offsetX","screenPos","lineWidgets","widget","rowsAbove","rowCount","docPos","keepDesiredColumn","moveCursorToScreen","desiredColumn","r","getRangeOfMovements","func","toJSON","rangeCount","ranges","r1","fromJSON","rangeList","toSingleRange","addRange","MAX_TOKEN_COUNT","Tokenizer","rules","states","regExps","matchMappings","ruleRegExps","matchTotal","mapping","defaultToken","flag","splitterRurles","rule","caseInsensitive","adjustedregex","matchcount","token","groupCount","tokenArray","onMatch","$arrayTokens","$applyToken","digit","removeCapturingGroups","splitRegex","createSplitterRegexp","$setMaxTokenCount","values","tokens","stack","inChClass","lastCapture","parenOpen","parenClose","square","getLineTokens","startState","currentState","matchAttempts","skipped","next","consumeLineEnd","merge","unshift","TextHighlightRules","$rules","addRules","prefix","nextState","getRules","embedRules","HighlightRules","escapeRules","append","$embeds","getEmbeds","pushState","popState","normalizeRules","processState","processed","toInsert","stateName","includeName","noEscape","keywordMap","createKeywordMapper","splitChar","keywords","list","$keywordList","getKeywords","$keywords","Behaviour","$behaviours","addBehaviours","behaviours","inherit","getBehaviours","TokenIterator","initialRow","initialColumn","$session","$row","$rowTokens","getTokens","getTokenAt","$tokenIndex","stepBackward","stepForward","getCurrentToken","getCurrentTokenRow","getCurrentTokenColumn","rowTokens","tokenIndex","getCurrentTokenPosition","getCurrentTokenRange","SAFE_INSERT_IN_TOKENS","SAFE_INSERT_BEFORE_TOKENS","contextCache","defaultQuotes","\"","'","initContext","multiSelect","autoInsertedBrackets","autoInsertedRow","autoInsertedLineEnd","maybeInsertedBrackets","maybeInsertedRow","maybeInsertedLineStart","maybeInsertedLineEnd","getWrapped","opening","closing","rowDiff","CstyleBehaviour","getWrapBehavioursEnabled","isSaneInsertion","braces","recordAutoInsert","recordMaybeInsert","$findOpeningBracket","isAutoInsertedClosing","popAutoInsertedClosing","isMaybeInsertedClosing","clearMaybeInsertedClosing","openBracePos","findMatchingBracket","next_indent","$getIndent","getTabString","quotes","$mode","$quotes","lineCommentStart","quote","leftChar","rightChar","rightToken","pair","stringBefore","stringAfter","wordRe","isWordBefore","isWordAfter","charBefore","iterator","$matchTokenType","iterator2","bracket","wordChars","code","unicode","Mode","$defaultBehaviour","getTokenizer","$tokenizer","$highlightRules","$highlightRuleConfig","blockComment","toggleCommentLines","ignoreBlankLines","shouldRemove","minIndent","Infinity","insertAtTabStop","regexpStart","getUseSoftTabs","uncomment","shouldInsertSpace","commentWithSpace","comment","insertInLine","testRemove","before","after","spaces","lineCommentEnd","regexpEnd","iter","minEmptyLength","toggleBlockComment","colDiff","initialRange","startRange","endRange","getNextLineIndent","tab","checkOutdent","input","autoOutdent","createWorker","createModeDelegates","$id","delegations","scope","functionName","$delegator","method","language","transformAction","param","$behaviour","completionKeywords","ruleItr","aLength","$createKeywordList","getCompletions","word","score","applyDelta","docLines","doNotValidate","Anchor","$onChange","$pointsInOrder","point1","point2","equalPointsInOrder","bColIsAfter","$clipPositionToDocument","$insertRight","point","moveIfEqual","deltaIsInsert","deltaRowShift","deltaColShift","deltaStart","deltaEnd","$getTransformedPoint","noClip","Document","textOrLines","$lines","insertMergedLines","setValue","getAllLines","getNewLineCharacter","$split","$detectNewLine","$autoNewLine","$newLineMode","setNewLineMode","newLineMode","getNewLineMode","isNewLine","getLines","getLinesForRange","insertLines","insertFullLines","removeLines","removeFullLines","insertNewLine","clippedPos","clonePos","$clipPosition","deleteFirstNewLine","deleteLastNewLine","deletedLines","removeNewLine","applyDeltas","deltas","revertDeltas","revertDelta","isInsert","$splitAndapplyLargeDelta","MAX","to","chunk","indexToPosition","newlineLength","positionToIndex","BackgroundTokenizer","tokenizer","running","currentLine","$worker","workerStart","endLine","startLine","processedLines","$tokenizeRow","fireUpdateEvent","setTokenizer","setDocument","first","scheduleStart","$updateOnChange","getState","SearchHighlight","clazz","setRegexp","MAX_RANGES","cache","update","markerLayer","drawSingleLineMarker","FoldLine","foldData","folds","setFoldLine","shiftRow","sameRow","sort","b","containsRow","walk","lastEnd","isNewRow","placeholder","getNextFoldTo","kind","addRemoveChars","log","foldBefore","newFoldLine","foldLineNext","idxToPosition","idx","lastFoldEndColumn","RangeList","$bias","pointIndex","excludeEdges","startIndex","addList","substractPoint","containsPoint","rangeAtPoint","clipped","removeAll","lineDif","Fold","subFolds","consumePoint","restorePoint","subFold","collapseChildren","addSubFold","afterStart","firstConsumed","consumedFolds","k","restoreRange","Folding","side","getFoldsInRange","foldLines","$foldData","foundFolds","getFoldsInRangeList","getAllFolds","lastFold","startFoldLine","getNextFoldLine","getFoldedRowCount","$addFoldLine","added","$clipRangeToDocument","startFold","endFold","removeFolds","$updateWrapData","$updateRowLengthCache","$modified","addFolds","$updating","cloneFolds","foldAll","expandFolds","unfold","expandInner","isRowFolded","startFoldRow","getRowFoldEnd","getRowFoldStart","getFoldDisplayLine","textLine","lastColumn","$cloneFoldData","fd","toggleFold","tryToUnfold","bracketPos","getCommentFoldRange","depth","getFoldWidget","getFoldWidgetRange","$foldStyles","manual","markbegin","markbeginend","$foldStyle","setFoldStyle","$foldMode","$setFolding","foldMode","$updateFoldWidgets","$tokenizerUpdateFoldWidgets","updateFoldWidgets","tokenizerUpdateFoldWidgets","ignoreCurrent","fw","children","siblings","$toggleFoldWidget","toggleFoldWidget","toggleParent","BracketMatch","chr","charBeforeCursor","$findClosingBracket","getMatchingBracketRanges","$brackets",")","(","]","[","{","}","<",">","typeRe","openBracket","valueIndex","closingBracket","valueLength","TextMode","EditSession","$breakpoints","$decorations","$frontMarkers","$backMarkers","$markerId","$undoSelect","$uid","onChangeFold","setMode","bgTokenizer","resetCaches","$resetRowCache","cacheArray","low","mid","$rowLengthCache","removedFolds","$updateInternalDataOnChange","$fromUndo","$undoManager","mergeUndoDeltas","$informUndoManager","setUndoManager","reset","getSelection","undoManager","addSession","$syncInformUndoManager","markUndoGroup","$defaultUndoManager","undo","redo","hasRedo","addSelection","startNewGroup","setUseSoftTabs","$useSoftTabs","$indentWithTabs","setTabSize","$tabSize","setNavigateWithinSoftTabs","navigateWithinSoftTabs","$navigateWithinSoftTabs","$overwrite","setOverwrite","overwrite","toggleOverwrite","addGutterDecoration","removeGutterDecoration","getBreakpoints","setBreakpoints","clearBreakpoints","setBreakpoint","clearBreakpoint","inFront","marker","addDynamicMarker","markerId","getMarkers","highlight","$searchHighlight","highlightLines","setAnnotations","annotations","getAnnotations","clearAnnotations","inToken","wordRange","setUseWorker","useWorker","getUseWorker","$useWorker","onReloadTokenizer","$modeId","$onChangeMode","$isPlaceholder","$stopWorker","$startWorker","attachToSession","wrapMethod","$wrapMethod","foldingRules","terminate","getMode","$scrollTop","setScrollTop","isNaN","$scrollLeft","setScrollLeft","scrollLeft","getScrollLeft","getScreenWidth","$computeWidth","getLineWidgetMaxWidth","screenWidth","lineWidgetsWidth","lineWidgetWidth","force","$wrapLimit","longestScreenLine","foldIndex","foldStart","$getStringScreenWidth","undoChanges","dontSelect","selectionBefore","$getUndoSelection","redoChanges","selectionAfter","setUndoSelect","enable","isUndo","fromRange","toPosition","toRange","collDiff","oldStart","newStart","indentRows","indentString","outdentRows","rowRange","deleteRange","$moveLines","diff","$clipRowToDocument","moveLinesUp","moveLinesDown","duplicateLines","$clipColumnToRow","$wrapLimitRange","setUseWrapMode","useWrapMode","setWrapLimitRange","adjustWrapLimit","desiredLimit","$printMargin","limits","wrapLimit","$constrainWrapLimit","getWrapLimit","setWrapLimit","limit","getWrapLimitRange","foldLineBefore","wrapData","walkTokens","$getDisplayTokens","PLACEHOLDER_START","PLACEHOLDER_BODY","$computeWrapSplits","SPACE","TAB","TAB_SPACE","displayLength","lastSplit","lastDocSplit","isCode","$wrapAsCode","indentedSoftWrap","$indentedSoftWrap","maxIndent","addSplit","indentation","getWrapIndent","minSplit","maxScreenColumn","screenColumn","getRowLength","getRowLineCount","getRowWrapIndent","getScreenLastRowColumn","documentToScreenColumn","getDocumentLastRowColumn","docColumn","getRowSplitData","screenToDocumentRow","screenToDocumentColumn","rowLength","doCache","maxRow","foldStartRow","wrapRow","screenRowOffset","getScreenLength","screenRows","$getWidgetScreenLength","$setFontMetrics","fm","$enableVarChar","getCharacterWidth","wrap","$wrap","firstLineNumber","useSoftTabs","foldStyle","Search","find","$matchIterator","sr","sc","er","ec","skipCurrent","findAll","needle","$assembleRegExp","$isMultiLine","prevRange","replacement","preserveCase","$disableFakeMultiline","wholeWord","wordBoundary","addWordBoundary","caseSensitive","$assembleMultilineRegExp","backwards","forEachInLine","HashHandler","commandKeyBinding","addCommands","$singleCommand","MultiHashHandler","bindKey","isDefault","addCommand","removeCommand","_buildKeyHash","keepCommand","ckb","keyId","cmdGroup","keyPart","chain","binding","parseKeys","_addCommandToBinding","removeCommands","bindKeys","keyList","$keyChain","CommandManager","byName","$checkCommandState","isAvailable","toggleRecording","$inReplay","recording","macro","$addCommandToMacro","oldMacro","replay","trimMacro","mac","showSettingsMenu","showErrorMarker","scrollIntoView","description","centerSelection","gotoLine","prompt","$type","multiSelectAction","getAllRanges","findNext","findPrevious","aceCommandGroup","navigateFileStart","navigateUp","times","navigateFileEnd","navigateDown","navigateWordLeft","navigateLineStart","navigateLeft","navigateWordRight","navigateLineEnd","navigateRight","selectPageDown","scrollPageDown","gotoPageDown","selectPageUp","scrollPageUp","gotoPageUp","jumpToMatching","$copyWithEmptySelection","$handlePaste","duplicateSelection","sortLines","modifyNumber","copyLinesUp","copyLinesDown","removeToLineStart","removeToLineEnd","removeWordLeft","removeWordRight","blockOutdent","blockIndent","splitLine","transposeLetters","transposeSelections","firstLineEndCol","selectedCount","insertLine","curLine","newRanges","exitMultiSelectMode","defaultCommands","Editor","getContainerElement","getTextAreaContainer","textarea","keyBinding","$search","$historyTracker","$initOperationListeners","_$emitInputEvent","setSession","$opResetTimer","$lastSel","docChanged","prevOp","commandEvent","previousCommand","scrollSelectionIntoView","animateScrolling","sel","$mergeableCommands","$mergeUndoDeltas","prev","mergeableCommands","shouldMerge","mergeNextCommand","sequenceStartTime","keyboardHandler","$keybindingId","oldSession","$onDocumentChange","$onTokenizerUpdate","$onChangeTabSize","$onChangeWrapLimit","$onChangeWrapMode","$onChangeFold","$onChangeFrontMarker","$onChangeBackMarker","$onChangeBreakpoint","$onChangeAnnotation","$onCursorChange","$onScrollTopChange","$onScrollLeftChange","$onSelectionChange","onDocumentChange","onChangeMode","onTokenizerUpdate","onChangeTabSize","onChangeWrapLimit","onChangeWrapMode","onChangeFrontMarker","onChangeBackMarker","onChangeBreakpoint","onChangeAnnotation","onCursorChange","onScrollTopChange","onScrollLeftChange","onSelectionChange","updateFull","oldEditor","getSession","resize","onResize","setTheme","theme","getTheme","getFontSize","setFontSize","$highlightBrackets","$highlightPending","$bracketHighlight","markerIds","getMatching","markerType","$highlightTags","$highlightTagPending","$tagHighlight","prevToken","sbm","$isFocused","showCursor","visualizeFocus","hideCursor","visualizeBlur","$cursorChange","updateCursor","updateLines","$updateHighlightActiveLine","scrollToY","scrollToX","$highlightActiveLine","$selectionStyle","$selectionColorConflict","$maxLines","$minLines","$highlightLineMarker","$selectionMarker","$highlightSelectedWord","$getSelectionHighLightRegexp","wordWithBoundary","updateFrontMarkers","updateBackMarkers","updateBreakpoints","updateText","getSelectedText","nl","copyLine","inVirtualSelectionMode","isFullLine","getBehavioursEnabled","d","lineState","shouldOutdent","lineIndent","composition","applyComposition","forEachSelection","setScrollSpeed","getScrollSpeed","setDragDelay","setSelectionStyle","setHighlightActiveLine","shouldHighlight","getHighlightActiveLine","setHighlightGutterLine","getHighlightGutterLine","setHighlightSelectedWord","getHighlightSelectedWord","setAnimatedScroll","shouldAnimate","getAnimatedScroll","getShowInvisibles","setDisplayIndentGuides","getDisplayIndentGuides","setShowPrintMargin","showPrintMargin","getShowPrintMargin","setPrintMarginColumn","getPrintMarginColumn","setBehavioursEnabled","enabled","setWrapBehavioursEnabled","setShowFoldWidgets","getShowFoldWidgets","setFadeFoldWidgets","fade","getFadeFoldWidgets","new_range","swap","originalRange","$getSelectedRows","getNumberAt","_numberRx","amount","charRange","isFinite","nr","fp","decimals","nnr","toFixed","replaceRange","toggleWord","$toggleWordPairs","currWordStart","wordParts","curLength","itLength","reg","wordPairs","negate","firstCondition","res","endPoint","moved","totalDiff","rangeIndex","subRows","compositionState","showComposition","setCompositionText","hideComposition","getFirstVisibleRow","getLastVisibleRow","isRowVisible","isRowFullyVisible","getFirstFullyVisibleRow","getLastFullyVisibleRow","$getVisibleRowCount","getScrollBottomRow","getScrollTopRow","$moveByPage","scrollToRow","scrollToLine","center","animate","alignCursor","getCursorPositionScreen","expand","matchType","bracketType","found","brackets","lineNumber","navigateTo","replaced","$tryReplace","replaceAll","getLastSearchOptions","newRange","revealRange","setAutoScrollEditorIntoView","shouldScroll","$scrollAnchor","scrollAnchor","onChangeSelection","onBeforeRender","onAfterRender","searchBox","$pixelPos","$cursorStyle","cursorLayer","setSmoothBlinking","isBlinking","selectionStyle","highlightActiveLine","highlightSelectedWord","copyWithEmptySelection","behavioursEnabled","wrapBehavioursEnabled","autoScrollEditorIntoView","showLineNumbers","setShowLineNumbers","$loop","CHANGE_GUTTER","$relativeLineNumbers","relativeNumberRenderer","relativeLineNumbers","$showLineNumbers","$updatePlaceholder","$composition","placeholderNode","$placeholder","content","hScrollBarAlwaysVisible","vScrollBarAlwaysVisible","highlightGutterLine","animatedScroll","printMarginColumn","printMargin","fadeFoldWidgets","showFoldWidgets","displayIndentGuides","showGutter","fontFamily","maxLines","minLines","scrollPastEnd","fixedWidthGutter","hasCssTransforms","maxPixelHeight","getText","lastLineNumber","$renderer","UndoManager","$maxRev","allowMerge","$lastDelta","$keepRedoStack","$redoStack","lastDeltas","$undoStack","$rev","rev","markIgnored","ignore","getRevision","getDeltas","getChangedRanges","getChangedLines","validateDeltaBoundaries","deltaSet","docLength","invertAction","swapped","swapGroups","rearrangeUndoStack","$redoStackBaseRev","undoSelectionRange","$syncRev","redoStack","deltaSets","moveDeltasByOne","rebaseRedoStack","redoSelectionRange","nextDelta","mark","canUndo","canRedo","bookmark","isAtBookmark","isClean","markClean","$prettyPrint","stringifyDelta","stringifyRange","d1","d2","i1","i2","ds1","ds2","xform","c1","splitDelta","shiftPos","rowsBefore","otherLines","cloneDelta","xformed","Lines","canvasHeight","cells","cellCache","$offsetCoefficient","moveContainer","firstRowScreen","pageChanged","oldConfig","newConfig","computeLineTop","screenTop","screenPage","computeLineHeight","$cacheCell","cell","fragment","insertAdjacentElement","createCell","initElement","Gutter","parentEl","$showFoldWidgets","gutterWidth","$updateAnnotations","onCreateCell","textNode","foldWidget","rowInfo","annoText","gutterOffset","oldLastRow","$updateCursorRow","$renderCell","$updateGutterWidth","gutterRenderer","$firstLineNumber","lastLineText","$fixedWidth","padding","$padding","$computePadding","ceil","$highlightGutterLine","$cursorRow","updateLineHighlight","$cursorCell","scrollLines","$renderLines","childNodes","breakpoints","decorations","foldHeight","getShowLineNumbers","paddingLeft","borderRightWidth","paddingRight","Marker","setPadding","setMarkers","markers","elt","css","$getTop","drawFullLineMarker","drawScreenLineMarker","drawTextMarker","drawMultiLineMarker","childElementCount","lastChild","stringBuilder","extraStyle","curr","lineRange","range1","drawBidiSingleLineMarker","radiusClass","extraLength","Text","$updateEolChar","EOF_CHAR","EOL_CHAR_LF","EOL_CHAR_CRLF","EOL_CHAR","TAB_CHAR","SPACE_CHAR","margin","getLineHeight","$fontMetrics","measure","$pollSizeChanges","checkForSizeChanges","$pollSizeChangesTimer","$computeTabString","$tabStrings","tabStr","span","$indentGuideRe","spaceClass","tabClass","spaceContent","tabContent","lineElements","lineElementsIdx","heightChanged","lineElement","$renderLine","$renderLinesFragment","lineEl","$useLineGroups","$textToken","rparen","lparen","$renderToken","valueFragment","simpleSpace","controlCharacter","cjkSpace","cjk","cloneNode","com","renderIndentGuide","cols","$createLineElement","$renderWrappedLine","splitChars","$renderOverflowMessage","$renderSimpleLine","overflowEl","$getFoldLineTokens","lastLineEl","invisibleEl","renderTokens","addTokens","Cursor","isVisible","blinkInterval","smoothBlinking","cursors","addCursor","$updateCursors","$updateOpacity","$startCssAnimation","animationDuration","$stopCssAnimation","blinking","restartTimer","setBlinkInterval","removeCursor","intervalId","timeoutId","blink","onScreen","isCursorInView","pixelPos","maxHeight","$selectionMarkers","cursorIndex","drawCursor","$setOverwrite","ScrollBar","classSuffix","setVisible","skipEvent","onScroll","coeff","VScrollBar","scrollHeight","$scrollbarWidth","$minWidth","setHeight","setInnerHeight","setScrollHeight","HScrollBar","setWidth","setInnerWidth","setScrollWidth","ScrollBarV","ScrollBarH","RenderLoop","onRender","pending","changes","$recursionLimit","_flush","change","clear","USE_OBSERVER","ResizeObserver","FontMetrics","$setMeasureNodeStyles","$measureNode","$addObserver","isRoot","visibility","whiteSpace","font","$measureSizes","fontWeight","boldSize","charSizes","allowBoldFonts","$observer","contentRect","observe","setPolling","disconnect","$getZoom","getZoom","zoom","$initTransformMeasureNodes","transformCoordinates","clientPos","elPos","mul","solve","l1","l2","det","sub","m2","ut","u","f","GutterLayer","MarkerLayer","TextLayer","CursorLayer","editorCss","HIDE_TEXTAREA","VirtualRenderer","onGutterResize","$markerBack","textLayer","$textLayer","canvas","$markerFront","$horizScroll","$vScroll","scrollBar","$scrollAnimation","scrollMargin","updateCharacterSize","$size","scrollerHeight","scrollerWidth","$dirty","minHeight","v","$renderChanges","defaultView","CHANGE_FULL","CHANGE_CURSOR","CHANGE_MARKER","CHANGE_SCROLL","CHANGE_LINES","CHANGE_TEXT","CHANGE_SIZE","CHANGE_MARKER_BACK","CHANGE_MARKER_FRONT","CHANGE_H_SCROLL","$allowBoldFonts","$updatePrintMargin","onChangeNewLineMode","$changedLines","updateFontSize","$changes","$updateSizeAsync","resizing","scrollWidth","$updateCachedSize","$extraHeight","oldSize","$showGutter","$computeLayerConfig","availableWidth","$showPrintMargin","$printMarginColumn","$animatedScroll","getShowGutter","setShowGutter","$printMarginEl","containerEl","posTop","posLeft","setScrollMargin","sm","setMargin","getHScrollBarAlwaysVisible","$hScrollBarAlwaysVisible","setHScrollBarAlwaysVisible","alwaysVisible","getVScrollBarAlwaysVisible","$vScrollBarAlwaysVisible","setVScrollBarAlwaysVisible","$updateScrollBarV","$scrollPastEnd","$updateScrollBarH","$frozen","unfreeze","st","$updateLines","$autosize","desiredHeight","$maxPixelHeight","$gutterWidth","hideScrollbars","longestLine","$getLongestLine","horizScroll","hScrollChanged","vScrollBefore","vScrollChanged","firstRowHeight","lineCount","charCount","$viewMargin","topMargin","bottomMargin","alignment","STEPS","$calcSteps","fromValue","toValue","x_min","steps","initialScroll","oldSteps","$timer","scrollTo","canvasPos","$hasCssTransforms","$blockCursor","pageX","$useTextareaForIME","addToken","newToken","$themeId","cssClass","$theme","isDark","setMouseCursor","attachToShadowRoot","workerUrl","Worker","blob","Blob","blobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","getBlob","$workerBlob","blobURL","URL","webkitURL","createObjectURL","WorkerClient","worker","$createWorkerFromOldConfig","$sendDeltaQueue","changeListener","onMessage","callbackId","callbacks","onmessage","topLevelNamespaces","classname","importScripts","nameToUrl","toUrl","normalizePath","$normalizePath","tlns","err","deltaQueue","$doc","emit","ex","attachToDocument","q","UIWorkerClient","main","emitSync","sender","messageBuffer","workerClient","processNext","setEmitSync","Main","PlaceHolder","others","mainClass","othersClass","$onUpdate","onUpdate","$others","undoStack","$undostack","$undoStackDepth","setup","other","showOtherMarkers","othersActive","hideOtherMarkers","updateAnchors","lengthDiff","inMainRange","distanceFromStart","newPos","otherPos","updateMarkers","updateMarker","undosRequired","isSamePoint","accel","selectionMode","isMultiSelect","mouseX","mouseY","screenAnchor","screenCursor","$enableJumpToDef","$blockSelectEnabled","addSelectionMarker","oldRange","removeSelectionMarker","tmpSel","rectSel","blockSelect","newCursor","removeSelectionMarkers","rectangularRangeBlock","updateSelectionMarkers","onSelectionInterval","selectMoreLines","selectMore","joinSelections","splitIntoLines","alignCursors","multiSelectCommands","getSelectionMarkers","$blockChangeEvents","$onAddRange","$onRemoveRange","mergeOverlappingRanges","lastRange","$initRangeList","toggleBlockSelection","includeEmptyLines","xBackwards","startOffsetX","endOffsetX","docEnd","yBackwards","MultiSelect","$multiselectOnSessionChange","$onMultiSelect","$onSingleSelect","onSessionChange","$checkMultiselectChange","altCursor","altDown","addAltCursorListeners","selectionMarkerCount","markerList","$onMultiSelectExec","inVirtualMode","keepOrder","$byLines","cmdResult","anim","buf","additive","skip","screenLead","toRemove","words","stopAtFirst","sameRowRanges","maxCol","minSpace","spaceOffsets","spaceOffset","fr","lr","guessRange","$reAlignText","forceLeft","startW","textW","endW","isLeftAligned","isRightAligned","alignLeft","enableMultiselect","enableBlockSelect","FoldMode","foldingStartMarker","foldingStopMarker","indentationBlock","startLevel","openingBracketBlock","closingBracketBlock","LineWidgets","widgetManager","updateOnChange","renderWidgets","measureWidgets","_changedWidgets","$onChangeEditor","updateOnFold","_inDocument","removeLineWidget","$updateRows","noWidgets","$oldWidget","$registerLineWidget","addLineWidget","zIndex","coverGutter","pixelHeight","$fold","onWidgetChanged","w1","getWidgetsAtRow","changedWidgets","fixedWidth","coverLine","fullWidth","oldWidget","gutterAnno","comparator","binarySearch","matched","findAnnotations","arrow","onmousedown","Renderer","edit","_id","getElementById","env","tagName","oldNode","createEditSession","ace","__WEBPACK_IMPORTED_MODULE_12_babel_runtime_helpers_typeof___default","selectortype_template_index_0_src_App","render","_h","$createElement","_c","attrs","staticRenderFns","src_App","__webpack_require__","normalizeComponent","components","ssrContext","Vue","use","VueRouter","router","routes","title","__WEBPACK_AMD_REQUIRE_ARRAY__","catch","oe","redirect","Vuex","store","Store","preSave","dataset","preSet","elementHistory","actions","pushPreSave","_ref","commit","dispatch","JSON","parse","stringify_default","timeTravel","_ref2","setElement","_ref3","mutations","SET_PRESET","SET_DATASET","SET_PREVIEW_SAVE","SET_ELEMENT_HISTORY","SET_ELEMENT","updateToken","localStorage","strict","fetch","promise_default","reject","axios","IP","PORT","headers","Content-Type","response","interceptors","request","noToken","_token","plan","getPlanList","_ref$date_start","date_start","_ref$date_end","date_end","_ref$query_options","query_options","addPlanList","_ref2$time","_ref2$task","task","startTask","remainTime","stopTask","_ref4","resumeTask","_ref5","delTask","productionTip","ElementUI","api","Vant","ins","App","INS","ServerPort","StaticPort"],"mappings":"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E,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,IAAI,GAAG,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,KAAK,GAAG,MAAM,GAAG,KAAK,GAAG,GAAG,EAAE,IAAI,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,IAAI,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,MAAM,GAAG,GAAG,EAAE,GAAG,KAAK,IAAI,EAAE,GAAG,EAAE,IAAI,GAAG,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,GAAG,IAAI,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAA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","file":"static/js/app.868b3e08cee2ae719ee8.js","sourcesContent":["/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n/**\n * Define a module along with a payload\n * @param module a name for the payload\n * @param payload a function to call with (require, exports, module) params\n */\n\n(function() {\n\nvar ACE_NAMESPACE = \"\";\n\nvar global = (function() { return this; })();\nif (!global && typeof window != \"undefined\") global = window; // strict mode\n\n\nif (!ACE_NAMESPACE && typeof requirejs !== \"undefined\")\n    return;\n\n\nvar define = function(module, deps, payload) {\n    if (typeof module !== \"string\") {\n        if (define.original)\n            define.original.apply(this, arguments);\n        else {\n            console.error(\"dropping module because define wasn\\'t a string.\");\n            console.trace();\n        }\n        return;\n    }\n    if (arguments.length == 2)\n        payload = deps;\n    if (!define.modules[module]) {\n        define.payloads[module] = payload;\n        define.modules[module] = null;\n    }\n};\n\ndefine.modules = {};\ndefine.payloads = {};\n\n/**\n * Get at functionality define()ed using the function above\n */\nvar _require = function(parentId, module, callback) {\n    if (typeof module === \"string\") {\n        var payload = lookup(parentId, module);\n        if (payload != undefined) {\n            callback && callback();\n            return payload;\n        }\n    } else if (Object.prototype.toString.call(module) === \"[object Array]\") {\n        var params = [];\n        for (var i = 0, l = module.length; i < l; ++i) {\n            var dep = lookup(parentId, module[i]);\n            if (dep == undefined && require.original)\n                return;\n            params.push(dep);\n        }\n        return callback && callback.apply(null, params) || true;\n    }\n};\n\nvar require = function(module, callback) {\n    var packagedModule = _require(\"\", module, callback);\n    if (packagedModule == undefined && require.original)\n        return require.original.apply(this, arguments);\n    return packagedModule;\n};\n\nvar normalizeModule = function(parentId, moduleName) {\n    // normalize plugin requires\n    if (moduleName.indexOf(\"!\") !== -1) {\n        var chunks = moduleName.split(\"!\");\n        return normalizeModule(parentId, chunks[0]) + \"!\" + normalizeModule(parentId, chunks[1]);\n    }\n    // normalize relative requires\n    if (moduleName.charAt(0) == \".\") {\n        var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n        moduleName = base + \"/\" + moduleName;\n\n        while(moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n            var previous = moduleName;\n            moduleName = moduleName.replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n        }\n    }\n    return moduleName;\n};\n\n/**\n * Internal function to lookup moduleNames and resolve them by calling the\n * definition function if needed.\n */\nvar lookup = function(parentId, moduleName) {\n    moduleName = normalizeModule(parentId, moduleName);\n\n    var module = define.modules[moduleName];\n    if (!module) {\n        module = define.payloads[moduleName];\n        if (typeof module === 'function') {\n            var exports = {};\n            var mod = {\n                id: moduleName,\n                uri: '',\n                exports: exports,\n                packaged: true\n            };\n\n            var req = function(module, callback) {\n                return _require(moduleName, module, callback);\n            };\n\n            var returnValue = module(req, exports, mod);\n            exports = returnValue || mod.exports;\n            define.modules[moduleName] = exports;\n            delete define.payloads[moduleName];\n        }\n        module = define.modules[moduleName] = exports || module;\n    }\n    return module;\n};\n\nfunction exportAce(ns) {\n    var root = global;\n    if (ns) {\n        if (!global[ns])\n            global[ns] = {};\n        root = global[ns];\n    }\n\n    if (!root.define || !root.define.packaged) {\n        define.original = root.define;\n        root.define = define;\n        root.define.packaged = true;\n    }\n\n    if (!root.require || !root.require.packaged) {\n        require.original = root.require;\n        root.require = require;\n        root.require.packaged = true;\n    }\n}\n\nexportAce(ACE_NAMESPACE);\n\n})();\n\ndefine(\"ace/lib/regexp\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\n    var real = {\n            exec: RegExp.prototype.exec,\n            test: RegExp.prototype.test,\n            match: String.prototype.match,\n            replace: String.prototype.replace,\n            split: String.prototype.split\n        },\n        compliantExecNpcg = real.exec.call(/()??/, \"\")[1] === undefined, // check `exec` handling of nonparticipating capturing groups\n        compliantLastIndexIncrement = function () {\n            var x = /^/g;\n            real.test.call(x, \"\");\n            return !x.lastIndex;\n        }();\n\n    if (compliantLastIndexIncrement && compliantExecNpcg)\n        return;\n    RegExp.prototype.exec = function (str) {\n        var match = real.exec.apply(this, arguments),\n            name, r2;\n        if ( typeof(str) == 'string' && match) {\n            if (!compliantExecNpcg && match.length > 1 && indexOf(match, \"\") > -1) {\n                r2 = RegExp(this.source, real.replace.call(getNativeFlags(this), \"g\", \"\"));\n                real.replace.call(str.slice(match.index), r2, function () {\n                    for (var i = 1; i < arguments.length - 2; i++) {\n                        if (arguments[i] === undefined)\n                            match[i] = undefined;\n                    }\n                });\n            }\n            if (this._xregexp && this._xregexp.captureNames) {\n                for (var i = 1; i < match.length; i++) {\n                    name = this._xregexp.captureNames[i - 1];\n                    if (name)\n                       match[name] = match[i];\n                }\n            }\n            if (!compliantLastIndexIncrement && this.global && !match[0].length && (this.lastIndex > match.index))\n                this.lastIndex--;\n        }\n        return match;\n    };\n    if (!compliantLastIndexIncrement) {\n        RegExp.prototype.test = function (str) {\n            var match = real.exec.call(this, str);\n            if (match && this.global && !match[0].length && (this.lastIndex > match.index))\n                this.lastIndex--;\n            return !!match;\n        };\n    }\n\n    function getNativeFlags (regex) {\n        return (regex.global     ? \"g\" : \"\") +\n               (regex.ignoreCase ? \"i\" : \"\") +\n               (regex.multiline  ? \"m\" : \"\") +\n               (regex.extended   ? \"x\" : \"\") + // Proposed for ES4; included in AS3\n               (regex.sticky     ? \"y\" : \"\");\n    }\n\n    function indexOf (array, item, from) {\n        if (Array.prototype.indexOf) // Use the native array method if available\n            return array.indexOf(item, from);\n        for (var i = from || 0; i < array.length; i++) {\n            if (array[i] === item)\n                return i;\n        }\n        return -1;\n    }\n\n});\n\ndefine(\"ace/lib/es5-shim\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\nfunction Empty() {}\n\nif (!Function.prototype.bind) {\n    Function.prototype.bind = function bind(that) { // .length is 1\n        var target = this;\n        if (typeof target != \"function\") {\n            throw new TypeError(\"Function.prototype.bind called on incompatible \" + target);\n        }\n        var args = slice.call(arguments, 1); // for normal call\n        var bound = function () {\n\n            if (this instanceof bound) {\n\n                var result = target.apply(\n                    this,\n                    args.concat(slice.call(arguments))\n                );\n                if (Object(result) === result) {\n                    return result;\n                }\n                return this;\n\n            } else {\n                return target.apply(\n                    that,\n                    args.concat(slice.call(arguments))\n                );\n\n            }\n\n        };\n        if(target.prototype) {\n            Empty.prototype = target.prototype;\n            bound.prototype = new Empty();\n            Empty.prototype = null;\n        }\n        return bound;\n    };\n}\nvar call = Function.prototype.call;\nvar prototypeOfArray = Array.prototype;\nvar prototypeOfObject = Object.prototype;\nvar slice = prototypeOfArray.slice;\nvar _toString = call.bind(prototypeOfObject.toString);\nvar owns = call.bind(prototypeOfObject.hasOwnProperty);\nvar defineGetter;\nvar defineSetter;\nvar lookupGetter;\nvar lookupSetter;\nvar supportsAccessors;\nif ((supportsAccessors = owns(prototypeOfObject, \"__defineGetter__\"))) {\n    defineGetter = call.bind(prototypeOfObject.__defineGetter__);\n    defineSetter = call.bind(prototypeOfObject.__defineSetter__);\n    lookupGetter = call.bind(prototypeOfObject.__lookupGetter__);\n    lookupSetter = call.bind(prototypeOfObject.__lookupSetter__);\n}\nif ([1,2].splice(0).length != 2) {\n    if(function() { // test IE < 9 to splice bug - see issue #138\n        function makeArray(l) {\n            var a = new Array(l+2);\n            a[0] = a[1] = 0;\n            return a;\n        }\n        var array = [], lengthBefore;\n        \n        array.splice.apply(array, makeArray(20));\n        array.splice.apply(array, makeArray(26));\n\n        lengthBefore = array.length; //46\n        array.splice(5, 0, \"XXX\"); // add one element\n\n        lengthBefore + 1 == array.length\n\n        if (lengthBefore + 1 == array.length) {\n            return true;// has right splice implementation without bugs\n        }\n    }()) {//IE 6/7\n        var array_splice = Array.prototype.splice;\n        Array.prototype.splice = function(start, deleteCount) {\n            if (!arguments.length) {\n                return [];\n            } else {\n                return array_splice.apply(this, [\n                    start === void 0 ? 0 : start,\n                    deleteCount === void 0 ? (this.length - start) : deleteCount\n                ].concat(slice.call(arguments, 2)))\n            }\n        };\n    } else {//IE8\n        Array.prototype.splice = function(pos, removeCount){\n            var length = this.length;\n            if (pos > 0) {\n                if (pos > length)\n                    pos = length;\n            } else if (pos == void 0) {\n                pos = 0;\n            } else if (pos < 0) {\n                pos = Math.max(length + pos, 0);\n            }\n\n            if (!(pos+removeCount < length))\n                removeCount = length - pos;\n\n            var removed = this.slice(pos, pos+removeCount);\n            var insert = slice.call(arguments, 2);\n            var add = insert.length;            \n            if (pos === length) {\n                if (add) {\n                    this.push.apply(this, insert);\n                }\n            } else {\n                var remove = Math.min(removeCount, length - pos);\n                var tailOldPos = pos + remove;\n                var tailNewPos = tailOldPos + add - remove;\n                var tailCount = length - tailOldPos;\n                var lengthAfterRemove = length - remove;\n\n                if (tailNewPos < tailOldPos) { // case A\n                    for (var i = 0; i < tailCount; ++i) {\n                        this[tailNewPos+i] = this[tailOldPos+i];\n                    }\n                } else if (tailNewPos > tailOldPos) { // case B\n                    for (i = tailCount; i--; ) {\n                        this[tailNewPos+i] = this[tailOldPos+i];\n                    }\n                } // else, add == remove (nothing to do)\n\n                if (add && pos === lengthAfterRemove) {\n                    this.length = lengthAfterRemove; // truncate array\n                    this.push.apply(this, insert);\n                } else {\n                    this.length = lengthAfterRemove + add; // reserves space\n                    for (i = 0; i < add; ++i) {\n                        this[pos+i] = insert[i];\n                    }\n                }\n            }\n            return removed;\n        };\n    }\n}\nif (!Array.isArray) {\n    Array.isArray = function isArray(obj) {\n        return _toString(obj) == \"[object Array]\";\n    };\n}\nvar boxedString = Object(\"a\"),\n    splitString = boxedString[0] != \"a\" || !(0 in boxedString);\n\nif (!Array.prototype.forEach) {\n    Array.prototype.forEach = function forEach(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            thisp = arguments[1],\n            i = -1,\n            length = self.length >>> 0;\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(); // TODO message\n        }\n\n        while (++i < length) {\n            if (i in self) {\n                fun.call(thisp, self[i], i, object);\n            }\n        }\n    };\n}\nif (!Array.prototype.map) {\n    Array.prototype.map = function map(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            result = Array(length),\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self)\n                result[i] = fun.call(thisp, self[i], i, object);\n        }\n        return result;\n    };\n}\nif (!Array.prototype.filter) {\n    Array.prototype.filter = function filter(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                    object,\n            length = self.length >>> 0,\n            result = [],\n            value,\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self) {\n                value = self[i];\n                if (fun.call(thisp, value, i, object)) {\n                    result.push(value);\n                }\n            }\n        }\n        return result;\n    };\n}\nif (!Array.prototype.every) {\n    Array.prototype.every = function every(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self && !fun.call(thisp, self[i], i, object)) {\n                return false;\n            }\n        }\n        return true;\n    };\n}\nif (!Array.prototype.some) {\n    Array.prototype.some = function some(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self && fun.call(thisp, self[i], i, object)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\nif (!Array.prototype.reduce) {\n    Array.prototype.reduce = function reduce(fun /*, initial*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0;\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n        if (!length && arguments.length == 1) {\n            throw new TypeError(\"reduce of empty array with no initial value\");\n        }\n\n        var i = 0;\n        var result;\n        if (arguments.length >= 2) {\n            result = arguments[1];\n        } else {\n            do {\n                if (i in self) {\n                    result = self[i++];\n                    break;\n                }\n                if (++i >= length) {\n                    throw new TypeError(\"reduce of empty array with no initial value\");\n                }\n            } while (true);\n        }\n\n        for (; i < length; i++) {\n            if (i in self) {\n                result = fun.call(void 0, result, self[i], i, object);\n            }\n        }\n\n        return result;\n    };\n}\nif (!Array.prototype.reduceRight) {\n    Array.prototype.reduceRight = function reduceRight(fun /*, initial*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0;\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n        if (!length && arguments.length == 1) {\n            throw new TypeError(\"reduceRight of empty array with no initial value\");\n        }\n\n        var result, i = length - 1;\n        if (arguments.length >= 2) {\n            result = arguments[1];\n        } else {\n            do {\n                if (i in self) {\n                    result = self[i--];\n                    break;\n                }\n                if (--i < 0) {\n                    throw new TypeError(\"reduceRight of empty array with no initial value\");\n                }\n            } while (true);\n        }\n\n        do {\n            if (i in this) {\n                result = fun.call(void 0, result, self[i], i, object);\n            }\n        } while (i--);\n\n        return result;\n    };\n}\nif (!Array.prototype.indexOf || ([0, 1].indexOf(1, 2) != -1)) {\n    Array.prototype.indexOf = function indexOf(sought /*, fromIndex */ ) {\n        var self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n\n        var i = 0;\n        if (arguments.length > 1) {\n            i = toInteger(arguments[1]);\n        }\n        i = i >= 0 ? i : Math.max(0, length + i);\n        for (; i < length; i++) {\n            if (i in self && self[i] === sought) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\nif (!Array.prototype.lastIndexOf || ([0, 1].lastIndexOf(0, -3) != -1)) {\n    Array.prototype.lastIndexOf = function lastIndexOf(sought /*, fromIndex */) {\n        var self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n        var i = length - 1;\n        if (arguments.length > 1) {\n            i = Math.min(i, toInteger(arguments[1]));\n        }\n        i = i >= 0 ? i : length - Math.abs(i);\n        for (; i >= 0; i--) {\n            if (i in self && sought === self[i]) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\nif (!Object.getPrototypeOf) {\n    Object.getPrototypeOf = function getPrototypeOf(object) {\n        return object.__proto__ || (\n            object.constructor ?\n            object.constructor.prototype :\n            prototypeOfObject\n        );\n    };\n}\nif (!Object.getOwnPropertyDescriptor) {\n    var ERR_NON_OBJECT = \"Object.getOwnPropertyDescriptor called on a \" +\n                         \"non-object: \";\n    Object.getOwnPropertyDescriptor = function getOwnPropertyDescriptor(object, property) {\n        if ((typeof object != \"object\" && typeof object != \"function\") || object === null)\n            throw new TypeError(ERR_NON_OBJECT + object);\n        if (!owns(object, property))\n            return;\n\n        var descriptor, getter, setter;\n        descriptor =  { enumerable: true, configurable: true };\n        if (supportsAccessors) {\n            var prototype = object.__proto__;\n            object.__proto__ = prototypeOfObject;\n\n            var getter = lookupGetter(object, property);\n            var setter = lookupSetter(object, property);\n            object.__proto__ = prototype;\n\n            if (getter || setter) {\n                if (getter) descriptor.get = getter;\n                if (setter) descriptor.set = setter;\n                return descriptor;\n            }\n        }\n        descriptor.value = object[property];\n        return descriptor;\n    };\n}\nif (!Object.getOwnPropertyNames) {\n    Object.getOwnPropertyNames = function getOwnPropertyNames(object) {\n        return Object.keys(object);\n    };\n}\nif (!Object.create) {\n    var createEmpty;\n    if (Object.prototype.__proto__ === null) {\n        createEmpty = function () {\n            return { \"__proto__\": null };\n        };\n    } else {\n        createEmpty = function () {\n            var empty = {};\n            for (var i in empty)\n                empty[i] = null;\n            empty.constructor =\n            empty.hasOwnProperty =\n            empty.propertyIsEnumerable =\n            empty.isPrototypeOf =\n            empty.toLocaleString =\n            empty.toString =\n            empty.valueOf =\n            empty.__proto__ = null;\n            return empty;\n        }\n    }\n\n    Object.create = function create(prototype, properties) {\n        var object;\n        if (prototype === null) {\n            object = createEmpty();\n        } else {\n            if (typeof prototype != \"object\")\n                throw new TypeError(\"typeof prototype[\"+(typeof prototype)+\"] != 'object'\");\n            var Type = function () {};\n            Type.prototype = prototype;\n            object = new Type();\n            object.__proto__ = prototype;\n        }\n        if (properties !== void 0)\n            Object.defineProperties(object, properties);\n        return object;\n    };\n}\n\nfunction doesDefinePropertyWork(object) {\n    try {\n        Object.defineProperty(object, \"sentinel\", {});\n        return \"sentinel\" in object;\n    } catch (exception) {\n    }\n}\nif (Object.defineProperty) {\n    var definePropertyWorksOnObject = doesDefinePropertyWork({});\n    var definePropertyWorksOnDom = typeof document == \"undefined\" ||\n        doesDefinePropertyWork(document.createElement(\"div\"));\n    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom) {\n        var definePropertyFallback = Object.defineProperty;\n    }\n}\n\nif (!Object.defineProperty || definePropertyFallback) {\n    var ERR_NON_OBJECT_DESCRIPTOR = \"Property description must be an object: \";\n    var ERR_NON_OBJECT_TARGET = \"Object.defineProperty called on non-object: \"\n    var ERR_ACCESSORS_NOT_SUPPORTED = \"getters & setters can not be defined \" +\n                                      \"on this javascript engine\";\n\n    Object.defineProperty = function defineProperty(object, property, descriptor) {\n        if ((typeof object != \"object\" && typeof object != \"function\") || object === null)\n            throw new TypeError(ERR_NON_OBJECT_TARGET + object);\n        if ((typeof descriptor != \"object\" && typeof descriptor != \"function\") || descriptor === null)\n            throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);\n        if (definePropertyFallback) {\n            try {\n                return definePropertyFallback.call(Object, object, property, descriptor);\n            } catch (exception) {\n            }\n        }\n        if (owns(descriptor, \"value\")) {\n\n            if (supportsAccessors && (lookupGetter(object, property) ||\n                                      lookupSetter(object, property)))\n            {\n                var prototype = object.__proto__;\n                object.__proto__ = prototypeOfObject;\n                delete object[property];\n                object[property] = descriptor.value;\n                object.__proto__ = prototype;\n            } else {\n                object[property] = descriptor.value;\n            }\n        } else {\n            if (!supportsAccessors)\n                throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n            if (owns(descriptor, \"get\"))\n                defineGetter(object, property, descriptor.get);\n            if (owns(descriptor, \"set\"))\n                defineSetter(object, property, descriptor.set);\n        }\n\n        return object;\n    };\n}\nif (!Object.defineProperties) {\n    Object.defineProperties = function defineProperties(object, properties) {\n        for (var property in properties) {\n            if (owns(properties, property))\n                Object.defineProperty(object, property, properties[property]);\n        }\n        return object;\n    };\n}\nif (!Object.seal) {\n    Object.seal = function seal(object) {\n        return object;\n    };\n}\nif (!Object.freeze) {\n    Object.freeze = function freeze(object) {\n        return object;\n    };\n}\ntry {\n    Object.freeze(function () {});\n} catch (exception) {\n    Object.freeze = (function freeze(freezeObject) {\n        return function freeze(object) {\n            if (typeof object == \"function\") {\n                return object;\n            } else {\n                return freezeObject(object);\n            }\n        };\n    })(Object.freeze);\n}\nif (!Object.preventExtensions) {\n    Object.preventExtensions = function preventExtensions(object) {\n        return object;\n    };\n}\nif (!Object.isSealed) {\n    Object.isSealed = function isSealed(object) {\n        return false;\n    };\n}\nif (!Object.isFrozen) {\n    Object.isFrozen = function isFrozen(object) {\n        return false;\n    };\n}\nif (!Object.isExtensible) {\n    Object.isExtensible = function isExtensible(object) {\n        if (Object(object) === object) {\n            throw new TypeError(); // TODO message\n        }\n        var name = '';\n        while (owns(object, name)) {\n            name += '?';\n        }\n        object[name] = true;\n        var returnValue = owns(object, name);\n        delete object[name];\n        return returnValue;\n    };\n}\nif (!Object.keys) {\n    var hasDontEnumBug = true,\n        dontEnums = [\n            \"toString\",\n            \"toLocaleString\",\n            \"valueOf\",\n            \"hasOwnProperty\",\n            \"isPrototypeOf\",\n            \"propertyIsEnumerable\",\n            \"constructor\"\n        ],\n        dontEnumsLength = dontEnums.length;\n\n    for (var key in {\"toString\": null}) {\n        hasDontEnumBug = false;\n    }\n\n    Object.keys = function keys(object) {\n\n        if (\n            (typeof object != \"object\" && typeof object != \"function\") ||\n            object === null\n        ) {\n            throw new TypeError(\"Object.keys called on a non-object\");\n        }\n\n        var keys = [];\n        for (var name in object) {\n            if (owns(object, name)) {\n                keys.push(name);\n            }\n        }\n\n        if (hasDontEnumBug) {\n            for (var i = 0, ii = dontEnumsLength; i < ii; i++) {\n                var dontEnum = dontEnums[i];\n                if (owns(object, dontEnum)) {\n                    keys.push(dontEnum);\n                }\n            }\n        }\n        return keys;\n    };\n\n}\nif (!Date.now) {\n    Date.now = function now() {\n        return new Date().getTime();\n    };\n}\nvar ws = \"\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u2000\\u2001\\u2002\\u2003\" +\n    \"\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\" +\n    \"\\u2029\\uFEFF\";\nif (!String.prototype.trim) {\n    ws = \"[\" + ws + \"]\";\n    var trimBeginRegexp = new RegExp(\"^\" + ws + ws + \"*\"),\n        trimEndRegexp = new RegExp(ws + ws + \"*$\");\n    String.prototype.trim = function trim() {\n        return String(this).replace(trimBeginRegexp, \"\").replace(trimEndRegexp, \"\");\n    };\n}\n\nfunction toInteger(n) {\n    n = +n;\n    if (n !== n) { // isNaN\n        n = 0;\n    } else if (n !== 0 && n !== (1/0) && n !== -(1/0)) {\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\n    }\n    return n;\n}\n\nfunction isPrimitive(input) {\n    var type = typeof input;\n    return (\n        input === null ||\n        type === \"undefined\" ||\n        type === \"boolean\" ||\n        type === \"number\" ||\n        type === \"string\"\n    );\n}\n\nfunction toPrimitive(input) {\n    var val, valueOf, toString;\n    if (isPrimitive(input)) {\n        return input;\n    }\n    valueOf = input.valueOf;\n    if (typeof valueOf === \"function\") {\n        val = valueOf.call(input);\n        if (isPrimitive(val)) {\n            return val;\n        }\n    }\n    toString = input.toString;\n    if (typeof toString === \"function\") {\n        val = toString.call(input);\n        if (isPrimitive(val)) {\n            return val;\n        }\n    }\n    throw new TypeError();\n}\nvar toObject = function (o) {\n    if (o == null) { // this matches both null and undefined\n        throw new TypeError(\"can't convert \"+o+\" to object\");\n    }\n    return Object(o);\n};\n\n});\n\ndefine(\"ace/lib/fixoldbrowsers\",[\"require\",\"exports\",\"module\",\"ace/lib/regexp\",\"ace/lib/es5-shim\"], function(require, exports, module) {\n\"use strict\";\n\nrequire(\"./regexp\");\nrequire(\"./es5-shim\");\nif (typeof Element != \"undefined\" && !Element.prototype.remove) {\n    Object.defineProperty(Element.prototype, \"remove\", {\n        enumerable: false,\n        writable: true,\n        configurable: true,\n        value: function() { this.parentNode && this.parentNode.removeChild(this); }\n    });\n}\n\n\n});\n\ndefine(\"ace/lib/useragent\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nexports.OS = {\n    LINUX: \"LINUX\",\n    MAC: \"MAC\",\n    WINDOWS: \"WINDOWS\"\n};\nexports.getOS = function() {\n    if (exports.isMac) {\n        return exports.OS.MAC;\n    } else if (exports.isLinux) {\n        return exports.OS.LINUX;\n    } else {\n        return exports.OS.WINDOWS;\n    }\n};\nvar _navigator = typeof navigator == \"object\" ? navigator : {};\n\nvar os = (/mac|win|linux/i.exec(_navigator.platform) || [\"other\"])[0].toLowerCase();\nvar ua = _navigator.userAgent || \"\";\nvar appName = _navigator.appName || \"\";\nexports.isWin = (os == \"win\");\nexports.isMac = (os == \"mac\");\nexports.isLinux = (os == \"linux\");\nexports.isIE = \n    (appName == \"Microsoft Internet Explorer\" || appName.indexOf(\"MSAppHost\") >= 0)\n    ? parseFloat((ua.match(/(?:MSIE |Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/)||[])[1])\n    : parseFloat((ua.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/)||[])[1]); // for ie\n    \nexports.isOldIE = exports.isIE && exports.isIE < 9;\nexports.isGecko = exports.isMozilla = ua.match(/ Gecko\\/\\d+/);\nexports.isOpera = typeof opera == \"object\" && Object.prototype.toString.call(window.opera) == \"[object Opera]\";\nexports.isWebKit = parseFloat(ua.split(\"WebKit/\")[1]) || undefined;\n\nexports.isChrome = parseFloat(ua.split(\" Chrome/\")[1]) || undefined;\n\nexports.isEdge = parseFloat(ua.split(\" Edge/\")[1]) || undefined;\n\nexports.isAIR = ua.indexOf(\"AdobeAIR\") >= 0;\n\nexports.isAndroid = ua.indexOf(\"Android\") >= 0;\n\nexports.isChromeOS = ua.indexOf(\" CrOS \") >= 0;\n\nexports.isIOS = /iPad|iPhone|iPod/.test(ua) && !window.MSStream;\n\nif (exports.isIOS) exports.isMac = true;\n\nexports.isMobile = exports.isIOS || exports.isAndroid;\n\n});\n\ndefine(\"ace/lib/dom\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar useragent = require(\"./useragent\"); \nvar XHTML_NS = \"http://www.w3.org/1999/xhtml\";\n\nexports.buildDom = function buildDom(arr, parent, refs) {\n    if (typeof arr == \"string\" && arr) {\n        var txt = document.createTextNode(arr);\n        if (parent)\n            parent.appendChild(txt);\n        return txt;\n    }\n    \n    if (!Array.isArray(arr))\n        return arr;\n    if (typeof arr[0] != \"string\" || !arr[0]) {\n        var els = [];\n        for (var i = 0; i < arr.length; i++) {\n            var ch = buildDom(arr[i], parent, refs);\n            ch && els.push(ch);\n        }\n        return els;\n    }\n    \n    var el = document.createElement(arr[0]);\n    var options = arr[1];\n    var childIndex = 1;\n    if (options && typeof options == \"object\" && !Array.isArray(options))\n        childIndex = 2;\n    for (var i = childIndex; i < arr.length; i++)\n        buildDom(arr[i], el, refs);\n    if (childIndex == 2) {\n        Object.keys(options).forEach(function(n) {\n            var val = options[n];\n            if (n === \"class\") {\n                el.className = Array.isArray(val) ? val.join(\" \") : val;\n            } else if (typeof val == \"function\" || n == \"value\") {\n                el[n] = val;\n            } else if (n === \"ref\") {\n                if (refs) refs[val] = el;\n            } else if (val != null) {\n                el.setAttribute(n, val);\n            }\n        });\n    }\n    if (parent)\n        parent.appendChild(el);\n    return el;\n};\n\nexports.getDocumentHead = function(doc) {\n    if (!doc)\n        doc = document;\n    return doc.head || doc.getElementsByTagName(\"head\")[0] || doc.documentElement;\n};\n\nexports.createElement = function(tag, ns) {\n    return document.createElementNS ?\n           document.createElementNS(ns || XHTML_NS, tag) :\n           document.createElement(tag);\n};\n\nexports.removeChildren = function(element) {\n    element.innerHTML = \"\";\n};\n\nexports.createTextNode = function(textContent, element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createTextNode(textContent);\n};\n\nexports.createFragment = function(element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createDocumentFragment();\n};\n\nexports.hasCssClass = function(el, name) {\n    var classes = (el.className + \"\").split(/\\s+/g);\n    return classes.indexOf(name) !== -1;\n};\nexports.addCssClass = function(el, name) {\n    if (!exports.hasCssClass(el, name)) {\n        el.className += \" \" + name;\n    }\n};\nexports.removeCssClass = function(el, name) {\n    var classes = el.className.split(/\\s+/g);\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        classes.splice(index, 1);\n    }\n    el.className = classes.join(\" \");\n};\n\nexports.toggleCssClass = function(el, name) {\n    var classes = el.className.split(/\\s+/g), add = true;\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        add = false;\n        classes.splice(index, 1);\n    }\n    if (add)\n        classes.push(name);\n\n    el.className = classes.join(\" \");\n    return add;\n};\nexports.setCssClass = function(node, className, include) {\n    if (include) {\n        exports.addCssClass(node, className);\n    } else {\n        exports.removeCssClass(node, className);\n    }\n};\n\nexports.hasCssString = function(id, doc) {\n    var index = 0, sheets;\n    doc = doc || document;\n    if ((sheets = doc.querySelectorAll(\"style\"))) {\n        while (index < sheets.length)\n            if (sheets[index++].id === id)\n                return true;\n    }\n};\n\nexports.importCssString = function importCssString(cssText, id, target) {\n    var container = target;\n    if (!target || !target.getRootNode) {\n        container = document;\n    } else {\n        container = target.getRootNode();\n        if (!container || container == target)\n            container = document;\n    }\n    \n    var doc = container.ownerDocument || container;\n    if (id && exports.hasCssString(id, container))\n        return null;\n    \n    if (id)\n        cssText += \"\\n/*# sourceURL=ace/css/\" + id + \" */\";\n    \n    var style = exports.createElement(\"style\");\n    style.appendChild(doc.createTextNode(cssText));\n    if (id)\n        style.id = id;\n\n    if (container == doc)\n        container = exports.getDocumentHead(doc);\n    container.insertBefore(style, container.firstChild);\n};\n\nexports.importCssStylsheet = function(uri, doc) {\n    exports.buildDom([\"link\", {rel: \"stylesheet\", href: uri}], exports.getDocumentHead(doc));\n};\nexports.scrollbarWidth = function(document) {\n    var inner = exports.createElement(\"ace_inner\");\n    inner.style.width = \"100%\";\n    inner.style.minWidth = \"0px\";\n    inner.style.height = \"200px\";\n    inner.style.display = \"block\";\n\n    var outer = exports.createElement(\"ace_outer\");\n    var style = outer.style;\n\n    style.position = \"absolute\";\n    style.left = \"-10000px\";\n    style.overflow = \"hidden\";\n    style.width = \"200px\";\n    style.minWidth = \"0px\";\n    style.height = \"150px\";\n    style.display = \"block\";\n\n    outer.appendChild(inner);\n\n    var body = document.documentElement;\n    body.appendChild(outer);\n\n    var noScrollbar = inner.offsetWidth;\n\n    style.overflow = \"scroll\";\n    var withScrollbar = inner.offsetWidth;\n\n    if (noScrollbar == withScrollbar) {\n        withScrollbar = outer.clientWidth;\n    }\n\n    body.removeChild(outer);\n\n    return noScrollbar-withScrollbar;\n};\n\nif (typeof document == \"undefined\") {\n    exports.importCssString = function() {};\n}\n\nexports.computedStyle = function(element, style) {\n    return window.getComputedStyle(element, \"\") || {};\n};\n\nexports.setStyle = function(styles, property, value) {\n    if (styles[property] !== value) {\n        styles[property] = value;\n    }\n};\n\nexports.HAS_CSS_ANIMATION = false;\nexports.HAS_CSS_TRANSFORMS = false;\nexports.HI_DPI = useragent.isWin\n    ? typeof window !== \"undefined\" && window.devicePixelRatio >= 1.5\n    : true;\n\nif (typeof document !== \"undefined\") {\n    var div = document.createElement(\"div\");\n    if (exports.HI_DPI && div.style.transform  !== undefined)\n        exports.HAS_CSS_TRANSFORMS = true;\n    if (!useragent.isEdge && typeof div.style.animationName !== \"undefined\")\n        exports.HAS_CSS_ANIMATION = true;\n    div = null;\n}\n\nif (exports.HAS_CSS_TRANSFORMS) {\n    exports.translate = function(element, tx, ty) {\n        element.style.transform = \"translate(\" + Math.round(tx) + \"px, \" + Math.round(ty) +\"px)\";\n    };\n} else {\n    exports.translate = function(element, tx, ty) {\n        element.style.top = Math.round(ty) + \"px\";\n        element.style.left = Math.round(tx) + \"px\";\n    };\n}\n\n});\n\ndefine(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nexports.inherits = function(ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n            value: ctor,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        }\n    });\n};\n\nexports.mixin = function(obj, mixin) {\n    for (var key in mixin) {\n        obj[key] = mixin[key];\n    }\n    return obj;\n};\n\nexports.implement = function(proto, mixin) {\n    exports.mixin(proto, mixin);\n};\n\n});\n\ndefine(\"ace/lib/keys\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./oop\");\nvar Keys = (function() {\n    var ret = {\n        MODIFIER_KEYS: {\n            16: 'Shift', 17: 'Ctrl', 18: 'Alt', 224: 'Meta',\n            91: 'MetaLeft', 92: 'MetaRight', 93: 'ContextMenu'\n        },\n\n        KEY_MODS: {\n            \"ctrl\": 1, \"alt\": 2, \"option\" : 2, \"shift\": 4,\n            \"super\": 8, \"meta\": 8, \"command\": 8, \"cmd\": 8\n        },\n\n        FUNCTION_KEYS : {\n            8  : \"Backspace\",\n            9  : \"Tab\",\n            13 : \"Return\",\n            19 : \"Pause\",\n            27 : \"Esc\",\n            32 : \"Space\",\n            33 : \"PageUp\",\n            34 : \"PageDown\",\n            35 : \"End\",\n            36 : \"Home\",\n            37 : \"Left\",\n            38 : \"Up\",\n            39 : \"Right\",\n            40 : \"Down\",\n            44 : \"Print\",\n            45 : \"Insert\",\n            46 : \"Delete\",\n            96 : \"Numpad0\",\n            97 : \"Numpad1\",\n            98 : \"Numpad2\",\n            99 : \"Numpad3\",\n            100: \"Numpad4\",\n            101: \"Numpad5\",\n            102: \"Numpad6\",\n            103: \"Numpad7\",\n            104: \"Numpad8\",\n            105: \"Numpad9\",\n            '-13': \"NumpadEnter\",\n            112: \"F1\",\n            113: \"F2\",\n            114: \"F3\",\n            115: \"F4\",\n            116: \"F5\",\n            117: \"F6\",\n            118: \"F7\",\n            119: \"F8\",\n            120: \"F9\",\n            121: \"F10\",\n            122: \"F11\",\n            123: \"F12\",\n            144: \"Numlock\",\n            145: \"Scrolllock\"\n        },\n\n        PRINTABLE_KEYS: {\n           32: ' ',  48: '0',  49: '1',  50: '2',  51: '3',  52: '4', 53:  '5',\n           54: '6',  55: '7',  56: '8',  57: '9',  59: ';',  61: '=', 65:  'a',\n           66: 'b',  67: 'c',  68: 'd',  69: 'e',  70: 'f',  71: 'g', 72:  'h',\n           73: 'i',  74: 'j',  75: 'k',  76: 'l',  77: 'm',  78: 'n', 79:  'o',\n           80: 'p',  81: 'q',  82: 'r',  83: 's',  84: 't',  85: 'u', 86:  'v',\n           87: 'w',  88: 'x',  89: 'y',  90: 'z', 107: '+', 109: '-', 110: '.',\n          186: ';', 187: '=', 188: ',', 189: '-', 190: '.', 191: '/', 192: '`',\n          219: '[', 220: '\\\\',221: ']', 222: \"'\", 111: '/', 106: '*'\n        }\n    };\n    var name, i;\n    for (i in ret.FUNCTION_KEYS) {\n        name = ret.FUNCTION_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    for (i in ret.PRINTABLE_KEYS) {\n        name = ret.PRINTABLE_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    oop.mixin(ret, ret.MODIFIER_KEYS);\n    oop.mixin(ret, ret.PRINTABLE_KEYS);\n    oop.mixin(ret, ret.FUNCTION_KEYS);\n    ret.enter = ret[\"return\"];\n    ret.escape = ret.esc;\n    ret.del = ret[\"delete\"];\n    ret[173] = '-';\n    \n    (function() {\n        var mods = [\"cmd\", \"ctrl\", \"alt\", \"shift\"];\n        for (var i = Math.pow(2, mods.length); i--;) {            \n            ret.KEY_MODS[i] = mods.filter(function(x) {\n                return i & ret.KEY_MODS[x];\n            }).join(\"-\") + \"-\";\n        }\n    })();\n\n    ret.KEY_MODS[0] = \"\";\n    ret.KEY_MODS[-1] = \"input-\";\n\n    return ret;\n})();\noop.mixin(exports, Keys);\n\nexports.keyCodeToString = function(keyCode) {\n    var keyString = Keys[keyCode];\n    if (typeof keyString != \"string\")\n        keyString = String.fromCharCode(keyCode);\n    return keyString.toLowerCase();\n};\n\n});\n\ndefine(\"ace/lib/event\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar keys = require(\"./keys\");\nvar useragent = require(\"./useragent\");\n\nvar pressedKeys = null;\nvar ts = 0;\n\nvar activeListenerOptions;\nfunction detectListenerOptionsSupport() {\n    activeListenerOptions = false;\n    try {\n        document.createComment(\"\").addEventListener(\"test\", function() {}, { \n            get passive() { \n                activeListenerOptions = {passive: false};\n            }\n        });\n    } catch(e) {}\n}\n\nfunction getListenerOptions() {\n    if (activeListenerOptions == undefined)\n        detectListenerOptionsSupport();\n    return activeListenerOptions;\n}\n\nexports.addListener = function(elem, type, callback) {\n    return elem.addEventListener(type, callback, getListenerOptions());\n};\n\nexports.removeListener = function(elem, type, callback) {\n    return elem.removeEventListener(type, callback, getListenerOptions());\n};\nexports.stopEvent = function(e) {\n    exports.stopPropagation(e);\n    exports.preventDefault(e);\n    return false;\n};\n\nexports.stopPropagation = function(e) {\n    if (e.stopPropagation)\n        e.stopPropagation();\n};\n\nexports.preventDefault = function(e) {\n    if (e.preventDefault)\n        e.preventDefault();\n};\nexports.getButton = function(e) {\n    if (e.type == \"dblclick\")\n        return 0;\n    if (e.type == \"contextmenu\" || (useragent.isMac && (e.ctrlKey && !e.altKey && !e.shiftKey)))\n        return 2;\n    return e.button;\n};\n\nexports.capture = function(el, eventHandler, releaseCaptureHandler) {\n    function onMouseUp(e) {\n        eventHandler && eventHandler(e);\n        releaseCaptureHandler && releaseCaptureHandler(e);\n\n        exports.removeListener(document, \"mousemove\", eventHandler, true);\n        exports.removeListener(document, \"mouseup\", onMouseUp, true);\n        exports.removeListener(document, \"dragstart\", onMouseUp, true);\n    }\n\n    exports.addListener(document, \"mousemove\", eventHandler, true);\n    exports.addListener(document, \"mouseup\", onMouseUp, true);\n    exports.addListener(document, \"dragstart\", onMouseUp, true);\n    \n    return onMouseUp;\n};\n\nexports.addMouseWheelListener = function(el, callback) {\n    if (\"onmousewheel\" in el) {\n        exports.addListener(el, \"mousewheel\", function(e) {\n            var factor = 8;\n            if (e.wheelDeltaX !== undefined) {\n                e.wheelX = -e.wheelDeltaX / factor;\n                e.wheelY = -e.wheelDeltaY / factor;\n            } else {\n                e.wheelX = 0;\n                e.wheelY = -e.wheelDelta / factor;\n            }\n            callback(e);\n        });\n    } else if (\"onwheel\" in el) {\n        exports.addListener(el, \"wheel\",  function(e) {\n            var factor = 0.35;\n            switch (e.deltaMode) {\n                case e.DOM_DELTA_PIXEL:\n                    e.wheelX = e.deltaX * factor || 0;\n                    e.wheelY = e.deltaY * factor || 0;\n                    break;\n                case e.DOM_DELTA_LINE:\n                case e.DOM_DELTA_PAGE:\n                    e.wheelX = (e.deltaX || 0) * 5;\n                    e.wheelY = (e.deltaY || 0) * 5;\n                    break;\n            }\n            \n            callback(e);\n        });\n    } else {\n        exports.addListener(el, \"DOMMouseScroll\", function(e) {\n            if (e.axis && e.axis == e.HORIZONTAL_AXIS) {\n                e.wheelX = (e.detail || 0) * 5;\n                e.wheelY = 0;\n            } else {\n                e.wheelX = 0;\n                e.wheelY = (e.detail || 0) * 5;\n            }\n            callback(e);\n        });\n    }\n};\n\nexports.addMultiMouseDownListener = function(elements, timeouts, eventHandler, callbackName) {\n    var clicks = 0;\n    var startX, startY, timer; \n    var eventNames = {\n        2: \"dblclick\",\n        3: \"tripleclick\",\n        4: \"quadclick\"\n    };\n\n    function onMousedown(e) {\n        if (exports.getButton(e) !== 0) {\n            clicks = 0;\n        } else if (e.detail > 1) {\n            clicks++;\n            if (clicks > 4)\n                clicks = 1;\n        } else {\n            clicks = 1;\n        }\n        if (useragent.isIE) {\n            var isNewClick = Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5;\n            if (!timer || isNewClick)\n                clicks = 1;\n            if (timer)\n                clearTimeout(timer);\n            timer = setTimeout(function() {timer = null;}, timeouts[clicks - 1] || 600);\n\n            if (clicks == 1) {\n                startX = e.clientX;\n                startY = e.clientY;\n            }\n        }\n        \n        e._clicks = clicks;\n\n        eventHandler[callbackName](\"mousedown\", e);\n\n        if (clicks > 4)\n            clicks = 0;\n        else if (clicks > 1)\n            return eventHandler[callbackName](eventNames[clicks], e);\n    }\n    if (!Array.isArray(elements))\n        elements = [elements];\n    elements.forEach(function(el) {\n        exports.addListener(el, \"mousedown\", onMousedown);\n    });\n};\n\nvar getModifierHash = function(e) {\n    return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n};\n\nexports.getModifierString = function(e) {\n    return keys.KEY_MODS[getModifierHash(e)];\n};\n\nfunction normalizeCommandKeys(callback, e, keyCode) {\n    var hashId = getModifierHash(e);\n\n    if (!useragent.isMac && pressedKeys) {\n        if (e.getModifierState && (e.getModifierState(\"OS\") || e.getModifierState(\"Win\")))\n            hashId |= 8;\n        if (pressedKeys.altGr) {\n            if ((3 & hashId) != 3)\n                pressedKeys.altGr = 0;\n            else\n                return;\n        }\n        if (keyCode === 18 || keyCode === 17) {\n            var location = \"location\" in e ? e.location : e.keyLocation;\n            if (keyCode === 17 && location === 1) {\n                if (pressedKeys[keyCode] == 1)\n                    ts = e.timeStamp;\n            } else if (keyCode === 18 && hashId === 3 && location === 2) {\n                var dt = e.timeStamp - ts;\n                if (dt < 50)\n                    pressedKeys.altGr = true;\n            }\n        }\n    }\n    \n    if (keyCode in keys.MODIFIER_KEYS) {\n        keyCode = -1;\n    }\n    \n    if (!hashId && keyCode === 13) {\n        var location = \"location\" in e ? e.location : e.keyLocation;\n        if (location === 3) {\n            callback(e, hashId, -keyCode);\n            if (e.defaultPrevented)\n                return;\n        }\n    }\n    \n    if (useragent.isChromeOS && hashId & 8) {\n        callback(e, hashId, keyCode);\n        if (e.defaultPrevented)\n            return;\n        else\n            hashId &= ~8;\n    }\n    if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {\n        return false;\n    }\n    \n    return callback(e, hashId, keyCode);\n}\n\n\nexports.addCommandKeyListener = function(el, callback) {\n    var addListener = exports.addListener;\n    if (useragent.isOldGecko || (useragent.isOpera && !(\"KeyboardEvent\" in window))) {\n        var lastKeyDownKeyCode = null;\n        addListener(el, \"keydown\", function(e) {\n            lastKeyDownKeyCode = e.keyCode;\n        });\n        addListener(el, \"keypress\", function(e) {\n            return normalizeCommandKeys(callback, e, lastKeyDownKeyCode);\n        });\n    } else {\n        var lastDefaultPrevented = null;\n\n        addListener(el, \"keydown\", function(e) {\n            pressedKeys[e.keyCode] = (pressedKeys[e.keyCode] || 0) + 1;\n            var result = normalizeCommandKeys(callback, e, e.keyCode);\n            lastDefaultPrevented = e.defaultPrevented;\n            return result;\n        });\n\n        addListener(el, \"keypress\", function(e) {\n            if (lastDefaultPrevented && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)) {\n                exports.stopEvent(e);\n                lastDefaultPrevented = null;\n            }\n        });\n\n        addListener(el, \"keyup\", function(e) {\n            pressedKeys[e.keyCode] = null;\n        });\n\n        if (!pressedKeys) {\n            resetPressedKeys();\n            addListener(window, \"focus\", resetPressedKeys);\n        }\n    }\n};\nfunction resetPressedKeys() {\n    pressedKeys = Object.create(null);\n}\n\nif (typeof window == \"object\" && window.postMessage && !useragent.isOldIE) {\n    var postMessageId = 1;\n    exports.nextTick = function(callback, win) {\n        win = win || window;\n        var messageName = \"zero-timeout-message-\" + (postMessageId++);\n        \n        var listener = function(e) {\n            if (e.data == messageName) {\n                exports.stopPropagation(e);\n                exports.removeListener(win, \"message\", listener);\n                callback();\n            }\n        };\n        \n        exports.addListener(win, \"message\", listener);\n        win.postMessage(messageName, \"*\");\n    };\n}\n\nexports.$idleBlocked = false;\nexports.onIdle = function(cb, timeout) {\n    return setTimeout(function handler() {\n        if (!exports.$idleBlocked) {\n            cb();\n        } else {\n            setTimeout(handler, 100);\n        }\n    }, timeout);\n};\n\nexports.$idleBlockId = null;\nexports.blockIdle = function(delay) {\n    if (exports.$idleBlockId)\n        clearTimeout(exports.$idleBlockId);\n        \n    exports.$idleBlocked = true;\n    exports.$idleBlockId = setTimeout(function() {\n        exports.$idleBlocked = false;\n    }, delay || 100);\n};\n\nexports.nextFrame = typeof window == \"object\" && (window.requestAnimationFrame\n    || window.mozRequestAnimationFrame\n    || window.webkitRequestAnimationFrame\n    || window.msRequestAnimationFrame\n    || window.oRequestAnimationFrame);\n\nif (exports.nextFrame)\n    exports.nextFrame = exports.nextFrame.bind(window);\nelse\n    exports.nextFrame = function(callback) {\n        setTimeout(callback, 17);\n    };\n});\n\ndefine(\"ace/range\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nvar comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nvar Range = function(startRow, startColumn, endRow, endColumn) {\n    this.start = {\n        row: startRow,\n        column: startColumn\n    };\n\n    this.end = {\n        row: endRow,\n        column: endColumn\n    };\n};\n\n(function() {\n    this.isEqual = function(range) {\n        return this.start.row === range.start.row &&\n            this.end.row === range.end.row &&\n            this.start.column === range.start.column &&\n            this.end.column === range.end.column;\n    };\n    this.toString = function() {\n        return (\"Range: [\" + this.start.row + \"/\" + this.start.column +\n            \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\");\n    };\n\n    this.contains = function(row, column) {\n        return this.compare(row, column) == 0;\n    };\n    this.compareRange = function(range) {\n        var cmp,\n            end = range.end,\n            start = range.start;\n\n        cmp = this.compare(end.row, end.column);\n        if (cmp == 1) {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == 1) {\n                return 2;\n            } else if (cmp == 0) {\n                return 1;\n            } else {\n                return 0;\n            }\n        } else if (cmp == -1) {\n            return -2;\n        } else {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == -1) {\n                return -1;\n            } else if (cmp == 1) {\n                return 42;\n            } else {\n                return 0;\n            }\n        }\n    };\n    this.comparePoint = function(p) {\n        return this.compare(p.row, p.column);\n    };\n    this.containsRange = function(range) {\n        return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n    this.intersects = function(range) {\n        var cmp = this.compareRange(range);\n        return (cmp == -1 || cmp == 0 || cmp == 1);\n    };\n    this.isEnd = function(row, column) {\n        return this.end.row == row && this.end.column == column;\n    };\n    this.isStart = function(row, column) {\n        return this.start.row == row && this.start.column == column;\n    };\n    this.setStart = function(row, column) {\n        if (typeof row == \"object\") {\n            this.start.column = row.column;\n            this.start.row = row.row;\n        } else {\n            this.start.row = row;\n            this.start.column = column;\n        }\n    };\n    this.setEnd = function(row, column) {\n        if (typeof row == \"object\") {\n            this.end.column = row.column;\n            this.end.row = row.row;\n        } else {\n            this.end.row = row;\n            this.end.column = column;\n        }\n    };\n    this.inside = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column) || this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideStart = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideEnd = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.compare = function(row, column) {\n        if (!this.isMultiLine()) {\n            if (row === this.start.row) {\n                return column < this.start.column ? -1 : (column > this.end.column ? 1 : 0);\n            }\n        }\n\n        if (row < this.start.row)\n            return -1;\n\n        if (row > this.end.row)\n            return 1;\n\n        if (this.start.row === row)\n            return column >= this.start.column ? 0 : -1;\n\n        if (this.end.row === row)\n            return column <= this.end.column ? 0 : 1;\n\n        return 0;\n    };\n    this.compareStart = function(row, column) {\n        if (this.start.row == row && this.start.column == column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareEnd = function(row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareInside = function(row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        } else if (this.start.row == row && this.start.column == column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.clipRows = function(firstRow, lastRow) {\n        if (this.end.row > lastRow)\n            var end = {row: lastRow + 1, column: 0};\n        else if (this.end.row < firstRow)\n            var end = {row: firstRow, column: 0};\n\n        if (this.start.row > lastRow)\n            var start = {row: lastRow + 1, column: 0};\n        else if (this.start.row < firstRow)\n            var start = {row: firstRow, column: 0};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.extend = function(row, column) {\n        var cmp = this.compare(row, column);\n\n        if (cmp == 0)\n            return this;\n        else if (cmp == -1)\n            var start = {row: row, column: column};\n        else\n            var end = {row: row, column: column};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n\n    this.isEmpty = function() {\n        return (this.start.row === this.end.row && this.start.column === this.end.column);\n    };\n    this.isMultiLine = function() {\n        return (this.start.row !== this.end.row);\n    };\n    this.clone = function() {\n        return Range.fromPoints(this.start, this.end);\n    };\n    this.collapseRows = function() {\n        if (this.end.column == 0)\n            return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row-1), 0);\n        else\n            return new Range(this.start.row, 0, this.end.row, 0);\n    };\n    this.toScreenRange = function(session) {\n        var screenPosStart = session.documentToScreenPosition(this.start);\n        var screenPosEnd = session.documentToScreenPosition(this.end);\n\n        return new Range(\n            screenPosStart.row, screenPosStart.column,\n            screenPosEnd.row, screenPosEnd.column\n        );\n    };\n    this.moveBy = function(row, column) {\n        this.start.row += row;\n        this.start.column += column;\n        this.end.row += row;\n        this.end.column += column;\n    };\n\n}).call(Range.prototype);\nRange.fromPoints = function(start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n};\nRange.comparePoints = comparePoints;\n\nRange.comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\n\n\nexports.Range = Range;\n});\n\ndefine(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nexports.last = function(a) {\n    return a[a.length - 1];\n};\n\nexports.stringReverse = function(string) {\n    return string.split(\"\").reverse().join(\"\");\n};\n\nexports.stringRepeat = function (string, count) {\n    var result = '';\n    while (count > 0) {\n        if (count & 1)\n            result += string;\n\n        if (count >>= 1)\n            string += string;\n    }\n    return result;\n};\n\nvar trimBeginRegexp = /^\\s\\s*/;\nvar trimEndRegexp = /\\s\\s*$/;\n\nexports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n};\n\nexports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n};\n\nexports.copyObject = function(obj) {\n    var copy = {};\n    for (var key in obj) {\n        copy[key] = obj[key];\n    }\n    return copy;\n};\n\nexports.copyArray = function(array){\n    var copy = [];\n    for (var i=0, l=array.length; i<l; i++) {\n        if (array[i] && typeof array[i] == \"object\")\n            copy[i] = this.copyObject(array[i]);\n        else \n            copy[i] = array[i];\n    }\n    return copy;\n};\n\nexports.deepCopy = function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj)\n        return obj;\n    var copy;\n    if (Array.isArray(obj)) {\n        copy = [];\n        for (var key = 0; key < obj.length; key++) {\n            copy[key] = deepCopy(obj[key]);\n        }\n        return copy;\n    }\n    if (Object.prototype.toString.call(obj) !== \"[object Object]\")\n        return obj;\n    \n    copy = {};\n    for (var key in obj)\n        copy[key] = deepCopy(obj[key]);\n    return copy;\n};\n\nexports.arrayToMap = function(arr) {\n    var map = {};\n    for (var i=0; i<arr.length; i++) {\n        map[arr[i]] = 1;\n    }\n    return map;\n\n};\n\nexports.createMap = function(props) {\n    var map = Object.create(null);\n    for (var i in props) {\n        map[i] = props[i];\n    }\n    return map;\n};\nexports.arrayRemove = function(array, value) {\n  for (var i = 0; i <= array.length; i++) {\n    if (value === array[i]) {\n      array.splice(i, 1);\n    }\n  }\n};\n\nexports.escapeRegExp = function(str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n};\n\nexports.escapeHTML = function(str) {\n    return (\"\" + str).replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n};\n\nexports.getMatchOffsets = function(string, regExp) {\n    var matches = [];\n\n    string.replace(regExp, function(str) {\n        matches.push({\n            offset: arguments[arguments.length-2],\n            length: str.length\n        });\n    });\n\n    return matches;\n};\nexports.deferredCall = function(fcn) {\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var deferred = function(timeout) {\n        deferred.cancel();\n        timer = setTimeout(callback, timeout || 0);\n        return deferred;\n    };\n\n    deferred.schedule = deferred;\n\n    deferred.call = function() {\n        this.cancel();\n        fcn();\n        return deferred;\n    };\n\n    deferred.cancel = function() {\n        clearTimeout(timer);\n        timer = null;\n        return deferred;\n    };\n    \n    deferred.isPending = function() {\n        return timer;\n    };\n\n    return deferred;\n};\n\n\nexports.delayedCall = function(fcn, defaultTimeout) {\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var _self = function(timeout) {\n        if (timer == null)\n            timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n\n    _self.delay = function(timeout) {\n        timer && clearTimeout(timer);\n        timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n\n    _self.call = function() {\n        this.cancel();\n        fcn();\n    };\n\n    _self.cancel = function() {\n        timer && clearTimeout(timer);\n        timer = null;\n    };\n\n    _self.isPending = function() {\n        return timer;\n    };\n\n    return _self;\n};\n});\n\ndefine(\"ace/clipboard\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar $cancelT;\nmodule.exports = { \n    lineMode: false,\n    pasteCancelled: function() {\n        if ($cancelT && $cancelT > Date.now() - 50)\n            return true;\n        return $cancelT = false;\n    },\n    cancel: function() {\n        $cancelT = Date.now();\n    }\n};\n\n});\n\ndefine(\"ace/keyboard/textinput\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/clipboard\",\"ace/lib/keys\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar clipboard = require(\"../clipboard\");\nvar BROKEN_SETDATA = useragent.isChrome < 18;\nvar USE_IE_MIME_TYPE =  useragent.isIE;\nvar HAS_FOCUS_ARGS = useragent.isChrome > 63;\nvar MAX_LINE_LENGTH = 400;\n\nvar KEYS = require(\"../lib/keys\");\nvar MODS = KEYS.KEY_MODS;\nvar isIOS = useragent.isIOS;\nvar valueResetRegex = isIOS ? /\\s/ : /\\n/;\n\nvar TextInput = function(parentNode, host) {\n    var text = dom.createElement(\"textarea\");\n    text.className = \"ace_text-input\";\n\n    text.setAttribute(\"wrap\", \"off\");\n    text.setAttribute(\"autocorrect\", \"off\");\n    text.setAttribute(\"autocapitalize\", \"off\");\n    text.setAttribute(\"spellcheck\", false);\n\n    text.style.opacity = \"0\";\n    parentNode.insertBefore(text, parentNode.firstChild);\n\n    var copied = false;\n    var pasted = false;\n    var inComposition = false;\n    var sendingText = false;\n    var tempStyle = '';\n    \n    if (!useragent.isMobile)\n        text.style.fontSize = \"1px\";\n\n    var commandMode = false;\n    var ignoreFocusEvents = false;\n    \n    var lastValue = \"\";\n    var lastSelectionStart = 0;\n    var lastSelectionEnd = 0;\n    var lastRestoreEnd = 0;\n    try { var isFocused = document.activeElement === text; } catch(e) {}\n    \n    event.addListener(text, \"blur\", function(e) {\n        if (ignoreFocusEvents) return;\n        host.onBlur(e);\n        isFocused = false;\n    });\n    event.addListener(text, \"focus\", function(e) {\n        if (ignoreFocusEvents) return;\n        isFocused = true;\n        if (useragent.isEdge) {\n            try {\n                if (!document.hasFocus())\n                    return;\n            } catch(e) {}\n        }\n        host.onFocus(e);\n        if (useragent.isEdge)\n            setTimeout(resetSelection);\n        else\n            resetSelection();\n    });\n    this.$focusScroll = false;\n    this.focus = function() {\n        if (tempStyle || HAS_FOCUS_ARGS || this.$focusScroll == \"browser\")\n            return text.focus({ preventScroll: true });\n\n        var top = text.style.top;\n        text.style.position = \"fixed\";\n        text.style.top = \"0px\";\n        try {\n            var isTransformed = text.getBoundingClientRect().top != 0;\n        } catch(e) {\n            return;\n        }\n        var ancestors = [];\n        if (isTransformed) {\n            var t = text.parentElement;\n            while (t && t.nodeType == 1) {\n                ancestors.push(t);\n                t.setAttribute(\"ace_nocontext\", true);\n                if (!t.parentElement && t.getRootNode)\n                    t = t.getRootNode().host;\n                else\n                    t = t.parentElement;\n            }\n        }\n        text.focus({ preventScroll: true });\n        if (isTransformed) {\n            ancestors.forEach(function(p) {\n                p.removeAttribute(\"ace_nocontext\");\n            });\n        }\n        setTimeout(function() {\n            text.style.position = \"\";\n            if (text.style.top == \"0px\")\n                text.style.top = top;\n        }, 0);\n    };\n    this.blur = function() {\n        text.blur();\n    };\n    this.isFocused = function() {\n        return isFocused;\n    };\n    \n    host.on(\"beforeEndOperation\", function() {\n        if (host.curOp && host.curOp.command.name == \"insertstring\")\n            return;\n        if (inComposition) {\n            lastValue = text.value = \"\";\n            onCompositionEnd();\n        }\n        resetSelection();\n    });\n    \n    var resetSelection = isIOS\n    ? function(value) {\n        if (!isFocused || (copied && !value) || sendingText) return;\n        if (!value) \n            value = \"\";\n        var newValue = \"\\n ab\" + value + \"cde fg\\n\";\n        if (newValue != text.value)\n            text.value = lastValue = newValue;\n        \n        var selectionStart = 4;\n        var selectionEnd = 4 + (value.length || (host.selection.isEmpty() ? 0 : 1));\n\n        if (lastSelectionStart != selectionStart || lastSelectionEnd != selectionEnd) {\n            text.setSelectionRange(selectionStart, selectionEnd);\n        }\n        lastSelectionStart = selectionStart;\n        lastSelectionEnd = selectionEnd;\n    }\n    : function() {\n        if (inComposition || sendingText)\n            return;\n        if (!isFocused && !afterContextMenu)\n            return;\n        inComposition = true;\n        \n        var selection = host.selection;\n        var range = selection.getRange();\n        var row = selection.cursor.row;\n        var selectionStart = range.start.column;\n        var selectionEnd = range.end.column;\n        var line = host.session.getLine(row);\n\n        if (range.start.row != row) {\n            var prevLine = host.session.getLine(row - 1);\n            selectionStart = range.start.row < row - 1 ? 0 : selectionStart;\n            selectionEnd += prevLine.length + 1;\n            line = prevLine + \"\\n\" + line;\n        }\n        else if (range.end.row != row) {\n            var nextLine = host.session.getLine(row + 1);\n            selectionEnd = range.end.row > row  + 1 ? nextLine.length : selectionEnd;\n            selectionEnd += line.length + 1;\n            line = line + \"\\n\" + nextLine;\n        }\n\n        if (line.length > MAX_LINE_LENGTH) {\n            if (selectionStart < MAX_LINE_LENGTH && selectionEnd < MAX_LINE_LENGTH) {\n                line = line.slice(0, MAX_LINE_LENGTH);\n            } else {\n                line = \"\\n\";\n                selectionStart = 0;\n                selectionEnd = 1;\n            }\n        }\n\n        var newValue = line + \"\\n\\n\";\n        if (newValue != lastValue) {\n            text.value = lastValue = newValue;\n            lastSelectionStart = lastSelectionEnd = newValue.length;\n        }\n        if (afterContextMenu) {\n            lastSelectionStart = text.selectionStart;\n            lastSelectionEnd = text.selectionEnd;\n        }\n        if (\n            lastSelectionEnd != selectionEnd \n            || lastSelectionStart != selectionStart \n            || text.selectionEnd != lastSelectionEnd // on ie edge selectionEnd changes silently after the initialization\n        ) {\n            try {\n                text.setSelectionRange(selectionStart, selectionEnd);\n                lastSelectionStart = selectionStart;\n                lastSelectionEnd = selectionEnd;\n            } catch(e){}\n        }\n        inComposition = false;\n    };\n\n    if (isFocused)\n        host.onFocus();\n\n\n    var isAllSelected = function(text) {\n        return text.selectionStart === 0 && text.selectionEnd >= lastValue.length\n            && text.value === lastValue && lastValue\n            && text.selectionEnd !== lastSelectionEnd;\n    };\n\n    var onSelect = function(e) {\n        if (inComposition)\n            return;\n        if (copied) {\n            copied = false;\n        } else if (isAllSelected(text)) {\n            host.selectAll();\n            resetSelection();\n        }\n    };\n\n    var inputHandler = null;\n    this.setInputHandler = function(cb) {inputHandler = cb;};\n    this.getInputHandler = function() {return inputHandler;};\n    var afterContextMenu = false;\n    \n    var sendText = function(value, fromInput) {\n        if (afterContextMenu)\n            afterContextMenu = false;\n        if (pasted) {\n            resetSelection();\n            if (value)\n                host.onPaste(value);\n            pasted = false;\n            return \"\";\n        } else {\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n        \n            var extendLeft = lastSelectionStart;\n            var extendRight = lastValue.length - lastSelectionEnd;\n            \n            var inserted = value;\n            var restoreStart = value.length - selectionStart;\n            var restoreEnd = value.length - selectionEnd;\n        \n            var i = 0;\n            while (extendLeft > 0 && lastValue[i] == value[i]) {\n                i++;\n                extendLeft--;\n            }\n            inserted = inserted.slice(i);\n            i = 1;\n            while (extendRight > 0 && lastValue.length - i > lastSelectionStart - 1  && lastValue[lastValue.length - i] == value[value.length - i]) {\n                i++;\n                extendRight--;\n            }\n            restoreStart -= i-1;\n            restoreEnd -= i-1;\n            var endIndex = inserted.length - i + 1;\n            if (endIndex < 0) {\n                extendLeft = -endIndex;\n                endIndex = 0;\n            } \n            inserted = inserted.slice(0, endIndex);\n            if (!fromInput && !inserted && !restoreStart && !extendLeft && !extendRight && !restoreEnd)\n                return \"\";\n            sendingText = true;\n            if (inserted && !extendLeft && !extendRight && !restoreStart && !restoreEnd || commandMode) {\n                host.onTextInput(inserted);\n            } else {\n                host.onTextInput(inserted, {\n                    extendLeft: extendLeft,\n                    extendRight: extendRight,\n                    restoreStart: restoreStart,\n                    restoreEnd: restoreEnd\n                });\n            }\n            sendingText = false;\n            \n            lastValue = value;\n            lastSelectionStart = selectionStart;\n            lastSelectionEnd = selectionEnd;\n            lastRestoreEnd = restoreEnd;\n            return inserted;\n        }\n    };\n    var onInput = function(e) {\n        if (inComposition)\n            return onCompositionUpdate();\n        if (e && e.inputType) {\n            if (e.inputType == \"historyUndo\") return host.execCommand(\"undo\");\n            if (e.inputType == \"historyRedo\") return host.execCommand(\"redo\");\n        }\n        var data = text.value;\n        var inserted = sendText(data, true);\n        if (data.length > MAX_LINE_LENGTH + 100 || valueResetRegex.test(inserted))\n            resetSelection();\n    };\n    \n    var handleClipboardData = function(e, data, forceIEMime) {\n        var clipboardData = e.clipboardData || window.clipboardData;\n        if (!clipboardData || BROKEN_SETDATA)\n            return;\n        var mime = USE_IE_MIME_TYPE || forceIEMime ? \"Text\" : \"text/plain\";\n        try {\n            if (data) {\n                return clipboardData.setData(mime, data) !== false;\n            } else {\n                return clipboardData.getData(mime);\n            }\n        } catch(e) {\n            if (!forceIEMime)\n                return handleClipboardData(e, data, true);\n        }\n    };\n\n    var doCopy = function(e, isCut) {\n        var data = host.getCopyText();\n        if (!data)\n            return event.preventDefault(e);\n\n        if (handleClipboardData(e, data)) {\n            if (isIOS) {\n                resetSelection(data);\n                copied = data;\n                setTimeout(function () {\n                    copied = false;\n                }, 10);\n            }\n            isCut ? host.onCut() : host.onCopy();\n            event.preventDefault(e);\n        } else {\n            copied = true;\n            text.value = data;\n            text.select();\n            setTimeout(function(){\n                copied = false;\n                resetSelection();\n                isCut ? host.onCut() : host.onCopy();\n            });\n        }\n    };\n    \n    var onCut = function(e) {\n        doCopy(e, true);\n    };\n    \n    var onCopy = function(e) {\n        doCopy(e, false);\n    };\n    \n    var onPaste = function(e) {\n        var data = handleClipboardData(e);\n        if (clipboard.pasteCancelled())\n            return;\n        if (typeof data == \"string\") {\n            if (data)\n                host.onPaste(data, e);\n            if (useragent.isIE)\n                setTimeout(resetSelection);\n            event.preventDefault(e);\n        }\n        else {\n            text.value = \"\";\n            pasted = true;\n        }\n    };\n\n    event.addCommandKeyListener(text, host.onCommandKey.bind(host));\n\n    event.addListener(text, \"select\", onSelect);\n    event.addListener(text, \"input\", onInput);\n\n    event.addListener(text, \"cut\", onCut);\n    event.addListener(text, \"copy\", onCopy);\n    event.addListener(text, \"paste\", onPaste);\n    if (!('oncut' in text) || !('oncopy' in text) || !('onpaste' in text)) {\n        event.addListener(parentNode, \"keydown\", function(e) {\n            if ((useragent.isMac && !e.metaKey) || !e.ctrlKey)\n                return;\n\n            switch (e.keyCode) {\n                case 67:\n                    onCopy(e);\n                    break;\n                case 86:\n                    onPaste(e);\n                    break;\n                case 88:\n                    onCut(e);\n                    break;\n            }\n        });\n    }\n    var onCompositionStart = function(e) {\n        if (inComposition || !host.onCompositionStart || host.$readOnly) \n            return;\n        \n        inComposition = {};\n\n        if (commandMode)\n            return;\n        \n        setTimeout(onCompositionUpdate, 0);\n        host.on(\"mousedown\", cancelComposition);\n        \n        var range = host.getSelectionRange();\n        range.end.row = range.start.row;\n        range.end.column = range.start.column;\n        inComposition.markerRange = range;\n        inComposition.selectionStart = lastSelectionStart;\n        host.onCompositionStart(inComposition);\n        \n        if (inComposition.useTextareaForIME) {\n            text.value = \"\";\n            lastValue = \"\";\n            lastSelectionStart = 0;\n            lastSelectionEnd = 0;\n        }\n        else {\n            if (text.msGetInputContext)\n                inComposition.context = text.msGetInputContext();\n            if (text.getInputContext)\n                inComposition.context = text.getInputContext();\n        }\n    };\n\n    var onCompositionUpdate = function() {\n        if (!inComposition || !host.onCompositionUpdate || host.$readOnly)\n            return;\n        if (commandMode)\n            return cancelComposition();\n        \n        if (inComposition.useTextareaForIME) {\n            host.onCompositionUpdate(text.value);\n        }\n        else {\n            var data = text.value;\n            sendText(data);\n            if (inComposition.markerRange) {\n                if (inComposition.context) {\n                    inComposition.markerRange.start.column = inComposition.selectionStart\n                        = inComposition.context.compositionStartOffset;\n                }\n                inComposition.markerRange.end.column = inComposition.markerRange.start.column\n                    + lastSelectionEnd - inComposition.selectionStart + lastRestoreEnd;\n            }\n        }\n    };\n\n    var onCompositionEnd = function(e) {\n        if (!host.onCompositionEnd || host.$readOnly) return;\n        inComposition = false;\n        host.onCompositionEnd();\n        host.off(\"mousedown\", cancelComposition);\n        if (e) onInput();\n    };\n    \n\n    function cancelComposition() {\n        ignoreFocusEvents = true;\n        text.blur();\n        text.focus();\n        ignoreFocusEvents = false;\n    }\n\n    var syncComposition = lang.delayedCall(onCompositionUpdate, 50).schedule.bind(null, null);\n    \n    function onKeyup(e) {\n        if (e.keyCode == 27 && text.value.length < text.selectionStart) {\n            if (!inComposition)\n                lastValue = text.value;\n            lastSelectionStart = lastSelectionEnd = -1;\n            resetSelection();\n        }\n        syncComposition();\n    }\n\n    event.addListener(text, \"compositionstart\", onCompositionStart);\n    event.addListener(text, \"compositionupdate\", onCompositionUpdate);\n    event.addListener(text, \"keyup\", onKeyup);\n    event.addListener(text, \"keydown\", syncComposition);\n    event.addListener(text, \"compositionend\", onCompositionEnd);\n\n    this.getElement = function() {\n        return text;\n    };\n    this.setCommandMode = function(value) {\n       commandMode = value;\n       text.readOnly = false;\n    };\n    \n    this.setReadOnly = function(readOnly) {\n        if (!commandMode)\n            text.readOnly = readOnly;\n    };\n\n    this.setCopyWithEmptySelection = function(value) {\n    };\n\n    this.onContextMenu = function(e) {\n        afterContextMenu = true;\n        resetSelection();\n        host._emit(\"nativecontextmenu\", {target: host, domEvent: e});\n        this.moveToMouse(e, true);\n    };\n    \n    this.moveToMouse = function(e, bringToFront) {\n        if (!tempStyle)\n            tempStyle = text.style.cssText;\n        text.style.cssText = (bringToFront ? \"z-index:100000;\" : \"\")\n            + (useragent.isIE ? \"opacity:0.1;\" : \"\")\n            + \"text-indent: -\" + (lastSelectionStart + lastSelectionEnd) * host.renderer.characterWidth * 0.5 + \"px;\";\n\n        var rect = host.container.getBoundingClientRect();\n        var style = dom.computedStyle(host.container);\n        var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n        var maxTop = rect.bottom - top - text.clientHeight -2;\n        var move = function(e) {\n            dom.translate(text, e.clientX - left - 2, Math.min(e.clientY - top - 2, maxTop));\n        }; \n        move(e);\n\n        if (e.type != \"mousedown\")\n            return;\n\n        host.renderer.$isMousePressed = true;\n\n        clearTimeout(closeTimeout);\n        if (useragent.isWin)\n            event.capture(host.container, move, onContextMenuClose);\n    };\n\n    this.onContextMenuClose = onContextMenuClose;\n    var closeTimeout;\n    function onContextMenuClose() {\n        clearTimeout(closeTimeout);\n        closeTimeout = setTimeout(function () {\n            if (tempStyle) {\n                text.style.cssText = tempStyle;\n                tempStyle = '';\n            }\n            host.renderer.$isMousePressed = false;\n            if (host.renderer.$keepTextAreaAtCursor)\n                host.renderer.$moveTextAreaToCursor();\n        }, 0);\n    }\n\n    var onContextMenu = function(e) {\n        host.textInput.onContextMenu(e);\n        onContextMenuClose();\n    };\n    event.addListener(text, \"mouseup\", onContextMenu);\n    event.addListener(text, \"mousedown\", function(e) {\n        e.preventDefault();\n        onContextMenuClose();\n    });\n    event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu);\n    event.addListener(text, \"contextmenu\", onContextMenu);\n    \n    if (isIOS)\n        addIosSelectionHandler(parentNode, host, text);\n\n    function addIosSelectionHandler(parentNode, host, text) {\n        var typingResetTimeout = null;\n        var typing = false;\n \n        text.addEventListener(\"keydown\", function (e) {\n            if (typingResetTimeout) clearTimeout(typingResetTimeout);\n            typing = true;\n        }, true);\n\n        text.addEventListener(\"keyup\", function (e) {\n            typingResetTimeout = setTimeout(function () {\n                typing = false;\n            }, 100);\n        }, true);\n        var detectArrowKeys = function(e) {\n            if (document.activeElement !== text) return;\n            if (typing || inComposition || host.$mouseHandler.isMousePressed) return;\n\n            if (copied) {\n                return;\n            }\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n            \n            var key = null;\n            var modifier = 0;\n            if (selectionStart == 0) {\n                key = KEYS.up;\n            } else if (selectionStart == 1) {\n                key = KEYS.home;\n            } else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd] == \"\\n\") {\n                key = KEYS.end;\n            } else if (selectionStart < lastSelectionStart && lastValue[selectionStart - 1] == \" \") {\n                key = KEYS.left;\n                modifier = MODS.option;\n            } else if (\n                selectionStart < lastSelectionStart\n                || (\n                    selectionStart == lastSelectionStart \n                    && lastSelectionEnd != lastSelectionStart\n                    && selectionStart == selectionEnd\n                )\n            ) {\n                key = KEYS.left;\n            } else if (selectionEnd > lastSelectionEnd && lastValue.slice(0, selectionEnd).split(\"\\n\").length > 2) {\n                key = KEYS.down;\n            } else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd - 1] == \" \") {\n                key = KEYS.right;\n                modifier = MODS.option;\n            } else if (\n                selectionEnd > lastSelectionEnd\n                || (\n                    selectionEnd == lastSelectionEnd \n                    && lastSelectionEnd != lastSelectionStart\n                    && selectionStart == selectionEnd\n                )\n            ) {\n                key = KEYS.right;\n            }\n            \n            if (selectionStart !== selectionEnd)\n                modifier |= MODS.shift;\n\n            if (key) {\n                var result = host.onCommandKey({}, modifier, key);\n                if (!result && host.commands) {\n                    key = KEYS.keyCodeToString(key);\n                    var command = host.commands.findKeyCommand(modifier, key);\n                    if (command)\n                        host.execCommand(command);\n                }\n                lastSelectionStart = selectionStart;\n                lastSelectionEnd = selectionEnd;\n                resetSelection(\"\");\n            }\n        };\n        document.addEventListener(\"selectionchange\", detectArrowKeys);\n        host.on(\"destroy\", function() {\n            document.removeEventListener(\"selectionchange\", detectArrowKeys);\n        });\n    }\n\n};\n\nexports.TextInput = TextInput;\n});\n\ndefine(\"ace/mouse/default_handlers\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar useragent = require(\"../lib/useragent\");\n\nvar DRAG_OFFSET = 0; // pixels\nvar SCROLL_COOLDOWN_T = 550; // milliseconds\n\nfunction DefaultHandlers(mouseHandler) {\n    mouseHandler.$clickSelection = null;\n\n    var editor = mouseHandler.editor;\n    editor.setDefaultHandler(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    editor.setDefaultHandler(\"dblclick\", this.onDoubleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"tripleclick\", this.onTripleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"quadclick\", this.onQuadClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"mousewheel\", this.onMouseWheel.bind(mouseHandler));\n\n    var exports = [\"select\", \"startSelect\", \"selectEnd\", \"selectAllEnd\", \"selectByWordsEnd\",\n        \"selectByLinesEnd\", \"dragWait\", \"dragWaitEnd\", \"focusWait\"];\n\n    exports.forEach(function(x) {\n        mouseHandler[x] = this[x];\n    }, this);\n\n    mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, \"getLineRange\");\n    mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, \"getWordRange\");\n}\n\n(function() {\n\n    this.onMouseDown = function(ev) {\n        var inSelection = ev.inSelection();\n        var pos = ev.getDocumentPosition();\n        this.mousedownEvent = ev;\n        var editor = this.editor;\n\n        var button = ev.getButton();\n        if (button !== 0) {\n            var selectionRange = editor.getSelectionRange();\n            var selectionEmpty = selectionRange.isEmpty();\n            if (selectionEmpty || button == 1)\n                editor.selection.moveToPosition(pos);\n            if (button == 2) {\n                editor.textInput.onContextMenu(ev.domEvent);\n                if (!useragent.isMozilla)\n                    ev.preventDefault();\n            }\n            return;\n        }\n\n        this.mousedownEvent.time = Date.now();\n        if (inSelection && !editor.isFocused()) {\n            editor.focus();\n            if (this.$focusTimeout && !this.$clickSelection && !editor.inMultiSelectMode) {\n                this.setState(\"focusWait\");\n                this.captureMouse(ev);\n                return;\n            }\n        }\n\n        this.captureMouse(ev);\n        this.startSelect(pos, ev.domEvent._clicks > 1);\n        return ev.preventDefault();\n    };\n\n    this.startSelect = function(pos, waitForClickSelection) {\n        pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var editor = this.editor;\n        if (!this.mousedownEvent) return;\n        if (this.mousedownEvent.getShiftKey())\n            editor.selection.selectToPosition(pos);\n        else if (!waitForClickSelection)\n            editor.selection.moveToPosition(pos);\n        if (!waitForClickSelection)\n            this.select();\n        if (editor.renderer.scroller.setCapture) {\n            editor.renderer.scroller.setCapture();\n        }\n        editor.setStyle(\"ace_selecting\");\n        this.setState(\"select\");\n    };\n\n    this.select = function() {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        if (this.$clickSelection) {\n            var cmp = this.$clickSelection.comparePoint(cursor);\n\n            if (cmp == -1) {\n                anchor = this.$clickSelection.end;\n            } else if (cmp == 1) {\n                anchor = this.$clickSelection.start;\n            } else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n    };\n\n    this.extendSelectionBy = function(unitName) {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var range = editor.selection[unitName](cursor.row, cursor.column);\n        if (this.$clickSelection) {\n            var cmpStart = this.$clickSelection.comparePoint(range.start);\n            var cmpEnd = this.$clickSelection.comparePoint(range.end);\n\n            if (cmpStart == -1 && cmpEnd <= 0) {\n                anchor = this.$clickSelection.end;\n                if (range.end.row != cursor.row || range.end.column != cursor.column)\n                    cursor = range.start;\n            } else if (cmpEnd == 1 && cmpStart >= 0) {\n                anchor = this.$clickSelection.start;\n                if (range.start.row != cursor.row || range.start.column != cursor.column)\n                    cursor = range.end;\n            } else if (cmpStart == -1 && cmpEnd == 1) {\n                cursor = range.end;\n                anchor = range.start;\n            } else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n    };\n\n    this.selectEnd =\n    this.selectAllEnd =\n    this.selectByWordsEnd =\n    this.selectByLinesEnd = function() {\n        this.$clickSelection = null;\n        this.editor.unsetStyle(\"ace_selecting\");\n        if (this.editor.renderer.scroller.releaseCapture) {\n            this.editor.renderer.scroller.releaseCapture();\n        }\n    };\n\n    this.focusWait = function() {\n        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n        var time = Date.now();\n\n        if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimeout)\n            this.startSelect(this.mousedownEvent.getDocumentPosition());\n    };\n\n    this.onDoubleClick = function(ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n        var session = editor.session;\n\n        var range = session.getBracketRange(pos);\n        if (range) {\n            if (range.isEmpty()) {\n                range.start.column--;\n                range.end.column++;\n            }\n            this.setState(\"select\");\n        } else {\n            range = editor.selection.getWordRange(pos.row, pos.column);\n            this.setState(\"selectByWords\");\n        }\n        this.$clickSelection = range;\n        this.select();\n    };\n\n    this.onTripleClick = function(ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n\n        this.setState(\"selectByLines\");\n        var range = editor.getSelectionRange();\n        if (range.isMultiLine() && range.contains(pos.row, pos.column)) {\n            this.$clickSelection = editor.selection.getLineRange(range.start.row);\n            this.$clickSelection.end = editor.selection.getLineRange(range.end.row).end;\n        } else {\n            this.$clickSelection = editor.selection.getLineRange(pos.row);\n        }\n        this.select();\n    };\n\n    this.onQuadClick = function(ev) {\n        var editor = this.editor;\n\n        editor.selectAll();\n        this.$clickSelection = editor.getSelectionRange();\n        this.setState(\"selectAll\");\n    };\n\n    this.onMouseWheel = function(ev) {\n        if (ev.getAccelKey())\n            return;\n        if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {\n            ev.wheelX = ev.wheelY;\n            ev.wheelY = 0;\n        }\n        \n        var editor = this.editor;\n        \n        if (!this.$lastScroll)\n            this.$lastScroll = { t: 0, vx: 0, vy: 0, allowed: 0 };\n        \n        var prevScroll = this.$lastScroll;\n        var t = ev.domEvent.timeStamp;\n        var dt = t - prevScroll.t;\n        var vx = dt ? ev.wheelX / dt : prevScroll.vx;\n        var vy = dt ? ev.wheelY / dt : prevScroll.vy;\n        if (dt < SCROLL_COOLDOWN_T) {\n            vx = (vx + prevScroll.vx) / 2;\n            vy = (vy + prevScroll.vy) / 2;\n        }\n        \n        var direction = Math.abs(vx / vy);\n        \n        var canScroll = false;\n        if (direction >= 1 && editor.renderer.isScrollableBy(ev.wheelX * ev.speed, 0))\n            canScroll = true;\n        if (direction <= 1 && editor.renderer.isScrollableBy(0, ev.wheelY * ev.speed))\n            canScroll = true;\n            \n        if (canScroll) {\n            prevScroll.allowed = t;\n        } else if (t - prevScroll.allowed < SCROLL_COOLDOWN_T) {\n            var isSlower = Math.abs(vx) <= 1.5 * Math.abs(prevScroll.vx)\n                && Math.abs(vy) <= 1.5 * Math.abs(prevScroll.vy);\n            if (isSlower) {\n                canScroll = true;\n                prevScroll.allowed = t;\n            }\n            else {\n                prevScroll.allowed = 0;\n            }\n        }\n        \n        prevScroll.t = t;\n        prevScroll.vx = vx;\n        prevScroll.vy = vy;\n\n        if (canScroll) {\n            editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n            return ev.stop();\n        }\n    };\n\n}).call(DefaultHandlers.prototype);\n\nexports.DefaultHandlers = DefaultHandlers;\n\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\n\nfunction calcRangeOrientation(range, cursor) {\n    if (range.start.row == range.end.row)\n        var cmp = 2 * cursor.column - range.start.column - range.end.column;\n    else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column)\n        var cmp = cursor.column - 4;\n    else\n        var cmp = 2 * cursor.row - range.start.row - range.end.row;\n\n    if (cmp < 0)\n        return {cursor: range.start, anchor: range.end};\n    else\n        return {cursor: range.end, anchor: range.start};\n}\n\n});\n\ndefine(\"ace/tooltip\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nfunction Tooltip (parentNode) {\n    this.isOpen = false;\n    this.$element = null;\n    this.$parentNode = parentNode;\n}\n\n(function() {\n    this.$init = function() {\n        this.$element = dom.createElement(\"div\");\n        this.$element.className = \"ace_tooltip\";\n        this.$element.style.display = \"none\";\n        this.$parentNode.appendChild(this.$element);\n        return this.$element;\n    };\n    this.getElement = function() {\n        return this.$element || this.$init();\n    };\n    this.setText = function(text) {\n        this.getElement().textContent = text;\n    };\n    this.setHtml = function(html) {\n        this.getElement().innerHTML = html;\n    };\n    this.setPosition = function(x, y) {\n        this.getElement().style.left = x + \"px\";\n        this.getElement().style.top = y + \"px\";\n    };\n    this.setClassName = function(className) {\n        dom.addCssClass(this.getElement(), className);\n    };\n    this.show = function(text, x, y) {\n        if (text != null)\n            this.setText(text);\n        if (x != null && y != null)\n            this.setPosition(x, y);\n        if (!this.isOpen) {\n            this.getElement().style.display = \"block\";\n            this.isOpen = true;\n        }\n    };\n\n    this.hide = function() {\n        if (this.isOpen) {\n            this.getElement().style.display = \"none\";\n            this.isOpen = false;\n        }\n    };\n    this.getHeight = function() {\n        return this.getElement().offsetHeight;\n    };\n    this.getWidth = function() {\n        return this.getElement().offsetWidth;\n    };\n    \n    this.destroy = function() {\n        this.isOpen = false;\n        if (this.$element && this.$element.parentNode) {\n            this.$element.parentNode.removeChild(this.$element);\n        }\n    };\n\n}).call(Tooltip.prototype);\n\nexports.Tooltip = Tooltip;\n});\n\ndefine(\"ace/mouse/default_gutter_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event\",\"ace/tooltip\"], function(require, exports, module) {\n\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar event = require(\"../lib/event\");\nvar Tooltip = require(\"../tooltip\").Tooltip;\n\nfunction GutterHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var gutter = editor.renderer.$gutterLayer;\n    var tooltip = new GutterTooltip(editor.container);\n\n    mouseHandler.editor.setDefaultHandler(\"guttermousedown\", function(e) {\n        if (!editor.isFocused() || e.getButton() != 0)\n            return;\n        var gutterRegion = gutter.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\")\n            return;\n\n        var row = e.getDocumentPosition().row;\n        var selection = editor.session.selection;\n\n        if (e.getShiftKey())\n            selection.selectTo(row, 0);\n        else {\n            if (e.domEvent.detail == 2) {\n                editor.selectAll();\n                return e.preventDefault();\n            }\n            mouseHandler.$clickSelection = editor.selection.getLineRange(row);\n        }\n        mouseHandler.setState(\"selectByLines\");\n        mouseHandler.captureMouse(e);\n        return e.preventDefault();\n    });\n\n\n    var tooltipTimeout, mouseEvent, tooltipAnnotation;\n\n    function showTooltip() {\n        var row = mouseEvent.getDocumentPosition().row;\n        var annotation = gutter.$annotations[row];\n        if (!annotation)\n            return hideTooltip();\n\n        var maxRow = editor.session.getLength();\n        if (row == maxRow) {\n            var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;\n            var pos = mouseEvent.$pos;\n            if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column))\n                return hideTooltip();\n        }\n\n        if (tooltipAnnotation == annotation)\n            return;\n        tooltipAnnotation = annotation.text.join(\"<br/>\");\n\n        tooltip.setHtml(tooltipAnnotation);\n        tooltip.show();\n        editor._signal(\"showGutterTooltip\", tooltip);\n        editor.on(\"mousewheel\", hideTooltip);\n\n        if (mouseHandler.$tooltipFollowsMouse) {\n            moveTooltip(mouseEvent);\n        } else {\n            var gutterElement = mouseEvent.domEvent.target;\n            var rect = gutterElement.getBoundingClientRect();\n            var style = tooltip.getElement().style;\n            style.left = rect.right + \"px\";\n            style.top = rect.bottom + \"px\";\n        }\n    }\n\n    function hideTooltip() {\n        if (tooltipTimeout)\n            tooltipTimeout = clearTimeout(tooltipTimeout);\n        if (tooltipAnnotation) {\n            tooltip.hide();\n            tooltipAnnotation = null;\n            editor._signal(\"hideGutterTooltip\", tooltip);\n            editor.removeEventListener(\"mousewheel\", hideTooltip);\n        }\n    }\n\n    function moveTooltip(e) {\n        tooltip.setPosition(e.x, e.y);\n    }\n\n    mouseHandler.editor.setDefaultHandler(\"guttermousemove\", function(e) {\n        var target = e.domEvent.target || e.domEvent.srcElement;\n        if (dom.hasCssClass(target, \"ace_fold-widget\"))\n            return hideTooltip();\n\n        if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse)\n            moveTooltip(e);\n\n        mouseEvent = e;\n        if (tooltipTimeout)\n            return;\n        tooltipTimeout = setTimeout(function() {\n            tooltipTimeout = null;\n            if (mouseEvent && !mouseHandler.isMousePressed)\n                showTooltip();\n            else\n                hideTooltip();\n        }, 50);\n    });\n\n    event.addListener(editor.renderer.$gutter, \"mouseout\", function(e) {\n        mouseEvent = null;\n        if (!tooltipAnnotation || tooltipTimeout)\n            return;\n\n        tooltipTimeout = setTimeout(function() {\n            tooltipTimeout = null;\n            hideTooltip();\n        }, 50);\n    });\n    \n    editor.on(\"changeSession\", hideTooltip);\n}\n\nfunction GutterTooltip(parentNode) {\n    Tooltip.call(this, parentNode);\n}\n\noop.inherits(GutterTooltip, Tooltip);\n\n(function(){\n    this.setPosition = function(x, y) {\n        var windowWidth = window.innerWidth || document.documentElement.clientWidth;\n        var windowHeight = window.innerHeight || document.documentElement.clientHeight;\n        var width = this.getWidth();\n        var height = this.getHeight();\n        x += 15;\n        y += 15;\n        if (x + width > windowWidth) {\n            x -= (x + width) - windowWidth;\n        }\n        if (y + height > windowHeight) {\n            y -= 20 + height;\n        }\n        Tooltip.prototype.setPosition.call(this, x, y);\n    };\n\n}).call(GutterTooltip.prototype);\n\n\n\nexports.GutterHandler = GutterHandler;\n\n});\n\ndefine(\"ace/mouse/mouse_event\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar MouseEvent = exports.MouseEvent = function(domEvent, editor) {\n    this.domEvent = domEvent;\n    this.editor = editor;\n    \n    this.x = this.clientX = domEvent.clientX;\n    this.y = this.clientY = domEvent.clientY;\n\n    this.$pos = null;\n    this.$inSelection = null;\n    \n    this.propagationStopped = false;\n    this.defaultPrevented = false;\n};\n\n(function() {  \n    \n    this.stopPropagation = function() {\n        event.stopPropagation(this.domEvent);\n        this.propagationStopped = true;\n    };\n    \n    this.preventDefault = function() {\n        event.preventDefault(this.domEvent);\n        this.defaultPrevented = true;\n    };\n    \n    this.stop = function() {\n        this.stopPropagation();\n        this.preventDefault();\n    };\n    this.getDocumentPosition = function() {\n        if (this.$pos)\n            return this.$pos;\n        \n        this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);\n        return this.$pos;\n    };\n    this.inSelection = function() {\n        if (this.$inSelection !== null)\n            return this.$inSelection;\n            \n        var editor = this.editor;\n        \n\n        var selectionRange = editor.getSelectionRange();\n        if (selectionRange.isEmpty())\n            this.$inSelection = false;\n        else {\n            var pos = this.getDocumentPosition();\n            this.$inSelection = selectionRange.contains(pos.row, pos.column);\n        }\n\n        return this.$inSelection;\n    };\n    this.getButton = function() {\n        return event.getButton(this.domEvent);\n    };\n    this.getShiftKey = function() {\n        return this.domEvent.shiftKey;\n    };\n    \n    this.getAccelKey = useragent.isMac\n        ? function() { return this.domEvent.metaKey; }\n        : function() { return this.domEvent.ctrlKey; };\n    \n}).call(MouseEvent.prototype);\n\n});\n\ndefine(\"ace/mouse/dragdrop_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\n\nvar AUTOSCROLL_DELAY = 200;\nvar SCROLL_CURSOR_DELAY = 200;\nvar SCROLL_CURSOR_HYSTERESIS = 5;\n\nfunction DragdropHandler(mouseHandler) {\n\n    var editor = mouseHandler.editor;\n\n    var blankImage = dom.createElement(\"img\");\n    blankImage.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n    if (useragent.isOpera)\n        blankImage.style.cssText = \"width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;\";\n\n    var exports = [\"dragWait\", \"dragWaitEnd\", \"startDrag\", \"dragReadyEnd\", \"onMouseDrag\"];\n\n     exports.forEach(function(x) {\n         mouseHandler[x] = this[x];\n    }, this);\n    editor.addEventListener(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n\n\n    var mouseTarget = editor.container;\n    var dragSelectionMarker, x, y;\n    var timerId, range;\n    var dragCursor, counter = 0;\n    var dragOperation;\n    var isInternal;\n    var autoScrollStartTime;\n    var cursorMovedTime;\n    var cursorPointOnCaretMoved;\n\n    this.onDragStart = function(e) {\n        if (this.cancelDrag || !mouseTarget.draggable) {\n            var self = this;\n            setTimeout(function(){\n                self.startSelect();\n                self.captureMouse(e);\n            }, 0);\n            return e.preventDefault();\n        }\n        range = editor.getSelectionRange();\n\n        var dataTransfer = e.dataTransfer;\n        dataTransfer.effectAllowed = editor.getReadOnly() ? \"copy\" : \"copyMove\";\n        if (useragent.isOpera) {\n            editor.container.appendChild(blankImage);\n            blankImage.scrollTop = 0;\n        }\n        dataTransfer.setDragImage && dataTransfer.setDragImage(blankImage, 0, 0);\n        if (useragent.isOpera) {\n            editor.container.removeChild(blankImage);\n        }\n        dataTransfer.clearData();\n        dataTransfer.setData(\"Text\", editor.session.getTextRange());\n\n        isInternal = true;\n        this.setState(\"drag\");\n    };\n\n    this.onDragEnd = function(e) {\n        mouseTarget.draggable = false;\n        isInternal = false;\n        this.setState(null);\n        if (!editor.getReadOnly()) {\n            var dropEffect = e.dataTransfer.dropEffect;\n            if (!dragOperation && dropEffect == \"move\")\n                editor.session.remove(editor.getSelectionRange());\n            editor.$resetCursorStyle();\n        }\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n    };\n\n    this.onDragEnter = function(e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker)\n            addDragMarker();\n        counter++;\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n\n    this.onDragOver = function(e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker) {\n            addDragMarker();\n            counter++;\n        }\n        if (onMouseMoveTimer !== null)\n            onMouseMoveTimer = null;\n\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n\n    this.onDragLeave = function(e) {\n        counter--;\n        if (counter <= 0 && dragSelectionMarker) {\n            clearDragMarker();\n            dragOperation = null;\n            return event.preventDefault(e);\n        }\n    };\n\n    this.onDrop = function(e) {\n        if (!dragCursor)\n            return;\n        var dataTransfer = e.dataTransfer;\n        if (isInternal) {\n            switch (dragOperation) {\n                case \"move\":\n                    if (range.contains(dragCursor.row, dragCursor.column)) {\n                        range = {\n                            start: dragCursor,\n                            end: dragCursor\n                        };\n                    } else {\n                        range = editor.moveText(range, dragCursor);\n                    }\n                    break;\n                case \"copy\":\n                    range = editor.moveText(range, dragCursor, true);\n                    break;\n            }\n        } else {\n            var dropData = dataTransfer.getData('Text');\n            range = {\n                start: dragCursor,\n                end: editor.session.insert(dragCursor, dropData)\n            };\n            editor.focus();\n            dragOperation = null;\n        }\n        clearDragMarker();\n        return event.preventDefault(e);\n    };\n\n    event.addListener(mouseTarget, \"dragstart\", this.onDragStart.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragend\", this.onDragEnd.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragenter\", this.onDragEnter.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragover\", this.onDragOver.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragleave\", this.onDragLeave.bind(mouseHandler));\n    event.addListener(mouseTarget, \"drop\", this.onDrop.bind(mouseHandler));\n\n    function scrollCursorIntoView(cursor, prevCursor) {\n        var now = Date.now();\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        var hMovement = !prevCursor || cursor.column != prevCursor.column;\n        if (!cursorMovedTime || vMovement || hMovement) {\n            editor.moveCursorToPosition(cursor);\n            cursorMovedTime = now;\n            cursorPointOnCaretMoved = {x: x, y: y};\n        } else {\n            var distance = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x, y);\n            if (distance > SCROLL_CURSOR_HYSTERESIS) {\n                cursorMovedTime = null;\n            } else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {\n                editor.renderer.scrollCursorIntoView();\n                cursorMovedTime = null;\n            }\n        }\n    }\n\n    function autoScroll(cursor, prevCursor) {\n        var now = Date.now();\n        var lineHeight = editor.renderer.layerConfig.lineHeight;\n        var characterWidth = editor.renderer.layerConfig.characterWidth;\n        var editorRect = editor.renderer.scroller.getBoundingClientRect();\n        var offsets = {\n           x: {\n               left: x - editorRect.left,\n               right: editorRect.right - x\n           },\n           y: {\n               top: y - editorRect.top,\n               bottom: editorRect.bottom - y\n           }\n        };\n        var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);\n        var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);\n        var scrollCursor = {row: cursor.row, column: cursor.column};\n        if (nearestXOffset / characterWidth <= 2) {\n            scrollCursor.column += (offsets.x.left < offsets.x.right ? -3 : +2);\n        }\n        if (nearestYOffset / lineHeight <= 1) {\n            scrollCursor.row += (offsets.y.top < offsets.y.bottom ? -1 : +1);\n        }\n        var vScroll = cursor.row != scrollCursor.row;\n        var hScroll = cursor.column != scrollCursor.column;\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        if (vScroll || (hScroll && !vMovement)) {\n            if (!autoScrollStartTime)\n                autoScrollStartTime = now;\n            else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY)\n                editor.renderer.scrollCursorIntoView(scrollCursor);\n        } else {\n            autoScrollStartTime = null;\n        }\n    }\n\n    function onDragInterval() {\n        var prevCursor = dragCursor;\n        dragCursor = editor.renderer.screenToTextCoordinates(x, y);\n        scrollCursorIntoView(dragCursor, prevCursor);\n        autoScroll(dragCursor, prevCursor);\n    }\n\n    function addDragMarker() {\n        range = editor.selection.toOrientedRange();\n        dragSelectionMarker = editor.session.addMarker(range, \"ace_selection\", editor.getSelectionStyle());\n        editor.clearSelection();\n        if (editor.isFocused())\n            editor.renderer.$cursorLayer.setBlinking(false);\n        clearInterval(timerId);\n        onDragInterval();\n        timerId = setInterval(onDragInterval, 20);\n        counter = 0;\n        event.addListener(document, \"mousemove\", onMouseMove);\n    }\n\n    function clearDragMarker() {\n        clearInterval(timerId);\n        editor.session.removeMarker(dragSelectionMarker);\n        dragSelectionMarker = null;\n        editor.selection.fromOrientedRange(range);\n        if (editor.isFocused() && !isInternal)\n            editor.$resetCursorStyle();\n        range = null;\n        dragCursor = null;\n        counter = 0;\n        autoScrollStartTime = null;\n        cursorMovedTime = null;\n        event.removeListener(document, \"mousemove\", onMouseMove);\n    }\n    var onMouseMoveTimer = null;\n    function onMouseMove() {\n        if (onMouseMoveTimer == null) {\n            onMouseMoveTimer = setTimeout(function() {\n                if (onMouseMoveTimer != null && dragSelectionMarker)\n                    clearDragMarker();\n            }, 20);\n        }\n    }\n\n    function canAccept(dataTransfer) {\n        var types = dataTransfer.types;\n        return !types || Array.prototype.some.call(types, function(type) {\n            return type == 'text/plain' || type == 'Text';\n        });\n    }\n\n    function getDropEffect(e) {\n        var copyAllowed = ['copy', 'copymove', 'all', 'uninitialized'];\n        var moveAllowed = ['move', 'copymove', 'linkmove', 'all', 'uninitialized'];\n\n        var copyModifierState = useragent.isMac ? e.altKey : e.ctrlKey;\n        var effectAllowed = \"uninitialized\";\n        try {\n            effectAllowed = e.dataTransfer.effectAllowed.toLowerCase();\n        } catch (e) {}\n        var dropEffect = \"none\";\n\n        if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n        else if (moveAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"move\";\n        else if (copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n\n        return dropEffect;\n    }\n}\n\n(function() {\n\n    this.dragWait = function() {\n        var interval = Date.now() - this.mousedownEvent.time;\n        if (interval > this.editor.getDragDelay())\n            this.startDrag();\n    };\n\n    this.dragWaitEnd = function() {\n        var target = this.editor.container;\n        target.draggable = false;\n        this.startSelect(this.mousedownEvent.getDocumentPosition());\n        this.selectEnd();\n    };\n\n    this.dragReadyEnd = function(e) {\n        this.editor.$resetCursorStyle();\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n        this.dragWaitEnd();\n    };\n\n    this.startDrag = function(){\n        this.cancelDrag = false;\n        var editor = this.editor;\n        var target = editor.container;\n        target.draggable = true;\n        editor.renderer.$cursorLayer.setBlinking(false);\n        editor.setStyle(\"ace_dragging\");\n        var cursorStyle = useragent.isWin ? \"default\" : \"move\";\n        editor.renderer.setCursorStyle(cursorStyle);\n        this.setState(\"dragReady\");\n    };\n\n    this.onMouseDrag = function(e) {\n        var target = this.editor.container;\n        if (useragent.isIE && this.state == \"dragReady\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 3)\n                target.dragDrop();\n        }\n        if (this.state === \"dragWait\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 0) {\n                target.draggable = false;\n                this.startSelect(this.mousedownEvent.getDocumentPosition());\n            }\n        }\n    };\n\n    this.onMouseDown = function(e) {\n        if (!this.$dragEnabled)\n            return;\n        this.mousedownEvent = e;\n        var editor = this.editor;\n\n        var inSelection = e.inSelection();\n        var button = e.getButton();\n        var clickCount = e.domEvent.detail || 1;\n        if (clickCount === 1 && button === 0 && inSelection) {\n            if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey()))\n                return;\n            this.mousedownEvent.time = Date.now();\n            var eventTarget = e.domEvent.target || e.domEvent.srcElement;\n            if (\"unselectable\" in eventTarget)\n                eventTarget.unselectable = \"on\";\n            if (editor.getDragDelay()) {\n                if (useragent.isWebKit) {\n                    this.cancelDrag = true;\n                    var mouseTarget = editor.container;\n                    mouseTarget.draggable = true;\n                }\n                this.setState(\"dragWait\");\n            } else {\n                this.startDrag();\n            }\n            this.captureMouse(e, this.onMouseDrag.bind(this));\n            e.defaultPrevented = true;\n        }\n    };\n\n}).call(DragdropHandler.prototype);\n\n\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\n\nexports.DragdropHandler = DragdropHandler;\n\n});\n\ndefine(\"ace/mouse/touch_handler\",[\"require\",\"exports\",\"module\",\"ace/mouse/mouse_event\",\"ace/lib/event\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar event = require(\"../lib/event\");\nvar dom = require(\"../lib/dom\");\n\nexports.addTouchListeners = function(el, editor) {\n    var mode = \"scroll\";\n    var startX;\n    var startY;\n    var touchStartT;\n    var lastT;\n    var longTouchTimer;\n    var animationTimer;\n    var animationSteps = 0;\n    var pos;\n    var clickCount = 0;\n    var vX = 0;\n    var vY = 0;\n    var pressed;\n    var contextMenu;\n    \n    function createContextMenu() {\n        var clipboard = window.navigator && window.navigator.clipboard;\n        var isOpen = false;\n        var updateMenu = function() {\n            var selected = editor.getCopyText();\n            var hasUndo = editor.session.getUndoManager().hasUndo();\n            contextMenu.replaceChild(\n                dom.buildDom(isOpen ? [\"span\",\n                    !selected && [\"span\", { class: \"ace_mobile-button\", action: \"selectall\" }, \"Select All\"],\n                    selected && [\"span\", { class: \"ace_mobile-button\", action: \"copy\" }, \"Copy\"],\n                    selected && [\"span\", { class: \"ace_mobile-button\", action: \"cut\" }, \"Cut\"],\n                    clipboard && [\"span\", { class: \"ace_mobile-button\", action: \"paste\" }, \"Paste\"],\n                    hasUndo && [\"span\", { class: \"ace_mobile-button\", action: \"undo\" }, \"Undo\"],\n                    [\"span\", { class: \"ace_mobile-button\", action: \"find\" }, \"Find\"],\n                    [\"span\", { class: \"ace_mobile-button\", action: \"openCommandPallete\" }, \"Pallete\"]\n                ] : [\"span\"]),\n                contextMenu.firstChild\n            );\n        };\n        var handleClick = function(e) {\n            var action = e.target.getAttribute(\"action\");\n\n            if (action == \"more\" || !isOpen) {\n                isOpen = !isOpen;\n                return updateMenu();\n            }\n            if (action == \"paste\") {\n                clipboard.readText().then(function (text) {\n                    editor.execCommand(action, text);\n                });\n            }\n            else if (action) {\n                if (action == \"cut\" || action == \"copy\") {\n                    if (clipboard)\n                        clipboard.writeText(editor.getCopyText());\n                    else\n                        document.execCommand(\"copy\");\n                }\n                editor.execCommand(action);\n            }\n            contextMenu.firstChild.style.display = \"none\";\n            isOpen = false;\n            if (action != \"openCommandPallete\")\n                editor.focus();\n        };\n        contextMenu = dom.buildDom([\"div\",\n            {\n                class: \"ace_mobile-menu\",\n                ontouchstart: function(e) {\n                    mode = \"menu\";\n                    e.stopPropagation();\n                    e.preventDefault();\n                    editor.textInput.focus();\n                },\n                ontouchend: function(e) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    handleClick(e);\n                },\n                onclick: handleClick\n            },\n            [\"span\"],\n            [\"span\", { class: \"ace_mobile-button\", action: \"more\" }, \"...\"]\n        ], editor.container);\n    }\n    function showContextMenu() {\n        if (!contextMenu) createContextMenu();\n        var cursor = editor.selection.cursor;\n        var pagePos = editor.renderer.textToScreenCoordinates(cursor.row, cursor.column);\n        var rect = editor.container.getBoundingClientRect();\n        contextMenu.style.top = pagePos.pageY - rect.top - 3 + \"px\";\n        contextMenu.style.right = \"10px\";\n        contextMenu.style.display = \"\";\n        contextMenu.firstChild.style.display = \"none\";\n        editor.on(\"input\", hideContextMenu);\n    }\n    function hideContextMenu(e) {\n        if (contextMenu)\n            contextMenu.style.display = \"none\";\n        editor.off(\"input\", hideContextMenu);\n    }\n\n    function handleLongTap() {\n        longTouchTimer = null;\n        clearTimeout(longTouchTimer);\n        var range = editor.selection.getRange();\n        var inSelection = range.contains(pos.row, pos.column);\n        if (range.isEmpty() || !inSelection) {\n            editor.selection.moveToPosition(pos);\n            editor.selection.selectWord();\n        }\n        mode = \"wait\";\n        showContextMenu();\n    }\n    function switchToSelectionMode() {\n        longTouchTimer = null;\n        clearTimeout(longTouchTimer);\n        editor.selection.moveToPosition(pos);\n        var range = clickCount >= 2\n            ? editor.selection.getLineRange(pos.row)\n            : editor.session.getBracketRange(pos);\n        if (range && !range.isEmpty()) {\n            editor.selection.setRange(range);\n        } else {\n            editor.selection.selectWord();\n        }\n        mode = \"wait\";\n    }\n    event.addListener(el, \"contextmenu\", function(e) {\n        if (!pressed) return;\n        var textarea = editor.textInput.getElement();\n        textarea.focus();\n    });\n    event.addListener(el, \"touchstart\", function (e) {\n        var touches = e.touches;\n        if (longTouchTimer || touches.length > 1) {\n            clearTimeout(longTouchTimer);\n            longTouchTimer = null;\n            touchStartT = -1;\n            mode = \"zoom\";\n            return;\n        }\n        \n        pressed = editor.$mouseHandler.isMousePressed = true;\n        var h = editor.renderer.layerConfig.lineHeight;\n        var w = editor.renderer.layerConfig.lineHeight;\n        var t = e.timeStamp;\n        lastT = t;\n        var touchObj = touches[0];\n        var x = touchObj.clientX;\n        var y = touchObj.clientY;\n        if (Math.abs(startX - x) + Math.abs(startY - y) > h)\n            touchStartT = -1;\n        \n        startX = e.clientX = x;\n        startY = e.clientY = y;\n        vX = vY = 0;\n        \n        var ev = new MouseEvent(e, editor);\n        pos = ev.getDocumentPosition();\n\n        if (t - touchStartT < 500 && touches.length == 1 && !animationSteps) {\n            clickCount++;\n            e.preventDefault();\n            e.button = 0;\n            switchToSelectionMode();\n        } else {\n            clickCount = 0;\n            var cursor = editor.selection.cursor;\n            var anchor = editor.selection.isEmpty() ? cursor : editor.selection.anchor;\n            \n            var cursorPos = editor.renderer.$cursorLayer.getPixelPosition(cursor, true);\n            var anchorPos = editor.renderer.$cursorLayer.getPixelPosition(anchor, true);\n            var rect = editor.renderer.scroller.getBoundingClientRect();\n            var weightedDistance = function(x, y) {\n                x = x / w;\n                y = y / h - 0.75;\n                return x * x + y * y;\n            };\n            \n            if (e.clientX < rect.left) {\n                mode = \"zoom\";\n                return;\n            }\n            \n            var diff1 = weightedDistance(\n                e.clientX - rect.left - cursorPos.left,\n                e.clientY - rect.top - cursorPos.top\n            );\n            var diff2 = weightedDistance(\n                e.clientX - rect.left - anchorPos.left,\n                e.clientY - rect.top - anchorPos.top\n            );\n            if (diff1 < 3.5 && diff2 < 3.5)\n                mode = diff1 > diff2 ? \"cursor\" : \"anchor\";\n                \n            if (diff2 < 3.5)\n                mode = \"anchor\";\n            else if (diff1 < 3.5)\n                mode = \"cursor\";\n            else\n                mode = \"scroll\";\n            longTouchTimer = setTimeout(handleLongTap, 450);\n        }\n        touchStartT = t;\n    });\n\n    event.addListener(el, \"touchend\", function (e) {\n        pressed = editor.$mouseHandler.isMousePressed = false;\n        if (animationTimer) clearInterval(animationTimer);\n        if (mode == \"zoom\") {\n            mode = \"\";\n            animationSteps = 0;\n        } else if (longTouchTimer) {\n            editor.selection.moveToPosition(pos);\n            animationSteps = 0;\n            showContextMenu();\n        } else if (mode == \"scroll\") {\n            animate();\n            e.preventDefault();\n            hideContextMenu();\n        } else {\n            showContextMenu();\n        }\n        clearTimeout(longTouchTimer);\n        longTouchTimer = null;\n    });\n    event.addListener(el, \"touchmove\", function (e) {\n        if (longTouchTimer) {\n            clearTimeout(longTouchTimer);\n            longTouchTimer = null;\n        }\n        var touches = e.touches;\n        if (touches.length > 1 || mode == \"zoom\") return;\n\n        var touchObj = touches[0];\n\n        var wheelX = startX - touchObj.clientX;\n        var wheelY = startY - touchObj.clientY;\n\n        if (mode == \"wait\") {\n            if (wheelX * wheelX + wheelY * wheelY > 4)\n                mode = \"cursor\";\n            else\n                return e.preventDefault();\n        }\n\n        startX = touchObj.clientX;\n        startY = touchObj.clientY;\n\n        e.clientX = touchObj.clientX;\n        e.clientY = touchObj.clientY;\n\n        var t = e.timeStamp;\n        var dt = t - lastT;\n        lastT = t;\n        if (mode == \"scroll\") {\n            var mouseEvent = new MouseEvent(e, editor);\n            mouseEvent.speed = 1;\n            mouseEvent.wheelX = wheelX;\n            mouseEvent.wheelY = wheelY;\n            if (10 * Math.abs(wheelX) < Math.abs(wheelY)) wheelX = 0;\n            if (10 * Math.abs(wheelY) < Math.abs(wheelX)) wheelY = 0;\n            if (dt != 0) {\n                vX = wheelX / dt;\n                vY = wheelY / dt;\n            }\n            editor._emit(\"mousewheel\", mouseEvent);\n            if (!mouseEvent.propagationStopped) {\n                vX = vY = 0;\n            }\n        }\n        else {\n            var ev = new MouseEvent(e, editor);\n            var pos = ev.getDocumentPosition();\n            if (mode == \"cursor\")\n                editor.selection.moveCursorToPosition(pos);\n            else if (mode == \"anchor\")\n                editor.selection.setSelectionAnchor(pos.row, pos.column);\n            editor.renderer.scrollCursorIntoView(pos);\n            e.preventDefault();\n        }\n    });\n\n    function animate() {\n        animationSteps += 60;\n        animationTimer = setInterval(function() {\n            if (animationSteps-- <= 0) {\n                clearInterval(animationTimer);\n                animationTimer = null;\n            }\n            if (Math.abs(vX) < 0.01) vX = 0;\n            if (Math.abs(vY) < 0.01) vY = 0;\n            if (animationSteps < 20) vX = 0.9 * vX;\n            if (animationSteps < 20) vY = 0.9 * vY;\n            var oldScrollTop = editor.session.getScrollTop();\n            editor.renderer.scrollBy(10 * vX, 10 * vY);\n            if (oldScrollTop == editor.session.getScrollTop())\n                animationSteps = 0;\n        }, 10);\n    }\n};\n\n});\n\ndefine(\"ace/lib/net\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\nvar dom = require(\"./dom\");\n\nexports.get = function (url, callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            callback(xhr.responseText);\n        }\n    };\n    xhr.send(null);\n};\n\nexports.loadScript = function(path, callback) {\n    var head = dom.getDocumentHead();\n    var s = document.createElement('script');\n\n    s.src = path;\n    head.appendChild(s);\n\n    s.onload = s.onreadystatechange = function(_, isAbort) {\n        if (isAbort || !s.readyState || s.readyState == \"loaded\" || s.readyState == \"complete\") {\n            s = s.onload = s.onreadystatechange = null;\n            if (!isAbort)\n                callback();\n        }\n    };\n};\nexports.qualifyURL = function(url) {\n    var a = document.createElement('a');\n    a.href = url;\n    return a.href;\n};\n\n});\n\ndefine(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar EventEmitter = {};\nvar stopPropagation = function() { this.propagationStopped = true; };\nvar preventDefault = function() { this.defaultPrevented = true; };\n\nEventEmitter._emit =\nEventEmitter._dispatchEvent = function(eventName, e) {\n    this._eventRegistry || (this._eventRegistry = {});\n    this._defaultHandlers || (this._defaultHandlers = {});\n\n    var listeners = this._eventRegistry[eventName] || [];\n    var defaultHandler = this._defaultHandlers[eventName];\n    if (!listeners.length && !defaultHandler)\n        return;\n\n    if (typeof e != \"object\" || !e)\n        e = {};\n\n    if (!e.type)\n        e.type = eventName;\n    if (!e.stopPropagation)\n        e.stopPropagation = stopPropagation;\n    if (!e.preventDefault)\n        e.preventDefault = preventDefault;\n\n    listeners = listeners.slice();\n    for (var i=0; i<listeners.length; i++) {\n        listeners[i](e, this);\n        if (e.propagationStopped)\n            break;\n    }\n    \n    if (defaultHandler && !e.defaultPrevented)\n        return defaultHandler(e, this);\n};\n\n\nEventEmitter._signal = function(eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners)\n        return;\n    listeners = listeners.slice();\n    for (var i=0; i<listeners.length; i++)\n        listeners[i](e, this);\n};\n\nEventEmitter.once = function(eventName, callback) {\n    var _self = this;\n    this.addEventListener(eventName, function newCallback() {\n        _self.removeEventListener(eventName, newCallback);\n        callback.apply(null, arguments);\n    });\n    if (!callback) {\n        return new Promise(function(resolve) {\n            callback = resolve;\n        });\n    }\n};\n\n\nEventEmitter.setDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        handlers = this._defaultHandlers = {_disabled_: {}};\n    \n    if (handlers[eventName]) {\n        var old = handlers[eventName];\n        var disabled = handlers._disabled_[eventName];\n        if (!disabled)\n            handlers._disabled_[eventName] = disabled = [];\n        disabled.push(old);\n        var i = disabled.indexOf(callback);\n        if (i != -1) \n            disabled.splice(i, 1);\n    }\n    handlers[eventName] = callback;\n};\nEventEmitter.removeDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        return;\n    var disabled = handlers._disabled_[eventName];\n    \n    if (handlers[eventName] == callback) {\n        if (disabled)\n            this.setDefaultHandler(eventName, disabled.pop());\n    } else if (disabled) {\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n};\n\nEventEmitter.on =\nEventEmitter.addEventListener = function(eventName, callback, capturing) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners)\n        listeners = this._eventRegistry[eventName] = [];\n\n    if (listeners.indexOf(callback) == -1)\n        listeners[capturing ? \"unshift\" : \"push\"](callback);\n    return callback;\n};\n\nEventEmitter.off =\nEventEmitter.removeListener =\nEventEmitter.removeEventListener = function(eventName, callback) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners)\n        return;\n\n    var index = listeners.indexOf(callback);\n    if (index !== -1)\n        listeners.splice(index, 1);\n};\n\nEventEmitter.removeAllListeners = function(eventName) {\n    if (this._eventRegistry) this._eventRegistry[eventName] = [];\n};\n\nexports.EventEmitter = EventEmitter;\n\n});\n\ndefine(\"ace/lib/app_config\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"no use strict\";\n\nvar oop = require(\"./oop\");\nvar EventEmitter = require(\"./event_emitter\").EventEmitter;\n\nvar optionsProvider = {\n    setOptions: function(optList) {\n        Object.keys(optList).forEach(function(key) {\n            this.setOption(key, optList[key]);\n        }, this);\n    },\n    getOptions: function(optionNames) {\n        var result = {};\n        if (!optionNames) {\n            var options = this.$options;\n            optionNames = Object.keys(options).filter(function(key) {\n                return !options[key].hidden;\n            });\n        } else if (!Array.isArray(optionNames)) {\n            result = optionNames;\n            optionNames = Object.keys(result);\n        }\n        optionNames.forEach(function(key) {\n            result[key] = this.getOption(key);\n        }, this);\n        return result;\n    },\n    setOption: function(name, value) {\n        if (this[\"$\" + name] === value)\n            return;\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);\n\n        if (!opt.handlesSet)\n            this[\"$\" + name] = value;\n        if (opt && opt.set)\n            opt.set.call(this, value);\n    },\n    getOption: function(name) {\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);\n        return opt && opt.get ? opt.get.call(this) : this[\"$\" + name];\n    }\n};\n\nfunction warn(message) {\n    if (typeof console != \"undefined\" && console.warn)\n        console.warn.apply(console, arguments);\n}\n\nfunction reportError(msg, data) {\n    var e = new Error(msg);\n    e.data = data;\n    if (typeof console == \"object\" && console.error)\n        console.error(e);\n    setTimeout(function() { throw e; });\n}\n\nvar AppConfig = function() {\n    this.$defaultOptions = {};\n};\n\n(function() {\n    oop.implement(this, EventEmitter);\n    this.defineOptions = function(obj, path, options) {\n        if (!obj.$options)\n            this.$defaultOptions[path] = obj.$options = {};\n\n        Object.keys(options).forEach(function(key) {\n            var opt = options[key];\n            if (typeof opt == \"string\")\n                opt = {forwardTo: opt};\n\n            opt.name || (opt.name = key);\n            obj.$options[opt.name] = opt;\n            if (\"initialValue\" in opt)\n                obj[\"$\" + opt.name] = opt.initialValue;\n        });\n        oop.implement(obj, optionsProvider);\n\n        return this;\n    };\n\n    this.resetOptions = function(obj) {\n        Object.keys(obj.$options).forEach(function(key) {\n            var opt = obj.$options[key];\n            if (\"value\" in opt)\n                obj.setOption(key, opt.value);\n        });\n    };\n\n    this.setDefaultValue = function(path, name, value) {\n        if (!path) {\n            for (path in this.$defaultOptions)\n                if (this.$defaultOptions[path][name])\n                    break;\n            if (!this.$defaultOptions[path][name])\n                return false;\n        }\n        var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});\n        if (opts[name]) {\n            if (opts.forwardTo)\n                this.setDefaultValue(opts.forwardTo, name, value);\n            else\n                opts[name].value = value;\n        }\n    };\n\n    this.setDefaultValues = function(path, optionHash) {\n        Object.keys(optionHash).forEach(function(key) {\n            this.setDefaultValue(path, key, optionHash[key]);\n        }, this);\n    };\n    \n    this.warn = warn;\n    this.reportError = reportError;\n    \n}).call(AppConfig.prototype);\n\nexports.AppConfig = AppConfig;\n\n});\n\ndefine(\"ace/config\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/app_config\"], function(require, exports, module) {\n\"no use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar net = require(\"./lib/net\");\nvar AppConfig = require(\"./lib/app_config\").AppConfig;\n\nmodule.exports = exports = new AppConfig();\n\nvar global = (function() {\n    return this || typeof window != \"undefined\" && window;\n})();\n\nvar options = {\n    packaged: false,\n    workerPath: null,\n    modePath: null,\n    themePath: null,\n    basePath: \"\",\n    suffix: \".js\",\n    $moduleUrls: {},\n    loadWorkerFromBlob: true,\n    sharedPopups: false\n};\n\nexports.get = function(key) {\n    if (!options.hasOwnProperty(key))\n        throw new Error(\"Unknown config key: \" + key);\n\n    return options[key];\n};\n\nexports.set = function(key, value) {\n    if (options.hasOwnProperty(key))\n        options[key] = value;\n    else if (this.setDefaultValue(\"\", key, value) == false)\n        throw new Error(\"Unknown config key: \" + key);\n};\n\nexports.all = function() {\n    return lang.copyObject(options);\n};\n\nexports.$modes = {};\nexports.moduleUrl = function(name, component) {\n    if (options.$moduleUrls[name])\n        return options.$moduleUrls[name];\n\n    var parts = name.split(\"/\");\n    component = component || parts[parts.length - 2] || \"\";\n    var sep = component == \"snippets\" ? \"/\" : \"-\";\n    var base = parts[parts.length - 1];\n    if (component == \"worker\" && sep == \"-\") {\n        var re = new RegExp(\"^\" + component + \"[\\\\-_]|[\\\\-_]\" + component + \"$\", \"g\");\n        base = base.replace(re, \"\");\n    }\n\n    if ((!base || base == component) && parts.length > 1)\n        base = parts[parts.length - 2];\n    var path = options[component + \"Path\"];\n    if (path == null) {\n        path = options.basePath;\n    } else if (sep == \"/\") {\n        component = sep = \"\";\n    }\n    if (path && path.slice(-1) != \"/\")\n        path += \"/\";\n    return path + component + sep + base + this.get(\"suffix\");\n};\n\nexports.setModuleUrl = function(name, subst) {\n    return options.$moduleUrls[name] = subst;\n};\n\nexports.$loading = {};\nexports.loadModule = function(moduleName, onLoad) {\n    var module, moduleType;\n    if (Array.isArray(moduleName)) {\n        moduleType = moduleName[0];\n        moduleName = moduleName[1];\n    }\n\n    try {\n        module = require(moduleName);\n    } catch (e) {}\n    if (module && !exports.$loading[moduleName])\n        return onLoad && onLoad(module);\n\n    if (!exports.$loading[moduleName])\n        exports.$loading[moduleName] = [];\n\n    exports.$loading[moduleName].push(onLoad);\n\n    if (exports.$loading[moduleName].length > 1)\n        return;\n\n    var afterLoad = function() {\n        require([moduleName], function(module) {\n            exports._emit(\"load.module\", {name: moduleName, module: module});\n            var listeners = exports.$loading[moduleName];\n            exports.$loading[moduleName] = null;\n            listeners.forEach(function(onLoad) {\n                onLoad && onLoad(module);\n            });\n        });\n    };\n\n    if (!exports.get(\"packaged\"))\n        return afterLoad();\n    \n    net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);\n    reportErrorIfPathIsNotConfigured();\n};\n\nvar reportErrorIfPathIsNotConfigured = function() {\n    if (\n        !options.basePath && !options.workerPath \n        && !options.modePath && !options.themePath\n        && !Object.keys(options.$moduleUrls).length\n    ) {\n        console.error(\n            \"Unable to infer path to ace from script src,\",\n            \"use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes\",\n            \"or with webpack use ace/webpack-resolver\"\n        );\n        reportErrorIfPathIsNotConfigured = function() {};\n    }\n};\ninit(true);function init(packaged) {\n\n    if (!global || !global.document)\n        return;\n    \n    options.packaged = packaged || require.packaged || module.packaged || (global.define && define.packaged);\n\n    var scriptOptions = {};\n    var scriptUrl = \"\";\n    var currentScript = (document.currentScript || document._currentScript ); // native or polyfill\n    var currentDocument = currentScript && currentScript.ownerDocument || document;\n    \n    var scripts = currentDocument.getElementsByTagName(\"script\");\n    for (var i=0; i<scripts.length; i++) {\n        var script = scripts[i];\n\n        var src = script.src || script.getAttribute(\"src\");\n        if (!src)\n            continue;\n\n        var attributes = script.attributes;\n        for (var j=0, l=attributes.length; j < l; j++) {\n            var attr = attributes[j];\n            if (attr.name.indexOf(\"data-ace-\") === 0) {\n                scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, \"\"))] = attr.value;\n            }\n        }\n\n        var m = src.match(/^(.*)\\/ace(\\-\\w+)?\\.js(\\?|$)/);\n        if (m)\n            scriptUrl = m[1];\n    }\n\n    if (scriptUrl) {\n        scriptOptions.base = scriptOptions.base || scriptUrl;\n        scriptOptions.packaged = true;\n    }\n\n    scriptOptions.basePath = scriptOptions.base;\n    scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;\n    scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;\n    scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;\n    delete scriptOptions.base;\n\n    for (var key in scriptOptions)\n        if (typeof scriptOptions[key] !== \"undefined\")\n            exports.set(key, scriptOptions[key]);\n}\n\nexports.init = init;\n\nfunction deHyphenate(str) {\n    return str.replace(/-(.)/g, function(m, m1) { return m1.toUpperCase(); });\n}\n\nexports.version = \"1.4.8\";\n\n});\n\ndefine(\"ace/mouse/mouse_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/mouse/default_handlers\",\"ace/mouse/default_gutter_handler\",\"ace/mouse/mouse_event\",\"ace/mouse/dragdrop_handler\",\"ace/mouse/touch_handler\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar DefaultHandlers = require(\"./default_handlers\").DefaultHandlers;\nvar DefaultGutterHandler = require(\"./default_gutter_handler\").GutterHandler;\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar DragdropHandler = require(\"./dragdrop_handler\").DragdropHandler;\nvar addTouchListeners = require(\"./touch_handler\").addTouchListeners;\nvar config = require(\"../config\");\n\nvar MouseHandler = function(editor) {\n    var _self = this;\n    this.editor = editor;\n\n    new DefaultHandlers(this);\n    new DefaultGutterHandler(this);\n    new DragdropHandler(this);\n\n    var focusEditor = function(e) {\n        var windowBlurred = !document.hasFocus || !document.hasFocus()\n            || !editor.isFocused() && document.activeElement == (editor.textInput && editor.textInput.getElement());\n        if (windowBlurred)\n            window.focus();\n        editor.focus();\n    };\n\n    var mouseTarget = editor.renderer.getMouseEventTarget();\n    event.addListener(mouseTarget, \"click\", this.onMouseEvent.bind(this, \"click\"));\n    event.addListener(mouseTarget, \"mousemove\", this.onMouseMove.bind(this, \"mousemove\"));\n    event.addMultiMouseDownListener([\n        mouseTarget,\n        editor.renderer.scrollBarV && editor.renderer.scrollBarV.inner,\n        editor.renderer.scrollBarH && editor.renderer.scrollBarH.inner,\n        editor.textInput && editor.textInput.getElement()\n    ].filter(Boolean), [400, 300, 250], this, \"onMouseEvent\");\n    event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, \"mousewheel\"));\n    addTouchListeners(editor.container, editor);\n\n    var gutterEl = editor.renderer.$gutter;\n    event.addListener(gutterEl, \"mousedown\", this.onMouseEvent.bind(this, \"guttermousedown\"));\n    event.addListener(gutterEl, \"click\", this.onMouseEvent.bind(this, \"gutterclick\"));\n    event.addListener(gutterEl, \"dblclick\", this.onMouseEvent.bind(this, \"gutterdblclick\"));\n    event.addListener(gutterEl, \"mousemove\", this.onMouseEvent.bind(this, \"guttermousemove\"));\n\n    event.addListener(mouseTarget, \"mousedown\", focusEditor);\n    event.addListener(gutterEl, \"mousedown\", focusEditor);\n    if (useragent.isIE && editor.renderer.scrollBarV) {\n        event.addListener(editor.renderer.scrollBarV.element, \"mousedown\", focusEditor);\n        event.addListener(editor.renderer.scrollBarH.element, \"mousedown\", focusEditor);\n    }\n\n    editor.on(\"mousemove\", function(e){\n        if (_self.state || _self.$dragDelay || !_self.$dragEnabled)\n            return;\n\n        var character = editor.renderer.screenToTextCoordinates(e.x, e.y);\n        var range = editor.session.selection.getRange();\n        var renderer = editor.renderer;\n\n        if (!range.isEmpty() && range.insideStart(character.row, character.column)) {\n            renderer.setCursorStyle(\"default\");\n        } else {\n            renderer.setCursorStyle(\"\");\n        }\n    });\n};\n\n(function() {\n    this.onMouseEvent = function(name, e) {\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseMove = function(name, e) {\n        var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;\n        if (!listeners || !listeners.length)\n            return;\n\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseWheel = function(name, e) {\n        var mouseEvent = new MouseEvent(e, this.editor);\n        mouseEvent.speed = this.$scrollSpeed * 2;\n        mouseEvent.wheelX = e.wheelX;\n        mouseEvent.wheelY = e.wheelY;\n\n        this.editor._emit(name, mouseEvent);\n    };\n    \n    this.setState = function(state) {\n        this.state = state;\n    };\n\n    this.captureMouse = function(ev, mouseMoveHandler) {\n        this.x = ev.x;\n        this.y = ev.y;\n\n        this.isMousePressed = true;\n        var editor = this.editor;\n        var renderer = this.editor.renderer;\n        renderer.$isMousePressed = true;\n\n        var self = this;\n        var onMouseMove = function(e) {\n            if (!e) return;\n            if (useragent.isWebKit && !e.which && self.releaseMouse)\n                return self.releaseMouse();\n\n            self.x = e.clientX;\n            self.y = e.clientY;\n            mouseMoveHandler && mouseMoveHandler(e);\n            self.mouseEvent = new MouseEvent(e, self.editor);\n            self.$mouseMoved = true;\n        };\n\n        var onCaptureEnd = function(e) {\n            editor.off(\"beforeEndOperation\", onOperationEnd);\n            clearInterval(timerId);\n            onCaptureInterval();\n            self[self.state + \"End\"] && self[self.state + \"End\"](e);\n            self.state = \"\";\n            self.isMousePressed = renderer.$isMousePressed = false;\n            if (renderer.$keepTextAreaAtCursor)\n                renderer.$moveTextAreaToCursor();\n            self.$onCaptureMouseMove = self.releaseMouse = null;\n            e && self.onMouseEvent(\"mouseup\", e);\n            editor.endOperation();\n        };\n\n        var onCaptureInterval = function() {\n            self[self.state] && self[self.state]();\n            self.$mouseMoved = false;\n        };\n\n        if (useragent.isOldIE && ev.domEvent.type == \"dblclick\") {\n            return setTimeout(function() {onCaptureEnd(ev);});\n        }\n\n        var onOperationEnd = function(e) {\n            if (!self.releaseMouse) return;\n            if (editor.curOp.command.name && editor.curOp.selectionChanged) {\n                self[self.state + \"End\"] && self[self.state + \"End\"]();\n                self.state = \"\";\n                self.releaseMouse();\n            }\n        };\n\n        editor.on(\"beforeEndOperation\", onOperationEnd);\n        editor.startOperation({command: {name: \"mouse\"}});\n\n        self.$onCaptureMouseMove = onMouseMove;\n        self.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);\n        var timerId = setInterval(onCaptureInterval, 20);\n    };\n    this.releaseMouse = null;\n    this.cancelContextMenu = function() {\n        var stop = function(e) {\n            if (e && e.domEvent && e.domEvent.type != \"contextmenu\")\n                return;\n            this.editor.off(\"nativecontextmenu\", stop);\n            if (e && e.domEvent)\n                event.stopEvent(e.domEvent);\n        }.bind(this);\n        setTimeout(stop, 10);\n        this.editor.on(\"nativecontextmenu\", stop);\n    };\n}).call(MouseHandler.prototype);\n\nconfig.defineOptions(MouseHandler.prototype, \"mouseHandler\", {\n    scrollSpeed: {initialValue: 2},\n    dragDelay: {initialValue: (useragent.isMac ? 150 : 0)},\n    dragEnabled: {initialValue: true},\n    focusTimeout: {initialValue: 0},\n    tooltipFollowsMouse: {initialValue: true}\n});\n\n\nexports.MouseHandler = MouseHandler;\n});\n\ndefine(\"ace/mouse/fold_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\nvar dom = require(\"../lib/dom\");\n\nfunction FoldHandler(editor) {\n\n    editor.on(\"click\", function(e) {\n        var position = e.getDocumentPosition();\n        var session = editor.session;\n        var fold = session.getFoldAt(position.row, position.column, 1);\n        if (fold) {\n            if (e.getAccelKey())\n                session.removeFold(fold);\n            else\n                session.expandFold(fold);\n\n            e.stop();\n        }\n        \n        var target = e.domEvent && e.domEvent.target;\n        if (target && dom.hasCssClass(target, \"ace_inline_button\")) {\n            if (dom.hasCssClass(target, \"ace_toggle_wrap\")) {\n                session.setOption(\"wrap\", !session.getUseWrapMode());\n                editor.renderer.scrollCursorIntoView();\n            }\n        }\n    });\n\n    editor.on(\"gutterclick\", function(e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            if (session.foldWidgets && session.foldWidgets[row])\n                editor.session.onFoldWidgetClick(row, e);\n            if (!editor.isFocused())\n                editor.focus();\n            e.stop();\n        }\n    });\n\n    editor.on(\"gutterdblclick\", function(e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            var data = session.getParentFoldRangeData(row, true);\n            var range = data.range || data.firstRange;\n\n            if (range) {\n                row = range.start.row;\n                var fold = session.getFoldAt(row, session.getLine(row).length, 1);\n\n                if (fold) {\n                    session.removeFold(fold);\n                } else {\n                    session.addFold(\"...\", range);\n                    editor.renderer.scrollCursorIntoView({row: range.start.row, column: 0});\n                }\n            }\n            e.stop();\n        }\n    });\n}\n\nexports.FoldHandler = FoldHandler;\n\n});\n\ndefine(\"ace/keyboard/keybinding\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/event\"], function(require, exports, module) {\n\"use strict\";\n\nvar keyUtil  = require(\"../lib/keys\");\nvar event = require(\"../lib/event\");\n\nvar KeyBinding = function(editor) {\n    this.$editor = editor;\n    this.$data = {editor: editor};\n    this.$handlers = [];\n    this.setDefaultHandler(editor.commands);\n};\n\n(function() {\n    this.setDefaultHandler = function(kb) {\n        this.removeKeyboardHandler(this.$defaultHandler);\n        this.$defaultHandler = kb;\n        this.addKeyboardHandler(kb, 0);\n    };\n\n    this.setKeyboardHandler = function(kb) {\n        var h = this.$handlers;\n        if (h[h.length - 1] == kb)\n            return;\n\n        while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler)\n            this.removeKeyboardHandler(h[h.length - 1]);\n\n        this.addKeyboardHandler(kb, 1);\n    };\n\n    this.addKeyboardHandler = function(kb, pos) {\n        if (!kb)\n            return;\n        if (typeof kb == \"function\" && !kb.handleKeyboard)\n            kb.handleKeyboard = kb;\n        var i = this.$handlers.indexOf(kb);\n        if (i != -1)\n            this.$handlers.splice(i, 1);\n\n        if (pos == undefined)\n            this.$handlers.push(kb);\n        else\n            this.$handlers.splice(pos, 0, kb);\n\n        if (i == -1 && kb.attach)\n            kb.attach(this.$editor);\n    };\n\n    this.removeKeyboardHandler = function(kb) {\n        var i = this.$handlers.indexOf(kb);\n        if (i == -1)\n            return false;\n        this.$handlers.splice(i, 1);\n        kb.detach && kb.detach(this.$editor);\n        return true;\n    };\n\n    this.getKeyboardHandler = function() {\n        return this.$handlers[this.$handlers.length - 1];\n    };\n    \n    this.getStatusText = function() {\n        var data = this.$data;\n        var editor = data.editor;\n        return this.$handlers.map(function(h) {\n            return h.getStatusText && h.getStatusText(editor, data) || \"\";\n        }).filter(Boolean).join(\" \");\n    };\n\n    this.$callKeyboardHandlers = function(hashId, keyString, keyCode, e) {\n        var toExecute;\n        var success = false;\n        var commands = this.$editor.commands;\n\n        for (var i = this.$handlers.length; i--;) {\n            toExecute = this.$handlers[i].handleKeyboard(\n                this.$data, hashId, keyString, keyCode, e\n            );\n            if (!toExecute || !toExecute.command)\n                continue;\n            if (toExecute.command == \"null\") {\n                success = true;\n            } else {\n                success = commands.exec(toExecute.command, this.$editor, toExecute.args, e);\n            }\n            if (success && e && hashId != -1 && \n                toExecute.passEvent != true && toExecute.command.passEvent != true\n            ) {\n                event.stopEvent(e);\n            }\n            if (success)\n                break;\n        }\n        \n        if (!success && hashId == -1) {\n            toExecute = {command: \"insertstring\"};\n            success = commands.exec(\"insertstring\", this.$editor, keyString);\n        }\n        \n        if (success && this.$editor._signal)\n            this.$editor._signal(\"keyboardActivity\", toExecute);\n        \n        return success;\n    };\n\n    this.onCommandKey = function(e, hashId, keyCode) {\n        var keyString = keyUtil.keyCodeToString(keyCode);\n        return this.$callKeyboardHandlers(hashId, keyString, keyCode, e);\n    };\n\n    this.onTextInput = function(text) {\n        return this.$callKeyboardHandlers(-1, text);\n    };\n\n}).call(KeyBinding.prototype);\n\nexports.KeyBinding = KeyBinding;\n});\n\ndefine(\"ace/lib/bidiutil\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar ArabicAlefBetIntervalsBegine = ['\\u0621', '\\u0641'];\nvar ArabicAlefBetIntervalsEnd = ['\\u063A', '\\u064a'];\nvar dir = 0, hiLevel = 0;\nvar lastArabic = false, hasUBAT_AL = false,  hasUBAT_B = false,  hasUBAT_S = false, hasBlockSep = false, hasSegSep = false;\n\nvar impTab_LTR = [\t[\t0,\t\t3,\t\t0,\t\t1,\t\t0,\t\t0,\t\t0\t],\t[\t0,\t\t3,\t\t0,\t\t1,\t\t2,\t\t2,\t\t0\t],\t[\t0,\t\t3,\t\t0,\t\t0x11,\t\t2,\t\t0,\t\t1\t],\t[\t0,\t\t3,\t\t5,\t\t5,\t\t4,\t\t1,\t\t0\t],\t[\t0,\t\t3,\t\t0x15,\t\t0x15,\t\t4,\t\t0,\t\t1\t],\t[\t0,\t\t3,\t\t5,\t\t5,\t\t4,\t\t2,\t\t0\t]\n];\n\nvar impTab_RTL = [\t[\t2,\t\t0,\t\t1,\t\t1,\t\t0,\t\t1,\t\t0\t],\t[\t2,\t\t0,\t\t1,\t\t1,\t\t0,\t\t2,\t\t0\t],\t[\t2,\t\t0,\t\t2,\t\t1,\t\t3,\t\t2,\t\t0\t],\t[\t2,\t\t0,\t\t2,\t\t0x21,\t\t3,\t\t1,\t\t1\t]\n];\n\nvar LTR = 0, RTL = 1;\n\nvar L = 0;\nvar R = 1;\nvar EN = 2;\nvar AN = 3;\nvar ON = 4;\nvar B = 5;\nvar S = 6;\nvar AL = 7;\nvar WS = 8;\nvar CS = 9;\nvar ES = 10;\nvar ET = 11;\nvar NSM = 12;\nvar LRE = 13;\nvar RLE = 14;\nvar PDF = 15;\nvar LRO = 16;\nvar RLO = 17;\nvar BN = 18;\n\nvar UnicodeTBL00 = [\nBN,BN,BN,BN,BN,BN,BN,BN,BN,S,B,S,WS,B,BN,BN,\nBN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,B,B,B,S,\nWS,ON,ON,ET,ET,ET,ON,ON,ON,ON,ON,ES,CS,ES,CS,CS,\nEN,EN,EN,EN,EN,EN,EN,EN,EN,EN,CS,ON,ON,ON,ON,ON,\nON,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,\nL,L,L,L,L,L,L,L,L,L,L,ON,ON,ON,ON,ON,\nON,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,\nL,L,L,L,L,L,L,L,L,L,L,ON,ON,ON,ON,BN,\nBN,BN,BN,BN,BN,B,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,\nBN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,\nCS,ON,ET,ET,ET,ET,ON,ON,ON,ON,L,ON,ON,BN,ON,ON,\nET,ET,EN,EN,ON,L,ON,ON,ON,EN,L,ON,ON,ON,ON,ON\n];\n\nvar UnicodeTBL20 = [\nWS,WS,WS,WS,WS,WS,WS,WS,WS,WS,WS,BN,BN,BN,L,R\t,\nON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,\nON,ON,ON,ON,ON,ON,ON,ON,WS,B,LRE,RLE,PDF,LRO,RLO,CS,\nET,ET,ET,ET,ET,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,\nON,ON,ON,ON,CS,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,\nON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,WS\n];\n\nfunction _computeLevels(chars, levels, len, charTypes) {\n\tvar impTab = dir ? impTab_RTL : impTab_LTR\n\t\t, prevState = null, newClass = null, newLevel = null, newState = 0\n\t\t, action = null, cond = null, condPos = -1, i = null, ix = null, classes = [];\n\n\tif (!charTypes) {\n\t\tfor (i = 0, charTypes = []; i < len; i++) {\n\t\t\tcharTypes[i] = _getCharacterType(chars[i]);\n\t\t}\n\t}\n\thiLevel = dir;\n\tlastArabic = false;\n\thasUBAT_AL = false;\n\thasUBAT_B = false;\n\thasUBAT_S = false;\n\tfor (ix = 0; ix < len; ix++){\n\t\tprevState = newState;\n\t\tclasses[ix] = newClass = _getCharClass(chars, charTypes, classes, ix);\n\t\tnewState = impTab[prevState][newClass];\n\t\taction = newState & 0xF0;\n\t\tnewState &= 0x0F;\n\t\tlevels[ix] = newLevel = impTab[newState][5];\n\t\tif (action > 0){\n\t\t\tif (action == 0x10){\n\t\t\t\tfor(i = condPos; i < ix; i++){\n\t\t\t\t\tlevels[i] = 1;\n\t\t\t\t}\n\t\t\t\tcondPos = -1;\n\t\t\t} else {\n\t\t\t\tcondPos = -1;\n\t\t\t}\n\t\t}\n\t\tcond = impTab[newState][6];\n\t\tif (cond){\n\t\t\tif(condPos == -1){\n\t\t\t\tcondPos = ix;\n\t\t\t}\n\t\t}else{\n\t\t\tif (condPos > -1){\n\t\t\t\tfor(i = condPos; i < ix; i++){\n\t\t\t\t\tlevels[i] = newLevel;\n\t\t\t\t}\n\t\t\t\tcondPos = -1;\n\t\t\t}\n\t\t}\n\t\tif (charTypes[ix] == B){\n\t\t\tlevels[ix] = 0;\n\t\t}\n\t\thiLevel |= newLevel;\n\t}\n\tif (hasUBAT_S){\n\t\tfor(i = 0; i < len; i++){\n\t\t\tif(charTypes[i] == S){\n\t\t\t\tlevels[i] = dir;\n\t\t\t\tfor(var j = i - 1; j >= 0; j--){\n\t\t\t\t\tif(charTypes[j] == WS){\n\t\t\t\t\t\tlevels[j] = dir;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction _invertLevel(lev, levels, _array) {\n\tif (hiLevel < lev){\n\t\treturn;\n\t}\n\tif (lev == 1 && dir == RTL && !hasUBAT_B){\n\t\t_array.reverse();\n\t\treturn;\n\t}\n\tvar len = _array.length, start = 0, end, lo, hi, tmp;\n\twhile(start < len){\n\t\tif (levels[start] >= lev){\n\t\t\tend = start + 1;\n\t\twhile(end < len && levels[end] >= lev){\n\t\t\tend++;\n\t\t}\n\t\tfor(lo = start, hi = end - 1 ; lo < hi; lo++, hi--){\n\t\t\ttmp = _array[lo];\n\t\t\t_array[lo] = _array[hi];\n\t\t\t_array[hi] = tmp;\n\t\t}\n\t\tstart = end;\n\t}\n\tstart++;\n\t}\n}\n\nfunction _getCharClass(chars, types, classes, ix) {\t\t\t\n\tvar cType = types[ix], wType, nType, len, i;\n\tswitch(cType){\n\t\tcase L:\n\t\tcase R:\n\t\t\tlastArabic = false;\n\t\tcase ON:\n\t\tcase AN:\n\t\t\treturn cType;\n\t\tcase EN:\n\t\t\treturn lastArabic ? AN : EN;\n\t\tcase AL:\n\t\t\tlastArabic = true;\n\t\t\thasUBAT_AL = true;\n\t\t\treturn R;\n\t\tcase WS:\n\t\t\treturn ON;\n\t\tcase CS:\n\t\t\tif (ix < 1 || (ix + 1) >= types.length ||\n\t\t\t\t((wType = classes[ix - 1]) != EN && wType != AN) ||\n\t\t\t\t((nType = types[ix + 1]) != EN && nType != AN)){\n\t\t\t\treturn ON;\n\t\t\t}\n\t\t\tif (lastArabic){nType = AN;}\n\t\t\treturn nType == wType ? nType : ON;\n\t\tcase ES:\n\t\t\twType = ix > 0 ? classes[ix - 1] : B;\n\t\t\tif (wType == EN && (ix + 1) < types.length && types[ix + 1] == EN){\n\t\t\t\treturn EN;\n\t\t\t}\n\t\t\treturn ON;\n\t\tcase ET:\n\t\t\tif (ix > 0 && classes[ix - 1] == EN){\n\t\t\t\treturn EN;\n\t\t\t}\n\t\t\tif (lastArabic){\n\t\t\t\treturn ON;\n\t\t\t}\n\t\t\ti = ix + 1;\n\t\t\tlen = types.length;\n\t\t\twhile (i < len && types[i] == ET){\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (i < len && types[i] == EN){\n\t\t\t\treturn EN;\n\t\t\t}\n\t\t\treturn ON;\n\t\tcase NSM:\n\t\t\tlen = types.length;\n\t\t\ti = ix + 1;\n\t\t\twhile (i < len && types[i] == NSM){\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (i < len){\n\t\t\t\tvar c = chars[ix], rtlCandidate = (c >= 0x0591 && c <= 0x08FF) || c == 0xFB1E;\n\t\t\t\t\n\t\t\t\twType = types[i];\n\t\t\t\tif (rtlCandidate && (wType == R || wType == AL)){\n\t\t\t\t\treturn R;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (ix < 1 || (wType = types[ix - 1]) == B){\n\t\t\t\treturn ON;\n\t\t\t}\n\t\t\treturn classes[ix - 1];\n\t\tcase B:\n\t\t\tlastArabic = false;\n\t\t\thasUBAT_B = true;\n\t\t\treturn dir;\n\t\tcase S:\n\t\t\thasUBAT_S = true;\n\t\t\treturn ON;\n\t\tcase LRE:\n\t\tcase RLE:\n\t\tcase LRO:\n\t\tcase RLO:\n\t\tcase PDF:\n\t\t\tlastArabic = false;\n\t\tcase BN:\n\t\t\treturn ON;\n\t}\n}\n\nfunction _getCharacterType( ch ) {\t\t\n\tvar uc = ch.charCodeAt(0), hi = uc >> 8;\n\t\n\tif (hi == 0) {\t\t\n\t\treturn ((uc > 0x00BF) ? L : UnicodeTBL00[uc]);\n\t} else if (hi == 5) {\n\t\treturn (/[\\u0591-\\u05f4]/.test(ch) ? R : L);\n\t} else if (hi == 6) {\n\t\tif (/[\\u0610-\\u061a\\u064b-\\u065f\\u06d6-\\u06e4\\u06e7-\\u06ed]/.test(ch))\n\t\t\treturn NSM;\n\t\telse if (/[\\u0660-\\u0669\\u066b-\\u066c]/.test(ch))\n\t\t\treturn AN;\n\t\telse if (uc == 0x066A)\n\t\t\treturn ET;\n\t\telse if (/[\\u06f0-\\u06f9]/.test(ch))\n\t\t\treturn EN;\t\t\t\n\t\telse\n\t\t\treturn AL;\n\t} else if (hi == 0x20 && uc <= 0x205F) {\n\t\treturn UnicodeTBL20[uc & 0xFF];\n\t} else if (hi == 0xFE) {\n\t\treturn (uc >= 0xFE70 ? AL : ON);\n\t}\t\t\n\treturn ON;\t\n}\n\nfunction _isArabicDiacritics( ch ) {\n\treturn (ch >= '\\u064b' && ch <= '\\u0655');\n}\nexports.L = L;\nexports.R = R;\nexports.EN = EN;\nexports.ON_R = 3;\nexports.AN = 4;\nexports.R_H = 5;\nexports.B = 6;\nexports.RLE = 7;\n\nexports.DOT = \"\\xB7\";\nexports.doBidiReorder = function(text, textCharTypes, isRtl) {\n\tif (text.length < 2)\n\t\treturn {};\n\t\t\n\tvar chars = text.split(\"\"), logicalFromVisual = new Array(chars.length),\n\t\tbidiLevels = new Array(chars.length), levels = []; \n\n\tdir = isRtl ? RTL : LTR;\n\n\t_computeLevels(chars, levels, chars.length, textCharTypes);\n\n\tfor (var i = 0; i < logicalFromVisual.length; logicalFromVisual[i] = i, i++);\n\n\t_invertLevel(2, levels, logicalFromVisual);\n\t_invertLevel(1, levels, logicalFromVisual);\n\n\tfor (var i = 0; i < logicalFromVisual.length - 1; i++) { //fix levels to reflect character width\n\t\tif (textCharTypes[i] === AN) {\n\t\t\tlevels[i] = exports.AN;\n\t\t} else if (levels[i] === R && ((textCharTypes[i] > AL && textCharTypes[i] < LRE) \n\t\t\t|| textCharTypes[i] === ON || textCharTypes[i] === BN)) {\n\t\t\tlevels[i] = exports.ON_R;\n\t\t} else if ((i > 0 && chars[i - 1] === '\\u0644') && /\\u0622|\\u0623|\\u0625|\\u0627/.test(chars[i])) {\n\t\t\tlevels[i - 1] = levels[i] = exports.R_H;\n\t\t\ti++;\n\t\t}\n\t}\n\tif (chars[chars.length - 1] === exports.DOT)\n\t\tlevels[chars.length - 1] = exports.B;\n\t\t\t\t\n\tif (chars[0] === '\\u202B')\n\t\tlevels[0] = exports.RLE;\n\t\t\t\t\n\tfor (var i = 0; i < logicalFromVisual.length; i++) {\n\t\tbidiLevels[i] = levels[logicalFromVisual[i]];\n\t}\n\n\treturn {'logicalFromVisual': logicalFromVisual, 'bidiLevels': bidiLevels};\n};\nexports.hasBidiCharacters = function(text, textCharTypes){\n\tvar ret = false;\n\tfor (var i = 0; i < text.length; i++){\n\t\ttextCharTypes[i] = _getCharacterType(text.charAt(i));\n\t\tif (!ret && (textCharTypes[i] == R || textCharTypes[i] == AL || textCharTypes[i] == AN))\n\t\t\tret = true;\n\t}\n\treturn ret;\n};\t\nexports.getVisualFromLogicalIdx = function(logIdx, rowMap) {\n\tfor (var i = 0; i < rowMap.logicalFromVisual.length; i++) {\n\t\tif (rowMap.logicalFromVisual[i] == logIdx)\n\t\t\treturn i;\n\t}\n\treturn 0;\n};\n\n});\n\ndefine(\"ace/bidihandler\",[\"require\",\"exports\",\"module\",\"ace/lib/bidiutil\",\"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar bidiUtil = require(\"./lib/bidiutil\");\nvar lang = require(\"./lib/lang\");\nvar bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\u202B]/;\nvar BidiHandler = function(session) {\n    this.session = session;\n    this.bidiMap = {};\n    this.currentRow = null;\n    this.bidiUtil = bidiUtil;\n    this.charWidths = [];\n    this.EOL = \"\\xAC\";\n    this.showInvisibles = true;\n    this.isRtlDir = false;\n    this.$isRtl = false;\n    this.line = \"\";\n    this.wrapIndent = 0;\n    this.EOF = \"\\xB6\";\n    this.RLE = \"\\u202B\";\n    this.contentWidth = 0;\n    this.fontMetrics = null;\n    this.rtlLineOffset = 0;\n    this.wrapOffset = 0;\n    this.isMoveLeftOperation = false;\n    this.seenBidi = bidiRE.test(session.getValue());\n};\n\n(function() {\n    this.isBidiRow = function(screenRow, docRow, splitIndex) {\n        if (!this.seenBidi)\n            return false;\n        if (screenRow !== this.currentRow) {\n            this.currentRow = screenRow;\n            this.updateRowLine(docRow, splitIndex);\n            this.updateBidiMap();\n        }\n        return this.bidiMap.bidiLevels;\n    };\n\n    this.onChange = function(delta) {\n        if (!this.seenBidi) {\n            if (delta.action == \"insert\" && bidiRE.test(delta.lines.join(\"\\n\"))) {\n                this.seenBidi = true;\n                this.currentRow = null;\n            }\n        } \n        else {\n            this.currentRow = null;\n        }\n    };\n\n    this.getDocumentRow = function() {\n        var docRow = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var index = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            if (index >= 0)\n                docRow = this.session.$docRowCache[index];\n        }\n\n        return docRow;\n    };\n\n    this.getSplitIndex = function() {\n        var splitIndex = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var currentIndex, prevIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            while (this.currentRow - splitIndex > 0) {\n                currentIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow - splitIndex - 1);\n                if (currentIndex !== prevIndex)\n                    break;\n\n                prevIndex = currentIndex;\n                splitIndex++;\n            }\n        } else {\n            splitIndex = this.currentRow;\n        }\n\n        return splitIndex;\n    };\n\n    this.updateRowLine = function(docRow, splitIndex) {\n        if (docRow === undefined)\n            docRow = this.getDocumentRow();\n            \n        var isLastRow = (docRow === this.session.getLength() - 1),\n            endOfLine = isLastRow ? this.EOF : this.EOL;\n\n        this.wrapIndent = 0;\n        this.line = this.session.getLine(docRow);\n        this.isRtlDir = this.$isRtl || this.line.charAt(0) === this.RLE;\n        if (this.session.$useWrapMode) {\n            var splits = this.session.$wrapData[docRow];\n            if (splits) {\n                if (splitIndex === undefined)\n                    splitIndex = this.getSplitIndex();\n\n                if(splitIndex > 0 && splits.length) {\n                    this.wrapIndent = splits.indent;\n                    this.wrapOffset = this.wrapIndent * this.charWidths[bidiUtil.L];\n                    this.line = (splitIndex < splits.length) ?\n                        this.line.substring(splits[splitIndex - 1], splits[splitIndex]) :\n                            this.line.substring(splits[splits.length - 1]);\n                } else {\n                    this.line = this.line.substring(0, splits[splitIndex]);\n                }\n            }\n            if (splitIndex == splits.length)\n                this.line += (this.showInvisibles) ? endOfLine : bidiUtil.DOT;\n        } else {\n            this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;\n        }\n        var session = this.session, shift = 0, size;\n        this.line = this.line.replace(/\\t|[\\u1100-\\u2029, \\u202F-\\uFFE6]/g, function(ch, i){\n            if (ch === '\\t' || session.isFullWidth(ch.charCodeAt(0))) {\n                size = (ch === '\\t') ? session.getScreenTabSize(i + shift) : 2;\n                shift += size - 1;\n                return lang.stringRepeat(bidiUtil.DOT, size);\n            }\n            return ch;\n        });\n\n        if (this.isRtlDir) {\n            this.fontMetrics.$main.textContent = (this.line.charAt(this.line.length - 1) == bidiUtil.DOT) ? this.line.substr(0, this.line.length - 1) : this.line;\n            this.rtlLineOffset = this.contentWidth - this.fontMetrics.$main.getBoundingClientRect().width;\n        }\n    };\n    \n    this.updateBidiMap = function() {\n        var textCharTypes = [];\n        if (bidiUtil.hasBidiCharacters(this.line, textCharTypes) || this.isRtlDir) {\n             this.bidiMap = bidiUtil.doBidiReorder(this.line, textCharTypes, this.isRtlDir);\n        } else {\n            this.bidiMap = {};\n        }\n    };\n    this.markAsDirty = function() {\n        this.currentRow = null;\n    };\n    this.updateCharacterWidths = function(fontMetrics) {\n        if (this.characterWidth === fontMetrics.$characterSize.width)\n            return;\n\n        this.fontMetrics = fontMetrics;\n        var characterWidth = this.characterWidth = fontMetrics.$characterSize.width;\n        var bidiCharWidth = fontMetrics.$measureCharWidth(\"\\u05d4\");\n\n        this.charWidths[bidiUtil.L] = this.charWidths[bidiUtil.EN] = this.charWidths[bidiUtil.ON_R] = characterWidth;\n        this.charWidths[bidiUtil.R] = this.charWidths[bidiUtil.AN] = bidiCharWidth;\n        this.charWidths[bidiUtil.R_H] = bidiCharWidth * 0.45;\n        this.charWidths[bidiUtil.B] = this.charWidths[bidiUtil.RLE] = 0;\n\n        this.currentRow = null;\n    };\n\n    this.setShowInvisibles = function(showInvisibles) {\n        this.showInvisibles = showInvisibles;\n        this.currentRow = null;\n    };\n\n    this.setEolChar = function(eolChar) {\n        this.EOL = eolChar; \n    };\n\n    this.setContentWidth = function(width) {\n        this.contentWidth = width;\n    };\n\n    this.isRtlLine = function(row) {\n        if (this.$isRtl) return true;\n        if (row != undefined)\n            return (this.session.getLine(row).charAt(0) == this.RLE);\n        else\n            return this.isRtlDir; \n    };\n\n    this.setRtlDirection = function(editor, isRtlDir) {\n        var cursor = editor.getCursorPosition(); \n        for (var row = editor.selection.getSelectionAnchor().row; row <= cursor.row; row++) {\n            if (!isRtlDir && editor.session.getLine(row).charAt(0) === editor.session.$bidiHandler.RLE)\n                editor.session.doc.removeInLine(row, 0, 1);\n            else if (isRtlDir && editor.session.getLine(row).charAt(0) !== editor.session.$bidiHandler.RLE)\n                editor.session.doc.insert({column: 0, row: row}, editor.session.$bidiHandler.RLE);\n        }\n    };\n    this.getPosLeft = function(col) {\n        col -= this.wrapIndent;\n        var leftBoundary = (this.line.charAt(0) === this.RLE) ? 1 : 0;\n        var logicalIdx = (col > leftBoundary) ? (this.session.getOverwrite() ? col : col - 1) : leftBoundary;\n        var visualIdx = bidiUtil.getVisualFromLogicalIdx(logicalIdx, this.bidiMap),\n            levels = this.bidiMap.bidiLevels, left = 0;\n\n        if (!this.session.getOverwrite() && col <= leftBoundary && levels[visualIdx] % 2 !== 0)\n            visualIdx++;\n            \n        for (var i = 0; i < visualIdx; i++) {\n            left += this.charWidths[levels[i]];\n        }\n\n        if (!this.session.getOverwrite() && (col > leftBoundary) && (levels[visualIdx] % 2 === 0))\n            left += this.charWidths[levels[visualIdx]];\n\n        if (this.wrapIndent)\n            left += this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n\n        if (this.isRtlDir)\n            left += this.rtlLineOffset;\n\n        return left;\n    };\n    this.getSelections = function(startCol, endCol) {\n        var map = this.bidiMap, levels = map.bidiLevels, level, selections = [], offset = 0,\n            selColMin = Math.min(startCol, endCol) - this.wrapIndent, selColMax = Math.max(startCol, endCol) - this.wrapIndent,\n                isSelected = false, isSelectedPrev = false, selectionStart = 0;\n            \n        if (this.wrapIndent)\n            offset += this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n\n        for (var logIdx, visIdx = 0; visIdx < levels.length; visIdx++) {\n            logIdx = map.logicalFromVisual[visIdx];\n            level = levels[visIdx];\n            isSelected = (logIdx >= selColMin) && (logIdx < selColMax);\n            if (isSelected && !isSelectedPrev) {\n                selectionStart = offset;\n            } else if (!isSelected && isSelectedPrev) {\n                selections.push({left: selectionStart, width: offset - selectionStart});\n            }\n            offset += this.charWidths[level];\n            isSelectedPrev = isSelected;\n        }\n\n        if (isSelected && (visIdx === levels.length)) {\n            selections.push({left: selectionStart, width: offset - selectionStart});\n        }\n\n        if(this.isRtlDir) {\n            for (var i = 0; i < selections.length; i++) {\n                selections[i].left += this.rtlLineOffset;\n            }\n        }\n        return selections;\n    };\n    this.offsetToCol = function(posX) {\n        if(this.isRtlDir)\n            posX -= this.rtlLineOffset;\n\n        var logicalIdx = 0, posX = Math.max(posX, 0),\n            offset = 0, visualIdx = 0, levels = this.bidiMap.bidiLevels,\n                charWidth = this.charWidths[levels[visualIdx]];\n\n        if (this.wrapIndent)\n           posX -= this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n    \n        while(posX > offset + charWidth/2) {\n            offset += charWidth;\n            if(visualIdx === levels.length - 1) {\n                charWidth = 0;\n                break;\n            }\n            charWidth = this.charWidths[levels[++visualIdx]];\n        }\n    \n        if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && (levels[visualIdx] % 2 === 0)){\n            if(posX < offset)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n\n        } else if (visualIdx > 0 && (levels[visualIdx - 1] % 2 === 0) && (levels[visualIdx] % 2 !== 0)){\n            logicalIdx = 1 + ((posX > offset) ? this.bidiMap.logicalFromVisual[visualIdx]\n                    : this.bidiMap.logicalFromVisual[visualIdx - 1]);\n\n        } else if ((this.isRtlDir && visualIdx === levels.length - 1 && charWidth === 0 && (levels[visualIdx - 1] % 2 === 0))\n                || (!this.isRtlDir && visualIdx === 0 && (levels[visualIdx] % 2 !== 0))){\n            logicalIdx = 1 + this.bidiMap.logicalFromVisual[visualIdx];\n        } else {\n            if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && charWidth !== 0)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n        }\n\n        if (logicalIdx === 0 && this.isRtlDir)\n            logicalIdx++;\n\n        return (logicalIdx + this.wrapIndent);\n    };\n\n}).call(BidiHandler.prototype);\n\nexports.BidiHandler = BidiHandler;\n});\n\ndefine(\"ace/selection\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Selection = function(session) {\n    this.session = session;\n    this.doc = session.getDocument();\n\n    this.clearSelection();\n    this.cursor = this.lead = this.doc.createAnchor(0, 0);\n    this.anchor = this.doc.createAnchor(0, 0);\n    this.$silent = false;\n\n    var self = this;\n    this.cursor.on(\"change\", function(e) {\n        self.$cursorChanged = true;\n        if (!self.$silent)\n            self._emit(\"changeCursor\");\n        if (!self.$isEmpty && !self.$silent)\n            self._emit(\"changeSelection\");\n        if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column)\n            self.$desiredColumn = null;\n    });\n\n    this.anchor.on(\"change\", function() {\n        self.$anchorChanged = true;\n        if (!self.$isEmpty && !self.$silent)\n            self._emit(\"changeSelection\");\n    });\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.isEmpty = function() {\n        return this.$isEmpty || (\n            this.anchor.row == this.lead.row &&\n            this.anchor.column == this.lead.column\n        );\n    };\n    this.isMultiLine = function() {\n        return !this.$isEmpty && this.anchor.row != this.cursor.row;\n    };\n    this.getCursor = function() {\n        return this.lead.getPosition();\n    };\n    this.setSelectionAnchor = function(row, column) {\n        this.$isEmpty = false;\n        this.anchor.setPosition(row, column);\n    };\n    this.getAnchor = \n    this.getSelectionAnchor = function() {\n        if (this.$isEmpty)\n            return this.getSelectionLead();\n        \n        return this.anchor.getPosition();\n    };\n    this.getSelectionLead = function() {\n        return this.lead.getPosition();\n    };\n    this.isBackwards = function() {\n        var anchor = this.anchor;\n        var lead = this.lead;\n        return (anchor.row > lead.row || (anchor.row == lead.row && anchor.column > lead.column));\n    };\n    this.getRange = function() {\n        var anchor = this.anchor;\n        var lead = this.lead;\n\n        if (this.$isEmpty)\n            return Range.fromPoints(lead, lead);\n\n        return this.isBackwards()\n            ? Range.fromPoints(lead, anchor)\n            : Range.fromPoints(anchor, lead);\n    };\n    this.clearSelection = function() {\n        if (!this.$isEmpty) {\n            this.$isEmpty = true;\n            this._emit(\"changeSelection\");\n        }\n    };\n    this.selectAll = function() {\n        this.$setSelection(0, 0, Number.MAX_VALUE, Number.MAX_VALUE);\n    };\n    this.setRange =\n    this.setSelectionRange = function(range, reverse) {\n        var start = reverse ? range.end : range.start;\n        var end = reverse ? range.start : range.end;\n        this.$setSelection(start.row, start.column, end.row, end.column);\n    };\n\n    this.$setSelection = function(anchorRow, anchorColumn, cursorRow, cursorColumn) {\n        if (this.$silent)\n            return;\n        var wasEmpty = this.$isEmpty;\n        var wasMultiselect = this.inMultiSelectMode;\n        this.$silent = true;\n        this.$cursorChanged = this.$anchorChanged = false;\n        this.anchor.setPosition(anchorRow, anchorColumn);\n        this.cursor.setPosition(cursorRow, cursorColumn);\n        this.$isEmpty = !Range.comparePoints(this.anchor, this.cursor);\n        this.$silent = false;\n        if (this.$cursorChanged)\n            this._emit(\"changeCursor\");\n        if (this.$cursorChanged || this.$anchorChanged || wasEmpty != this.$isEmpty || wasMultiselect)\n            this._emit(\"changeSelection\");\n    };\n\n    this.$moveSelection = function(mover) {\n        var lead = this.lead;\n        if (this.$isEmpty)\n            this.setSelectionAnchor(lead.row, lead.column);\n\n        mover.call(this);\n    };\n    this.selectTo = function(row, column) {\n        this.$moveSelection(function() {\n            this.moveCursorTo(row, column);\n        });\n    };\n    this.selectToPosition = function(pos) {\n        this.$moveSelection(function() {\n            this.moveCursorToPosition(pos);\n        });\n    };\n    this.moveTo = function(row, column) {\n        this.clearSelection();\n        this.moveCursorTo(row, column);\n    };\n    this.moveToPosition = function(pos) {\n        this.clearSelection();\n        this.moveCursorToPosition(pos);\n    };\n    this.selectUp = function() {\n        this.$moveSelection(this.moveCursorUp);\n    };\n    this.selectDown = function() {\n        this.$moveSelection(this.moveCursorDown);\n    };\n    this.selectRight = function() {\n        this.$moveSelection(this.moveCursorRight);\n    };\n    this.selectLeft = function() {\n        this.$moveSelection(this.moveCursorLeft);\n    };\n    this.selectLineStart = function() {\n        this.$moveSelection(this.moveCursorLineStart);\n    };\n    this.selectLineEnd = function() {\n        this.$moveSelection(this.moveCursorLineEnd);\n    };\n    this.selectFileEnd = function() {\n        this.$moveSelection(this.moveCursorFileEnd);\n    };\n    this.selectFileStart = function() {\n        this.$moveSelection(this.moveCursorFileStart);\n    };\n    this.selectWordRight = function() {\n        this.$moveSelection(this.moveCursorWordRight);\n    };\n    this.selectWordLeft = function() {\n        this.$moveSelection(this.moveCursorWordLeft);\n    };\n    this.getWordRange = function(row, column) {\n        if (typeof column == \"undefined\") {\n            var cursor = row || this.lead;\n            row = cursor.row;\n            column = cursor.column;\n        }\n        return this.session.getWordRange(row, column);\n    };\n    this.selectWord = function() {\n        this.setSelectionRange(this.getWordRange());\n    };\n    this.selectAWord = function() {\n        var cursor = this.getCursor();\n        var range = this.session.getAWordRange(cursor.row, cursor.column);\n        this.setSelectionRange(range);\n    };\n\n    this.getLineRange = function(row, excludeLastChar) {\n        var rowStart = typeof row == \"number\" ? row : this.lead.row;\n        var rowEnd;\n\n        var foldLine = this.session.getFoldLine(rowStart);\n        if (foldLine) {\n            rowStart = foldLine.start.row;\n            rowEnd = foldLine.end.row;\n        } else {\n            rowEnd = rowStart;\n        }\n        if (excludeLastChar === true)\n            return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);\n        else\n            return new Range(rowStart, 0, rowEnd + 1, 0);\n    };\n    this.selectLine = function() {\n        this.setSelectionRange(this.getLineRange());\n    };\n    this.moveCursorUp = function() {\n        this.moveCursorBy(-1, 0);\n    };\n    this.moveCursorDown = function() {\n        this.moveCursorBy(1, 0);\n    };\n    this.wouldMoveIntoSoftTab = function(cursor, tabSize, direction) {\n        var start = cursor.column;\n        var end = cursor.column + tabSize;\n\n        if (direction < 0) {\n            start = cursor.column - tabSize;\n            end = cursor.column;\n        }\n        return this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(start, end).split(\" \").length-1 == tabSize;\n    };\n    this.moveCursorLeft = function() {\n        var cursor = this.lead.getPosition(),\n            fold;\n\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n        } else if (cursor.column === 0) {\n            if (cursor.row > 0) {\n                this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, -1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, -tabSize);\n            } else {\n                this.moveCursorBy(0, -1);\n            }\n        }\n    };\n    this.moveCursorRight = function() {\n        var cursor = this.lead.getPosition(),\n            fold;\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n        }\n        else if (this.lead.column == this.doc.getLine(this.lead.row).length) {\n            if (this.lead.row < this.doc.getLength() - 1) {\n                this.moveCursorTo(this.lead.row + 1, 0);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            var cursor = this.lead;\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, 1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, tabSize);\n            } else {\n                this.moveCursorBy(0, 1);\n            }\n        }\n    };\n    this.moveCursorLineStart = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var screenRow = this.session.documentToScreenRow(row, column);\n        var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);\n        var beforeCursor = this.session.getDisplayLine(\n            row, null, firstColumnPosition.row,\n            firstColumnPosition.column\n        );\n\n        var leadingSpace = beforeCursor.match(/^\\s*/);\n        if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart)\n            firstColumnPosition.column += leadingSpace[0].length;\n        this.moveCursorToPosition(firstColumnPosition);\n    };\n    this.moveCursorLineEnd = function() {\n        var lead = this.lead;\n        var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);\n        if (this.lead.column == lineEnd.column) {\n            var line = this.session.getLine(lineEnd.row);\n            if (lineEnd.column == line.length) {\n                var textEnd = line.search(/\\s+$/);\n                if (textEnd > 0)\n                    lineEnd.column = textEnd;\n            }\n        }\n\n        this.moveCursorTo(lineEnd.row, lineEnd.column);\n    };\n    this.moveCursorFileEnd = function() {\n        var row = this.doc.getLength() - 1;\n        var column = this.doc.getLine(row).length;\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorFileStart = function() {\n        this.moveCursorTo(0, 0);\n    };\n    this.moveCursorLongWordRight = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n            return;\n        }\n        if (this.session.nonTokenRe.exec(rightOfCursor)) {\n            column += this.session.nonTokenRe.lastIndex;\n            this.session.nonTokenRe.lastIndex = 0;\n            rightOfCursor = line.substring(column);\n        }\n        if (column >= line.length) {\n            this.moveCursorTo(row, line.length);\n            this.moveCursorRight();\n            if (row < this.doc.getLength() - 1)\n                this.moveCursorWordRight();\n            return;\n        }\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n            column += this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorLongWordLeft = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n            return;\n        }\n\n        var str = this.session.getFoldStringAt(row, column, -1);\n        if (str == null) {\n            str = this.doc.getLine(row).substring(0, column);\n        }\n\n        var leftOfCursor = lang.stringReverse(str);\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        if (this.session.nonTokenRe.exec(leftOfCursor)) {\n            column -= this.session.nonTokenRe.lastIndex;\n            leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);\n            this.session.nonTokenRe.lastIndex = 0;\n        }\n        if (column <= 0) {\n            this.moveCursorTo(row, 0);\n            this.moveCursorLeft();\n            if (row > 0)\n                this.moveCursorWordLeft();\n            return;\n        }\n        if (this.session.tokenRe.exec(leftOfCursor)) {\n            column -= this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n\n        this.moveCursorTo(row, column);\n    };\n\n    this.$shortWordEndIndex = function(rightOfCursor) {\n        var index = 0, ch;\n        var whitespaceRe = /\\s/;\n        var tokenRe = this.session.tokenRe;\n\n        tokenRe.lastIndex = 0;\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n            index = this.session.tokenRe.lastIndex;\n        } else {\n            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                index ++;\n\n            if (index < 1) {\n                tokenRe.lastIndex = 0;\n                 while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {\n                    tokenRe.lastIndex = 0;\n                    index ++;\n                    if (whitespaceRe.test(ch)) {\n                        if (index > 2) {\n                            index--;\n                            break;\n                        } else {\n                            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                                index ++;\n                            if (index > 2)\n                                break;\n                        }\n                    }\n                }\n            }\n        }\n        tokenRe.lastIndex = 0;\n\n        return index;\n    };\n\n    this.moveCursorShortWordRight = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold)\n            return this.moveCursorTo(fold.end.row, fold.end.column);\n\n        if (column == line.length) {\n            var l = this.doc.getLength();\n            do {\n                row++;\n                rightOfCursor = this.doc.getLine(row);\n            } while (row < l && /^\\s*$/.test(rightOfCursor));\n\n            if (!/^\\s+/.test(rightOfCursor))\n                rightOfCursor = \"\";\n            column = 0;\n        }\n\n        var index = this.$shortWordEndIndex(rightOfCursor);\n\n        this.moveCursorTo(row, column + index);\n    };\n\n    this.moveCursorShortWordLeft = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1))\n            return this.moveCursorTo(fold.start.row, fold.start.column);\n\n        var line = this.session.getLine(row).substring(0, column);\n        if (column === 0) {\n            do {\n                row--;\n                line = this.doc.getLine(row);\n            } while (row > 0 && /^\\s*$/.test(line));\n\n            column = line.length;\n            if (!/\\s+$/.test(line))\n                line = \"\";\n        }\n\n        var leftOfCursor = lang.stringReverse(line);\n        var index = this.$shortWordEndIndex(leftOfCursor);\n\n        return this.moveCursorTo(row, column - index);\n    };\n\n    this.moveCursorWordRight = function() {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordRight();\n        else\n            this.moveCursorShortWordRight();\n    };\n\n    this.moveCursorWordLeft = function() {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordLeft();\n        else\n            this.moveCursorShortWordLeft();\n    };\n    this.moveCursorBy = function(rows, chars) {\n        var screenPos = this.session.documentToScreenPosition(\n            this.lead.row,\n            this.lead.column\n        );\n\n        var offsetX;\n\n        if (chars === 0) {\n            if (rows !== 0) {\n                if (this.session.$bidiHandler.isBidiRow(screenPos.row, this.lead.row)) {\n                    offsetX = this.session.$bidiHandler.getPosLeft(screenPos.column);\n                    screenPos.column = Math.round(offsetX / this.session.$bidiHandler.charWidths[0]);\n                } else {\n                    offsetX = screenPos.column * this.session.$bidiHandler.charWidths[0];\n                }\n            }\n\n            if (this.$desiredColumn)\n                screenPos.column = this.$desiredColumn;\n            else\n                this.$desiredColumn = screenPos.column;\n        }\n        \n        if (rows != 0 && this.session.lineWidgets && this.session.lineWidgets[this.lead.row]) {\n            var widget = this.session.lineWidgets[this.lead.row];\n            if (rows < 0)\n                rows -= widget.rowsAbove || 0;\n            else if (rows > 0)\n                rows += widget.rowCount - (widget.rowsAbove || 0);\n        }\n        \n        var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column, offsetX);\n        \n        if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {\n            \n        }\n        this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);\n    };\n    this.moveCursorToPosition = function(position) {\n        this.moveCursorTo(position.row, position.column);\n    };\n    this.moveCursorTo = function(row, column, keepDesiredColumn) {\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            row = fold.start.row;\n            column = fold.start.column;\n        }\n\n        this.$keepDesiredColumnOnChange = true;\n        var line = this.session.getLine(row);\n        if (/[\\uDC00-\\uDFFF]/.test(line.charAt(column)) && line.charAt(column - 1)) {\n            if (this.lead.row == row && this.lead.column == column + 1)\n                column = column - 1;\n            else\n                column = column + 1;\n        }\n        this.lead.setPosition(row, column);\n        this.$keepDesiredColumnOnChange = false;\n\n        if (!keepDesiredColumn)\n            this.$desiredColumn = null;\n    };\n    this.moveCursorToScreen = function(row, column, keepDesiredColumn) {\n        var pos = this.session.screenToDocumentPosition(row, column);\n        this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);\n    };\n    this.detach = function() {\n        this.lead.detach();\n        this.anchor.detach();\n        this.session = this.doc = null;\n    };\n\n    this.fromOrientedRange = function(range) {\n        this.setSelectionRange(range, range.cursor == range.start);\n        this.$desiredColumn = range.desiredColumn || this.$desiredColumn;\n    };\n\n    this.toOrientedRange = function(range) {\n        var r = this.getRange();\n        if (range) {\n            range.start.column = r.start.column;\n            range.start.row = r.start.row;\n            range.end.column = r.end.column;\n            range.end.row = r.end.row;\n        } else {\n            range = r;\n        }\n\n        range.cursor = this.isBackwards() ? range.start : range.end;\n        range.desiredColumn = this.$desiredColumn;\n        return range;\n    };\n    this.getRangeOfMovements = function(func) {\n        var start = this.getCursor();\n        try {\n            func(this);\n            var end = this.getCursor();\n            return Range.fromPoints(start, end);\n        } catch(e) {\n            return Range.fromPoints(start, start);\n        } finally {\n            this.moveCursorToPosition(start);\n        }\n    };\n\n    this.toJSON = function() {\n        if (this.rangeCount) {\n            var data = this.ranges.map(function(r) {\n                var r1 = r.clone();\n                r1.isBackwards = r.cursor == r.start;\n                return r1;\n            });\n        } else {\n            var data = this.getRange();\n            data.isBackwards = this.isBackwards();\n        }\n        return data;\n    };\n\n    this.fromJSON = function(data) {\n        if (data.start == undefined) {\n            if (this.rangeList && data.length > 1) {\n                this.toSingleRange(data[0]);\n                for (var i = data.length; i--; ) {\n                    var r = Range.fromPoints(data[i].start, data[i].end);\n                    if (data[i].isBackwards)\n                        r.cursor = r.start;\n                    this.addRange(r, true);\n                }\n                return;\n            } else {\n                data = data[0];\n            }\n        }\n        if (this.rangeList)\n            this.toSingleRange(data);\n        this.setSelectionRange(data, data.isBackwards);\n    };\n\n    this.isEqual = function(data) {\n        if ((data.length || this.rangeCount) && data.length != this.rangeCount)\n            return false;\n        if (!data.length || !this.ranges)\n            return this.getRange().isEqual(data);\n\n        for (var i = this.ranges.length; i--; ) {\n            if (!this.ranges[i].isEqual(data[i]))\n                return false;\n        }\n        return true;\n    };\n\n}).call(Selection.prototype);\n\nexports.Selection = Selection;\n});\n\ndefine(\"ace/tokenizer\",[\"require\",\"exports\",\"module\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar config = require(\"./config\");\nvar MAX_TOKEN_COUNT = 2000;\nvar Tokenizer = function(rules) {\n    this.states = rules;\n\n    this.regExps = {};\n    this.matchMappings = {};\n    for (var key in this.states) {\n        var state = this.states[key];\n        var ruleRegExps = [];\n        var matchTotal = 0;\n        var mapping = this.matchMappings[key] = {defaultToken: \"text\"};\n        var flag = \"g\";\n\n        var splitterRurles = [];\n        for (var i = 0; i < state.length; i++) {\n            var rule = state[i];\n            if (rule.defaultToken)\n                mapping.defaultToken = rule.defaultToken;\n            if (rule.caseInsensitive)\n                flag = \"gi\";\n            if (rule.regex == null)\n                continue;\n\n            if (rule.regex instanceof RegExp)\n                rule.regex = rule.regex.toString().slice(1, -1);\n            var adjustedregex = rule.regex;\n            var matchcount = new RegExp(\"(?:(\" + adjustedregex + \")|(.))\").exec(\"a\").length - 2;\n            if (Array.isArray(rule.token)) {\n                if (rule.token.length == 1 || matchcount == 1) {\n                    rule.token = rule.token[0];\n                } else if (matchcount - 1 != rule.token.length) {\n                    this.reportError(\"number of classes and regexp groups doesn't match\", { \n                        rule: rule,\n                        groupCount: matchcount - 1\n                    });\n                    rule.token = rule.token[0];\n                } else {\n                    rule.tokenArray = rule.token;\n                    rule.token = null;\n                    rule.onMatch = this.$arrayTokens;\n                }\n            } else if (typeof rule.token == \"function\" && !rule.onMatch) {\n                if (matchcount > 1)\n                    rule.onMatch = this.$applyToken;\n                else\n                    rule.onMatch = rule.token;\n            }\n\n            if (matchcount > 1) {\n                if (/\\\\\\d/.test(rule.regex)) {\n                    adjustedregex = rule.regex.replace(/\\\\([0-9]+)/g, function(match, digit) {\n                        return \"\\\\\" + (parseInt(digit, 10) + matchTotal + 1);\n                    });\n                } else {\n                    matchcount = 1;\n                    adjustedregex = this.removeCapturingGroups(rule.regex);\n                }\n                if (!rule.splitRegex && typeof rule.token != \"string\")\n                    splitterRurles.push(rule); // flag will be known only at the very end\n            }\n\n            mapping[matchTotal] = i;\n            matchTotal += matchcount;\n\n            ruleRegExps.push(adjustedregex);\n            if (!rule.onMatch)\n                rule.onMatch = null;\n        }\n        \n        if (!ruleRegExps.length) {\n            mapping[0] = 0;\n            ruleRegExps.push(\"$\");\n        }\n        \n        splitterRurles.forEach(function(rule) {\n            rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);\n        }, this);\n\n        this.regExps[key] = new RegExp(\"(\" + ruleRegExps.join(\")|(\") + \")|($)\", flag);\n    }\n};\n\n(function() {\n    this.$setMaxTokenCount = function(m) {\n        MAX_TOKEN_COUNT = m | 0;\n    };\n    \n    this.$applyToken = function(str) {\n        var values = this.splitRegex.exec(str).slice(1);\n        var types = this.token.apply(this, values);\n        if (typeof types === \"string\")\n            return [{type: types, value: str}];\n\n        var tokens = [];\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i]\n                };\n        }\n        return tokens;\n    };\n\n    this.$arrayTokens = function(str) {\n        if (!str)\n            return [];\n        var values = this.splitRegex.exec(str);\n        if (!values)\n            return \"text\";\n        var tokens = [];\n        var types = this.tokenArray;\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i + 1])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i + 1]\n                };\n        }\n        return tokens;\n    };\n\n    this.removeCapturingGroups = function(src) {\n        var r = src.replace(\n            /\\\\.|\\[(?:\\\\.|[^\\\\\\]])*|\\(\\?[:=!]|(\\()/g,\n            function(x, y) {return y ? \"(?:\" : x;}\n        );\n        return r;\n    };\n\n    this.createSplitterRegexp = function(src, flag) {\n        if (src.indexOf(\"(?=\") != -1) {\n            var stack = 0;\n            var inChClass = false;\n            var lastCapture = {};\n            src.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g, function(\n                m, esc, parenOpen, parenClose, square, index\n            ) {\n                if (inChClass) {\n                    inChClass = square != \"]\";\n                } else if (square) {\n                    inChClass = true;\n                } else if (parenClose) {\n                    if (stack == lastCapture.stack) {\n                        lastCapture.end = index+1;\n                        lastCapture.stack = -1;\n                    }\n                    stack--;\n                } else if (parenOpen) {\n                    stack++;\n                    if (parenOpen.length != 1) {\n                        lastCapture.stack = stack;\n                        lastCapture.start = index;\n                    }\n                }\n                return m;\n            });\n\n            if (lastCapture.end != null && /^\\)*$/.test(src.substr(lastCapture.end)))\n                src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);\n        }\n        if (src.charAt(0) != \"^\") src = \"^\" + src;\n        if (src.charAt(src.length - 1) != \"$\") src += \"$\";\n        \n        return new RegExp(src, (flag||\"\").replace(\"g\", \"\"));\n    };\n    this.getLineTokens = function(line, startState) {\n        if (startState && typeof startState != \"string\") {\n            var stack = startState.slice(0);\n            startState = stack[0];\n            if (startState === \"#tmp\") {\n                stack.shift();\n                startState = stack.shift();\n            }\n        } else\n            var stack = [];\n\n        var currentState = startState || \"start\";\n        var state = this.states[currentState];\n        if (!state) {\n            currentState = \"start\";\n            state = this.states[currentState];\n        }\n        var mapping = this.matchMappings[currentState];\n        var re = this.regExps[currentState];\n        re.lastIndex = 0;\n\n        var match, tokens = [];\n        var lastIndex = 0;\n        var matchAttempts = 0;\n\n        var token = {type: null, value: \"\"};\n\n        while (match = re.exec(line)) {\n            var type = mapping.defaultToken;\n            var rule = null;\n            var value = match[0];\n            var index = re.lastIndex;\n\n            if (index - value.length > lastIndex) {\n                var skipped = line.substring(lastIndex, index - value.length);\n                if (token.type == type) {\n                    token.value += skipped;\n                } else {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {type: type, value: skipped};\n                }\n            }\n\n            for (var i = 0; i < match.length-2; i++) {\n                if (match[i + 1] === undefined)\n                    continue;\n\n                rule = state[mapping[i]];\n\n                if (rule.onMatch)\n                    type = rule.onMatch(value, currentState, stack, line);\n                else\n                    type = rule.token;\n\n                if (rule.next) {\n                    if (typeof rule.next == \"string\") {\n                        currentState = rule.next;\n                    } else {\n                        currentState = rule.next(currentState, stack);\n                    }\n                    \n                    state = this.states[currentState];\n                    if (!state) {\n                        this.reportError(\"state doesn't exist\", currentState);\n                        currentState = \"start\";\n                        state = this.states[currentState];\n                    }\n                    mapping = this.matchMappings[currentState];\n                    lastIndex = index;\n                    re = this.regExps[currentState];\n                    re.lastIndex = index;\n                }\n                if (rule.consumeLineEnd)\n                    lastIndex = index;\n                break;\n            }\n\n            if (value) {\n                if (typeof type === \"string\") {\n                    if ((!rule || rule.merge !== false) && token.type === type) {\n                        token.value += value;\n                    } else {\n                        if (token.type)\n                            tokens.push(token);\n                        token = {type: type, value: value};\n                    }\n                } else if (type) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {type: null, value: \"\"};\n                    for (var i = 0; i < type.length; i++)\n                        tokens.push(type[i]);\n                }\n            }\n\n            if (lastIndex == line.length)\n                break;\n\n            lastIndex = index;\n\n            if (matchAttempts++ > MAX_TOKEN_COUNT) {\n                if (matchAttempts > 2 * line.length) {\n                    this.reportError(\"infinite loop with in ace tokenizer\", {\n                        startState: startState,\n                        line: line\n                    });\n                }\n                while (lastIndex < line.length) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {\n                        value: line.substring(lastIndex, lastIndex += 500),\n                        type: \"overflow\"\n                    };\n                }\n                currentState = \"start\";\n                stack = [];\n                break;\n            }\n        }\n\n        if (token.type)\n            tokens.push(token);\n        \n        if (stack.length > 1) {\n            if (stack[0] !== currentState)\n                stack.unshift(\"#tmp\", currentState);\n        }\n        return {\n            tokens : tokens,\n            state : stack.length ? stack : currentState\n        };\n    };\n    \n    this.reportError = config.reportError;\n    \n}).call(Tokenizer.prototype);\n\nexports.Tokenizer = Tokenizer;\n});\n\ndefine(\"ace/mode/text_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"../lib/lang\");\n\nvar TextHighlightRules = function() {\n\n    this.$rules = {\n        \"start\" : [{\n            token : \"empty_line\",\n            regex : '^$'\n        }, {\n            defaultToken : \"text\"\n        }]\n    };\n};\n\n(function() {\n\n    this.addRules = function(rules, prefix) {\n        if (!prefix) {\n            for (var key in rules)\n                this.$rules[key] = rules[key];\n            return;\n        }\n        for (var key in rules) {\n            var state = rules[key];\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                if (rule.next || rule.onMatch) {\n                    if (typeof rule.next == \"string\") {\n                        if (rule.next.indexOf(prefix) !== 0)\n                            rule.next = prefix + rule.next;\n                    }\n                    if (rule.nextState && rule.nextState.indexOf(prefix) !== 0)\n                        rule.nextState = prefix + rule.nextState;\n                }\n            }\n            this.$rules[prefix + key] = state;\n        }\n    };\n\n    this.getRules = function() {\n        return this.$rules;\n    };\n\n    this.embedRules = function (HighlightRules, prefix, escapeRules, states, append) {\n        var embedRules = typeof HighlightRules == \"function\"\n            ? new HighlightRules().getRules()\n            : HighlightRules;\n        if (states) {\n            for (var i = 0; i < states.length; i++)\n                states[i] = prefix + states[i];\n        } else {\n            states = [];\n            for (var key in embedRules)\n                states.push(prefix + key);\n        }\n\n        this.addRules(embedRules, prefix);\n\n        if (escapeRules) {\n            var addRules = Array.prototype[append ? \"push\" : \"unshift\"];\n            for (var i = 0; i < states.length; i++)\n                addRules.apply(this.$rules[states[i]], lang.deepCopy(escapeRules));\n        }\n\n        if (!this.$embeds)\n            this.$embeds = [];\n        this.$embeds.push(prefix);\n    };\n\n    this.getEmbeds = function() {\n        return this.$embeds;\n    };\n\n    var pushState = function(currentState, stack) {\n        if (currentState != \"start\" || stack.length)\n            stack.unshift(this.nextState, currentState);\n        return this.nextState;\n    };\n    var popState = function(currentState, stack) {\n        stack.shift();\n        return stack.shift() || \"start\";\n    };\n\n    this.normalizeRules = function() {\n        var id = 0;\n        var rules = this.$rules;\n        function processState(key) {\n            var state = rules[key];\n            state.processed = true;\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                var toInsert = null;\n                if (Array.isArray(rule)) {\n                    toInsert = rule;\n                    rule = {};\n                }\n                if (!rule.regex && rule.start) {\n                    rule.regex = rule.start;\n                    if (!rule.next)\n                        rule.next = [];\n                    rule.next.push({\n                        defaultToken: rule.token\n                    }, {\n                        token: rule.token + \".end\",\n                        regex: rule.end || rule.start,\n                        next: \"pop\"\n                    });\n                    rule.token = rule.token + \".start\";\n                    rule.push = true;\n                }\n                var next = rule.next || rule.push;\n                if (next && Array.isArray(next)) {\n                    var stateName = rule.stateName;\n                    if (!stateName)  {\n                        stateName = rule.token;\n                        if (typeof stateName != \"string\")\n                            stateName = stateName[0] || \"\";\n                        if (rules[stateName])\n                            stateName += id++;\n                    }\n                    rules[stateName] = next;\n                    rule.next = stateName;\n                    processState(stateName);\n                } else if (next == \"pop\") {\n                    rule.next = popState;\n                }\n\n                if (rule.push) {\n                    rule.nextState = rule.next || rule.push;\n                    rule.next = pushState;\n                    delete rule.push;\n                }\n\n                if (rule.rules) {\n                    for (var r in rule.rules) {\n                        if (rules[r]) {\n                            if (rules[r].push)\n                                rules[r].push.apply(rules[r], rule.rules[r]);\n                        } else {\n                            rules[r] = rule.rules[r];\n                        }\n                    }\n                }\n                var includeName = typeof rule == \"string\" ? rule : rule.include;\n                if (includeName) {\n                    if (Array.isArray(includeName))\n                        toInsert = includeName.map(function(x) { return rules[x]; });\n                    else\n                        toInsert = rules[includeName];\n                }\n\n                if (toInsert) {\n                    var args = [i, 1].concat(toInsert);\n                    if (rule.noEscape)\n                        args = args.filter(function(x) {return !x.next;});\n                    state.splice.apply(state, args);\n                    i--;\n                }\n                \n                if (rule.keywordMap) {\n                    rule.token = this.createKeywordMapper(\n                        rule.keywordMap, rule.defaultToken || \"text\", rule.caseInsensitive\n                    );\n                    delete rule.defaultToken;\n                }\n            }\n        }\n        Object.keys(rules).forEach(processState, this);\n    };\n\n    this.createKeywordMapper = function(map, defaultToken, ignoreCase, splitChar) {\n        var keywords = Object.create(null);\n        Object.keys(map).forEach(function(className) {\n            var a = map[className];\n            if (ignoreCase)\n                a = a.toLowerCase();\n            var list = a.split(splitChar || \"|\");\n            for (var i = list.length; i--; )\n                keywords[list[i]] = className;\n        });\n        if (Object.getPrototypeOf(keywords)) {\n            keywords.__proto__ = null;\n        }\n        this.$keywordList = Object.keys(keywords);\n        map = null;\n        return ignoreCase\n            ? function(value) {return keywords[value.toLowerCase()] || defaultToken; }\n            : function(value) {return keywords[value] || defaultToken; };\n    };\n\n    this.getKeywords = function() {\n        return this.$keywords;\n    };\n\n}).call(TextHighlightRules.prototype);\n\nexports.TextHighlightRules = TextHighlightRules;\n});\n\ndefine(\"ace/mode/behaviour\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar Behaviour = function() {\n   this.$behaviours = {};\n};\n\n(function () {\n\n    this.add = function (name, action, callback) {\n        switch (undefined) {\n          case this.$behaviours:\n              this.$behaviours = {};\n          case this.$behaviours[name]:\n              this.$behaviours[name] = {};\n        }\n        this.$behaviours[name][action] = callback;\n    };\n    \n    this.addBehaviours = function (behaviours) {\n        for (var key in behaviours) {\n            for (var action in behaviours[key]) {\n                this.add(key, action, behaviours[key][action]);\n            }\n        }\n    };\n    \n    this.remove = function (name) {\n        if (this.$behaviours && this.$behaviours[name]) {\n            delete this.$behaviours[name];\n        }\n    };\n    \n    this.inherit = function (mode, filter) {\n        if (typeof mode === \"function\") {\n            var behaviours = new mode().getBehaviours(filter);\n        } else {\n            var behaviours = mode.getBehaviours(filter);\n        }\n        this.addBehaviours(behaviours);\n    };\n    \n    this.getBehaviours = function (filter) {\n        if (!filter) {\n            return this.$behaviours;\n        } else {\n            var ret = {};\n            for (var i = 0; i < filter.length; i++) {\n                if (this.$behaviours[filter[i]]) {\n                    ret[filter[i]] = this.$behaviours[filter[i]];\n                }\n            }\n            return ret;\n        }\n    };\n\n}).call(Behaviour.prototype);\n\nexports.Behaviour = Behaviour;\n});\n\ndefine(\"ace/token_iterator\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"./range\").Range;\nvar TokenIterator = function(session, initialRow, initialColumn) {\n    this.$session = session;\n    this.$row = initialRow;\n    this.$rowTokens = session.getTokens(initialRow);\n\n    var token = session.getTokenAt(initialRow, initialColumn);\n    this.$tokenIndex = token ? token.index : -1;\n};\n\n(function() { \n    this.stepBackward = function() {\n        this.$tokenIndex -= 1;\n        \n        while (this.$tokenIndex < 0) {\n            this.$row -= 1;\n            if (this.$row < 0) {\n                this.$row = 0;\n                return null;\n            }\n                \n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = this.$rowTokens.length - 1;\n        }\n            \n        return this.$rowTokens[this.$tokenIndex];\n    };   \n    this.stepForward = function() {\n        this.$tokenIndex += 1;\n        var rowCount;\n        while (this.$tokenIndex >= this.$rowTokens.length) {\n            this.$row += 1;\n            if (!rowCount)\n                rowCount = this.$session.getLength();\n            if (this.$row >= rowCount) {\n                this.$row = rowCount - 1;\n                return null;\n            }\n\n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = 0;\n        }\n            \n        return this.$rowTokens[this.$tokenIndex];\n    };      \n    this.getCurrentToken = function () {\n        return this.$rowTokens[this.$tokenIndex];\n    };      \n    this.getCurrentTokenRow = function () {\n        return this.$row;\n    };     \n    this.getCurrentTokenColumn = function() {\n        var rowTokens = this.$rowTokens;\n        var tokenIndex = this.$tokenIndex;\n        var column = rowTokens[tokenIndex].start;\n        if (column !== undefined)\n            return column;\n            \n        column = 0;\n        while (tokenIndex > 0) {\n            tokenIndex -= 1;\n            column += rowTokens[tokenIndex].value.length;\n        }\n        \n        return column;  \n    };\n    this.getCurrentTokenPosition = function() {\n        return {row: this.$row, column: this.getCurrentTokenColumn()};\n    };\n    this.getCurrentTokenRange = function() {\n        var token = this.$rowTokens[this.$tokenIndex];\n        var column = this.getCurrentTokenColumn();\n        return new Range(this.$row, column, this.$row, column + token.value.length);\n    };\n    \n}).call(TokenIterator.prototype);\n\nexports.TokenIterator = TokenIterator;\n});\n\ndefine(\"ace/mode/behaviour/cstyle\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour\",\"ace/token_iterator\",\"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\nvar lang = require(\"../../lib/lang\");\n\nvar SAFE_INSERT_IN_TOKENS =\n    [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\"];\nvar SAFE_INSERT_BEFORE_TOKENS =\n    [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\", \"comment\"];\n\nvar context;\nvar contextCache = {};\nvar defaultQuotes = {'\"' : '\"', \"'\" : \"'\"};\n\nvar initContext = function(editor) {\n    var id = -1;\n    if (editor.multiSelect) {\n        id = editor.selection.index;\n        if (contextCache.rangeCount != editor.multiSelect.rangeCount)\n            contextCache = {rangeCount: editor.multiSelect.rangeCount};\n    }\n    if (contextCache[id])\n        return context = contextCache[id];\n    context = contextCache[id] = {\n        autoInsertedBrackets: 0,\n        autoInsertedRow: -1,\n        autoInsertedLineEnd: \"\",\n        maybeInsertedBrackets: 0,\n        maybeInsertedRow: -1,\n        maybeInsertedLineStart: \"\",\n        maybeInsertedLineEnd: \"\"\n    };\n};\n\nvar getWrapped = function(selection, selected, opening, closing) {\n    var rowDiff = selection.end.row - selection.start.row;\n    return {\n        text: opening + selected + closing,\n        selection: [\n                0,\n                selection.start.column + 1,\n                rowDiff,\n                selection.end.column + (rowDiff ? 0 : 1)\n            ]\n    };\n};\n\nvar CstyleBehaviour = function(options) {\n    this.add(\"braces\", \"insertion\", function(state, action, editor, session, text) {\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        if (text == '{') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && selected !== \"{\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '{', '}');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                if (/[\\]\\}\\)]/.test(line[cursor.column]) || editor.inMultiSelectMode || options && options.braces) {\n                    CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n                    return {\n                        text: '{}',\n                        selection: [1, 1]\n                    };\n                } else {\n                    CstyleBehaviour.recordMaybeInsert(editor, session, \"{\");\n                    return {\n                        text: '{',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == '}') {\n            initContext(editor);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == '}') {\n                var matching = session.$findOpeningBracket('}', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == \"\\n\" || text == \"\\r\\n\") {\n            initContext(editor);\n            var closing = \"\";\n            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {\n                closing = lang.stringRepeat(\"}\", context.maybeInsertedBrackets);\n                CstyleBehaviour.clearMaybeInsertedClosing();\n            }\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === '}') {\n                var openBracePos = session.findMatchingBracket({row: cursor.row, column: cursor.column+1}, '}');\n                if (!openBracePos)\n                     return null;\n                var next_indent = this.$getIndent(session.getLine(openBracePos.row));\n            } else if (closing) {\n                var next_indent = this.$getIndent(line);\n            } else {\n                CstyleBehaviour.clearMaybeInsertedClosing();\n                return;\n            }\n            var indent = next_indent + session.getTabString();\n\n            return {\n                text: '\\n' + indent + '\\n' + next_indent + closing,\n                selection: [1, indent.length, 1, indent.length]\n            };\n        } else {\n            CstyleBehaviour.clearMaybeInsertedClosing();\n        }\n    });\n\n    this.add(\"braces\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '{') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.end.column, range.end.column + 1);\n            if (rightChar == '}') {\n                range.end.column++;\n                return range;\n            } else {\n                context.maybeInsertedBrackets--;\n            }\n        }\n    });\n\n    this.add(\"parens\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '(') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '(', ')');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \")\");\n                return {\n                    text: '()',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ')') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ')') {\n                var matching = session.$findOpeningBracket(')', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"parens\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '(') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ')') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '[') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '[', ']');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \"]\");\n                return {\n                    text: '[]',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ']') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ']') {\n                var matching = session.$findOpeningBracket(']', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '[') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ']') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"insertion\", function(state, action, editor, session, text) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n        if (text.length == 1 && quotes[text]) {\n            if (this.lineCommentStart && this.lineCommentStart.indexOf(text) != -1) \n                return;\n            initContext(editor);\n            var quote = text;\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && (selected.length != 1 || !quotes[selected]) && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, quote, quote);\n            } else if (!selected) {\n                var cursor = editor.getCursorPosition();\n                var line = session.doc.getLine(cursor.row);\n                var leftChar = line.substring(cursor.column-1, cursor.column);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n                \n                var token = session.getTokenAt(cursor.row, cursor.column);\n                var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);\n                if (leftChar == \"\\\\\" && token && /escape/.test(token.type))\n                    return null;\n                \n                var stringBefore = token && /string|escape/.test(token.type);\n                var stringAfter = !rightToken || /string|escape/.test(rightToken.type);\n                \n                var pair;\n                if (rightChar == quote) {\n                    pair = stringBefore !== stringAfter;\n                    if (pair && /string\\.end/.test(rightToken.type))\n                        pair = false;\n                } else {\n                    if (stringBefore && !stringAfter)\n                        return null; // wrap string with different quote\n                    if (stringBefore && stringAfter)\n                        return null; // do not pair quotes inside strings\n                    var wordRe = session.$mode.tokenRe;\n                    wordRe.lastIndex = 0;\n                    var isWordBefore = wordRe.test(leftChar);\n                    wordRe.lastIndex = 0;\n                    var isWordAfter = wordRe.test(leftChar);\n                    if (isWordBefore || isWordAfter)\n                        return null; // before or after alphanumeric\n                    if (rightChar && !/[\\s;,.})\\]\\\\]/.test(rightChar))\n                        return null; // there is rightChar and it isn't closing\n                    var charBefore = line[cursor.column - 2];\n                    if (leftChar == quote &&  (charBefore == quote || wordRe.test(charBefore)))\n                        return null;\n                    pair = true;\n                }\n                return {\n                    text: pair ? quote + quote : \"\",\n                    selection: [1,1]\n                };\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"deletion\", function(state, action, editor, session, range) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && quotes.hasOwnProperty(selected)) {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == selected) {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n};\n\n    \nCstyleBehaviour.isSaneInsertion = function(editor, session) {\n    var cursor = editor.getCursorPosition();\n    var iterator = new TokenIterator(session, cursor.row, cursor.column);\n    if (!this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) {\n        if (/[)}\\]]/.test(editor.session.getLine(cursor.row)[cursor.column]))\n            return true;\n        var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);\n        if (!this.$matchTokenType(iterator2.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS))\n            return false;\n    }\n    iterator.stepForward();\n    return iterator.getCurrentTokenRow() !== cursor.row ||\n        this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_BEFORE_TOKENS);\n};\n\nCstyleBehaviour.$matchTokenType = function(token, types) {\n    return types.indexOf(token.type || token) > -1;\n};\n\nCstyleBehaviour.recordAutoInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0]))\n        context.autoInsertedBrackets = 0;\n    context.autoInsertedRow = cursor.row;\n    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);\n    context.autoInsertedBrackets++;\n};\n\nCstyleBehaviour.recordMaybeInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isMaybeInsertedClosing(cursor, line))\n        context.maybeInsertedBrackets = 0;\n    context.maybeInsertedRow = cursor.row;\n    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;\n    context.maybeInsertedLineEnd = line.substr(cursor.column);\n    context.maybeInsertedBrackets++;\n};\n\nCstyleBehaviour.isAutoInsertedClosing = function(cursor, line, bracket) {\n    return context.autoInsertedBrackets > 0 &&\n        cursor.row === context.autoInsertedRow &&\n        bracket === context.autoInsertedLineEnd[0] &&\n        line.substr(cursor.column) === context.autoInsertedLineEnd;\n};\n\nCstyleBehaviour.isMaybeInsertedClosing = function(cursor, line) {\n    return context.maybeInsertedBrackets > 0 &&\n        cursor.row === context.maybeInsertedRow &&\n        line.substr(cursor.column) === context.maybeInsertedLineEnd &&\n        line.substr(0, cursor.column) == context.maybeInsertedLineStart;\n};\n\nCstyleBehaviour.popAutoInsertedClosing = function() {\n    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);\n    context.autoInsertedBrackets--;\n};\n\nCstyleBehaviour.clearMaybeInsertedClosing = function() {\n    if (context) {\n        context.maybeInsertedBrackets = 0;\n        context.maybeInsertedRow = -1;\n    }\n};\n\n\n\noop.inherits(CstyleBehaviour, Behaviour);\n\nexports.CstyleBehaviour = CstyleBehaviour;\n});\n\ndefine(\"ace/unicode\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nvar wordChars = [48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2];\n\nvar code = 0;\nvar str = [];\nfor (var i = 0; i < wordChars.length; i += 2) {\n    str.push(code += wordChars[i]);\n    if (wordChars[i + 1])\n        str.push(45, code += wordChars[i + 1]);\n}\n\nexports.wordChars = String.fromCharCode.apply(null, str);\n\n});\n\ndefine(\"ace/mode/text\",[\"require\",\"exports\",\"module\",\"ace/config\",\"ace/tokenizer\",\"ace/mode/text_highlight_rules\",\"ace/mode/behaviour/cstyle\",\"ace/unicode\",\"ace/lib/lang\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar config = require(\"../config\");\n\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\nvar CstyleBehaviour = require(\"./behaviour/cstyle\").CstyleBehaviour;\nvar unicode = require(\"../unicode\");\nvar lang = require(\"../lib/lang\");\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\n\nvar Mode = function() {\n    this.HighlightRules = TextHighlightRules;\n};\n\n(function() {\n    this.$defaultBehaviour = new CstyleBehaviour();\n\n    this.tokenRe = new RegExp(\"^[\" + unicode.wordChars + \"\\\\$_]+\", \"g\");\n\n    this.nonTokenRe = new RegExp(\"^(?:[^\" + unicode.wordChars + \"\\\\$_]|\\\\s])+\", \"g\");\n\n    this.getTokenizer = function() {\n        if (!this.$tokenizer) {\n            this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig);\n            this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());\n        }\n        return this.$tokenizer;\n    };\n\n    this.lineCommentStart = \"\";\n    this.blockComment = \"\";\n\n    this.toggleCommentLines = function(state, session, startRow, endRow) {\n        var doc = session.doc;\n\n        var ignoreBlankLines = true;\n        var shouldRemove = true;\n        var minIndent = Infinity;\n        var tabSize = session.getTabSize();\n        var insertAtTabStop = false;\n\n        if (!this.lineCommentStart) {\n            if (!this.blockComment)\n                return false;\n            var lineCommentStart = this.blockComment.start;\n            var lineCommentEnd = this.blockComment.end;\n            var regexpStart = new RegExp(\"^(\\\\s*)(?:\" + lang.escapeRegExp(lineCommentStart) + \")\");\n            var regexpEnd = new RegExp(\"(?:\" + lang.escapeRegExp(lineCommentEnd) + \")\\\\s*$\");\n\n            var comment = function(line, i) {\n                if (testRemove(line, i))\n                    return;\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    doc.insertInLine({row: i, column: line.length}, lineCommentEnd);\n                    doc.insertInLine({row: i, column: minIndent}, lineCommentStart);\n                }\n            };\n\n            var uncomment = function(line, i) {\n                var m;\n                if (m = line.match(regexpEnd))\n                    doc.removeInLine(i, line.length - m[0].length, line.length);\n                if (m = line.match(regexpStart))\n                    doc.removeInLine(i, m[1].length, m[0].length);\n            };\n\n            var testRemove = function(line, row) {\n                if (regexpStart.test(line))\n                    return true;\n                var tokens = session.getTokens(row);\n                for (var i = 0; i < tokens.length; i++) {\n                    if (tokens[i].type === \"comment\")\n                        return true;\n                }\n            };\n        } else {\n            if (Array.isArray(this.lineCommentStart)) {\n                var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join(\"|\");\n                var lineCommentStart = this.lineCommentStart[0];\n            } else {\n                var regexpStart = lang.escapeRegExp(this.lineCommentStart);\n                var lineCommentStart = this.lineCommentStart;\n            }\n            regexpStart = new RegExp(\"^(\\\\s*)(?:\" + regexpStart + \") ?\");\n            \n            insertAtTabStop = session.getUseSoftTabs();\n\n            var uncomment = function(line, i) {\n                var m = line.match(regexpStart);\n                if (!m) return;\n                var start = m[1].length, end = m[0].length;\n                if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == \" \")\n                    end--;\n                doc.removeInLine(i, start, end);\n            };\n            var commentWithSpace = lineCommentStart + \" \";\n            var comment = function(line, i) {\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    if (shouldInsertSpace(line, minIndent, minIndent))\n                        doc.insertInLine({row: i, column: minIndent}, commentWithSpace);\n                    else\n                        doc.insertInLine({row: i, column: minIndent}, lineCommentStart);\n                }\n            };\n            var testRemove = function(line, i) {\n                return regexpStart.test(line);\n            };\n            \n            var shouldInsertSpace = function(line, before, after) {\n                var spaces = 0;\n                while (before-- && line.charAt(before) == \" \")\n                    spaces++;\n                if (spaces % tabSize != 0)\n                    return false;\n                var spaces = 0;\n                while (line.charAt(after++) == \" \")\n                    spaces++;\n                if (tabSize > 2)\n                    return spaces % tabSize != tabSize - 1;\n                else\n                    return spaces % tabSize == 0;\n            };\n        }\n\n        function iter(fun) {\n            for (var i = startRow; i <= endRow; i++)\n                fun(doc.getLine(i), i);\n        }\n\n\n        var minEmptyLength = Infinity;\n        iter(function(line, i) {\n            var indent = line.search(/\\S/);\n            if (indent !== -1) {\n                if (indent < minIndent)\n                    minIndent = indent;\n                if (shouldRemove && !testRemove(line, i))\n                    shouldRemove = false;\n            } else if (minEmptyLength > line.length) {\n                minEmptyLength = line.length;\n            }\n        });\n\n        if (minIndent == Infinity) {\n            minIndent = minEmptyLength;\n            ignoreBlankLines = false;\n            shouldRemove = false;\n        }\n\n        if (insertAtTabStop && minIndent % tabSize != 0)\n            minIndent = Math.floor(minIndent / tabSize) * tabSize;\n\n        iter(shouldRemove ? uncomment : comment);\n    };\n\n    this.toggleBlockComment = function(state, session, range, cursor) {\n        var comment = this.blockComment;\n        if (!comment)\n            return;\n        if (!comment.start && comment[0])\n            comment = comment[0];\n\n        var iterator = new TokenIterator(session, cursor.row, cursor.column);\n        var token = iterator.getCurrentToken();\n\n        var sel = session.selection;\n        var initialRange = session.selection.toOrientedRange();\n        var startRow, colDiff;\n\n        if (token && /comment/.test(token.type)) {\n            var startRange, endRange;\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.start);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    startRange = new Range(row, column, row, column + comment.start.length);\n                    break;\n                }\n                token = iterator.stepBackward();\n            }\n\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.end);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    endRange = new Range(row, column, row, column + comment.end.length);\n                    break;\n                }\n                token = iterator.stepForward();\n            }\n            if (endRange)\n                session.remove(endRange);\n            if (startRange) {\n                session.remove(startRange);\n                startRow = startRange.start.row;\n                colDiff = -comment.start.length;\n            }\n        } else {\n            colDiff = comment.start.length;\n            startRow = range.start.row;\n            session.insert(range.end, comment.end);\n            session.insert(range.start, comment.start);\n        }\n        if (initialRange.start.row == startRow)\n            initialRange.start.column += colDiff;\n        if (initialRange.end.row == startRow)\n            initialRange.end.column += colDiff;\n        session.selection.fromOrientedRange(initialRange);\n    };\n\n    this.getNextLineIndent = function(state, line, tab) {\n        return this.$getIndent(line);\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return false;\n    };\n\n    this.autoOutdent = function(state, doc, row) {\n    };\n\n    this.$getIndent = function(line) {\n        return line.match(/^\\s*/)[0];\n    };\n\n    this.createWorker = function(session) {\n        return null;\n    };\n\n    this.createModeDelegates = function (mapping) {\n        this.$embeds = [];\n        this.$modes = {};\n        for (var i in mapping) {\n            if (mapping[i]) {\n                var Mode = mapping[i];\n                var id = Mode.prototype.$id;\n                var mode = config.$modes[id];\n                if (!mode)\n                    config.$modes[id] = mode = new Mode();\n                if (!config.$modes[i])\n                    config.$modes[i] = mode;\n                this.$embeds.push(i);\n                this.$modes[i] = mode;\n            }\n        }\n\n        var delegations = [\"toggleBlockComment\", \"toggleCommentLines\", \"getNextLineIndent\", \n            \"checkOutdent\", \"autoOutdent\", \"transformAction\", \"getCompletions\"];\n\n        for (var i = 0; i < delegations.length; i++) {\n            (function(scope) {\n              var functionName = delegations[i];\n              var defaultHandler = scope[functionName];\n              scope[delegations[i]] = function() {\n                  return this.$delegator(functionName, arguments, defaultHandler);\n              };\n            }(this));\n        }\n    };\n\n    this.$delegator = function(method, args, defaultHandler) {\n        var state = args[0] || \"start\";\n        if (typeof state != \"string\") {\n            if (Array.isArray(state[2])) {\n                var language = state[2][state[2].length - 1];\n                var mode = this.$modes[language];\n                if (mode)\n                    return mode[method].apply(mode, [state[1]].concat([].slice.call(args, 1)));\n            }\n            state = state[0] || \"start\";\n        }\n            \n        for (var i = 0; i < this.$embeds.length; i++) {\n            if (!this.$modes[this.$embeds[i]]) continue;\n\n            var split = state.split(this.$embeds[i]);\n            if (!split[0] && split[1]) {\n                args[0] = split[1];\n                var mode = this.$modes[this.$embeds[i]];\n                return mode[method].apply(mode, args);\n            }\n        }\n        var ret = defaultHandler.apply(this, args);\n        return defaultHandler ? ret : undefined;\n    };\n\n    this.transformAction = function(state, action, editor, session, param) {\n        if (this.$behaviour) {\n            var behaviours = this.$behaviour.getBehaviours();\n            for (var key in behaviours) {\n                if (behaviours[key][action]) {\n                    var ret = behaviours[key][action].apply(this, arguments);\n                    if (ret) {\n                        return ret;\n                    }\n                }\n            }\n        }\n    };\n    \n    this.getKeywords = function(append) {\n        if (!this.completionKeywords) {\n            var rules = this.$tokenizer.rules;\n            var completionKeywords = [];\n            for (var rule in rules) {\n                var ruleItr = rules[rule];\n                for (var r = 0, l = ruleItr.length; r < l; r++) {\n                    if (typeof ruleItr[r].token === \"string\") {\n                        if (/keyword|support|storage/.test(ruleItr[r].token))\n                            completionKeywords.push(ruleItr[r].regex);\n                    }\n                    else if (typeof ruleItr[r].token === \"object\") {\n                        for (var a = 0, aLength = ruleItr[r].token.length; a < aLength; a++) {    \n                            if (/keyword|support|storage/.test(ruleItr[r].token[a])) {\n                                var rule = ruleItr[r].regex.match(/\\(.+?\\)/g)[a];\n                                completionKeywords.push(rule.substr(1, rule.length - 2));\n                            }\n                        }\n                    }\n                }\n            }\n            this.completionKeywords = completionKeywords;\n        }\n        if (!append)\n            return this.$keywordList;\n        return completionKeywords.concat(this.$keywordList || []);\n    };\n    \n    this.$createKeywordList = function() {\n        if (!this.$highlightRules)\n            this.getTokenizer();\n        return this.$keywordList = this.$highlightRules.$keywordList || [];\n    };\n\n    this.getCompletions = function(state, session, pos, prefix) {\n        var keywords = this.$keywordList || this.$createKeywordList();\n        return keywords.map(function(word) {\n            return {\n                name: word,\n                value: word,\n                score: 0,\n                meta: \"keyword\"\n            };\n        });\n    };\n\n    this.$id = \"ace/mode/text\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});\n\ndefine(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nfunction throwDeltaError(delta, errorText){\n    console.log(\"Invalid Delta:\", delta);\n    throw \"Invalid Delta: \" + errorText;\n}\n\nfunction positionInDocument(docLines, position) {\n    return position.row    >= 0 && position.row    <  docLines.length &&\n           position.column >= 0 && position.column <= docLines[position.row].length;\n}\n\nfunction validateDelta(docLines, delta) {\n    if (delta.action != \"insert\" && delta.action != \"remove\")\n        throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n    if (!(delta.lines instanceof Array))\n        throwDeltaError(delta, \"delta.lines must be an Array\");\n    if (!delta.start || !delta.end)\n       throwDeltaError(delta, \"delta.start/end must be an present\");\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start))\n        throwDeltaError(delta, \"delta.start must be contained in document\");\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end))\n        throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars = (end.column - (numRangeRows == 0 ? start.column : 0));\n    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars)\n        throwDeltaError(delta, \"delta.range must match delta lines\");\n}\n\nexports.applyDelta = function(docLines, delta, doNotValidate) {\n    \n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n    switch (delta.action) {\n        case \"insert\":\n            var lines = delta.lines;\n            if (lines.length === 1) {\n                docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n            } else {\n                var args = [row, 1].concat(delta.lines);\n                docLines.splice.apply(docLines, args);\n                docLines[row] = line.substring(0, startColumn) + docLines[row];\n                docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n            }\n            break;\n        case \"remove\":\n            var endColumn = delta.end.column;\n            var endRow = delta.end.row;\n            if (row === endRow) {\n                docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n            } else {\n                docLines.splice(\n                    row, endRow - row + 1,\n                    line.substring(0, startColumn) + docLines[endRow].substring(endColumn)\n                );\n            }\n            break;\n    }\n};\n});\n\ndefine(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar Anchor = exports.Anchor = function(doc, row, column) {\n    this.$onChange = this.onChange.bind(this);\n    this.attach(doc);\n    \n    if (typeof column == \"undefined\")\n        this.setPosition(row.row, row.column);\n    else\n        this.setPosition(row, column);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.getPosition = function() {\n        return this.$clipPositionToDocument(this.row, this.column);\n    };\n    this.getDocument = function() {\n        return this.document;\n    };\n    this.$insertRight = false;\n    this.onChange = function(delta) {\n        if (delta.start.row == delta.end.row && delta.start.row != this.row)\n            return;\n\n        if (delta.start.row > this.row)\n            return;\n            \n        var point = $getTransformedPoint(delta, {row: this.row, column: this.column}, this.$insertRight);\n        this.setPosition(point.row, point.column, true);\n    };\n    \n    function $pointsInOrder(point1, point2, equalPointsInOrder) {\n        var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n        return (point1.row < point2.row) || (point1.row == point2.row && bColIsAfter);\n    }\n            \n    function $getTransformedPoint(delta, point, moveIfEqual) {\n        var deltaIsInsert = delta.action == \"insert\";\n        var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row    - delta.start.row);\n        var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n        var deltaStart = delta.start;\n        var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n        if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n            return {\n                row: point.row,\n                column: point.column\n            };\n        }\n        if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n            return {\n                row: point.row + deltaRowShift,\n                column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n            };\n        }\n        \n        return {\n            row: deltaStart.row,\n            column: deltaStart.column\n        };\n    }\n    this.setPosition = function(row, column, noClip) {\n        var pos;\n        if (noClip) {\n            pos = {\n                row: row,\n                column: column\n            };\n        } else {\n            pos = this.$clipPositionToDocument(row, column);\n        }\n\n        if (this.row == pos.row && this.column == pos.column)\n            return;\n\n        var old = {\n            row: this.row,\n            column: this.column\n        };\n\n        this.row = pos.row;\n        this.column = pos.column;\n        this._signal(\"change\", {\n            old: old,\n            value: pos\n        });\n    };\n    this.detach = function() {\n        this.document.removeEventListener(\"change\", this.$onChange);\n    };\n    this.attach = function(doc) {\n        this.document = doc || this.document;\n        this.document.on(\"change\", this.$onChange);\n    };\n    this.$clipPositionToDocument = function(row, column) {\n        var pos = {};\n\n        if (row >= this.document.getLength()) {\n            pos.row = Math.max(0, this.document.getLength() - 1);\n            pos.column = this.document.getLine(pos.row).length;\n        }\n        else if (row < 0) {\n            pos.row = 0;\n            pos.column = 0;\n        }\n        else {\n            pos.row = row;\n            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n        }\n\n        if (column < 0)\n            pos.column = 0;\n\n        return pos;\n    };\n\n}).call(Anchor.prototype);\n\n});\n\ndefine(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar applyDelta = require(\"./apply_delta\").applyDelta;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Anchor = require(\"./anchor\").Anchor;\n\nvar Document = function(textOrLines) {\n    this.$lines = [\"\"];\n    if (textOrLines.length === 0) {\n        this.$lines = [\"\"];\n    } else if (Array.isArray(textOrLines)) {\n        this.insertMergedLines({row: 0, column: 0}, textOrLines);\n    } else {\n        this.insert({row: 0, column:0}, textOrLines);\n    }\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setValue = function(text) {\n        var len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length));\n        this.insert({row: 0, column: 0}, text);\n    };\n    this.getValue = function() {\n        return this.getAllLines().join(this.getNewLineCharacter());\n    };\n    this.createAnchor = function(row, column) {\n        return new Anchor(this, row, column);\n    };\n    if (\"aaa\".split(/a/).length === 0) {\n        this.$split = function(text) {\n            return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n        };\n    } else {\n        this.$split = function(text) {\n            return text.split(/\\r\\n|\\r|\\n/);\n        };\n    }\n\n\n    this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        this.$autoNewLine = match ? match[1] : \"\\n\";\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineCharacter = function() {\n        switch (this.$newLineMode) {\n          case \"windows\":\n            return \"\\r\\n\";\n          case \"unix\":\n            return \"\\n\";\n          default:\n            return this.$autoNewLine || \"\\n\";\n        }\n    };\n\n    this.$autoNewLine = \"\";\n    this.$newLineMode = \"auto\";\n    this.setNewLineMode = function(newLineMode) {\n        if (this.$newLineMode === newLineMode)\n            return;\n\n        this.$newLineMode = newLineMode;\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineMode = function() {\n        return this.$newLineMode;\n    };\n    this.isNewLine = function(text) {\n        return (text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\");\n    };\n    this.getLine = function(row) {\n        return this.$lines[row] || \"\";\n    };\n    this.getLines = function(firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n    };\n    this.getAllLines = function() {\n        return this.getLines(0, this.getLength());\n    };\n    this.getLength = function() {\n        return this.$lines.length;\n    };\n    this.getTextRange = function(range) {\n        return this.getLinesForRange(range).join(this.getNewLineCharacter());\n    };\n    this.getLinesForRange = function(range) {\n        var lines;\n        if (range.start.row === range.end.row) {\n            lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n        } else {\n            lines = this.getLines(range.start.row, range.end.row);\n            lines[0] = (lines[0] || \"\").substring(range.start.column);\n            var l = lines.length - 1;\n            if (range.end.row - range.start.row == l)\n                lines[l] = lines[l].substring(0, range.end.column);\n        }\n        return lines;\n    };\n    this.insertLines = function(row, lines) {\n        console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n        return this.insertFullLines(row, lines);\n    };\n    this.removeLines = function(firstRow, lastRow) {\n        console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n        return this.removeFullLines(firstRow, lastRow);\n    };\n    this.insertNewLine = function(position) {\n        console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n        return this.insertMergedLines(position, [\"\", \"\"]);\n    };\n    this.insert = function(position, text) {\n        if (this.getLength() <= 1)\n            this.$detectNewLine(text);\n        \n        return this.insertMergedLines(position, this.$split(text));\n    };\n    this.insertInLine = function(position, text) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = this.pos(position.row, position.column + text.length);\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: [text]\n        }, true);\n        \n        return this.clonePos(end);\n    };\n    \n    this.clippedPos = function(row, column) {\n        var length = this.getLength();\n        if (row === undefined) {\n            row = length;\n        } else if (row < 0) {\n            row = 0;\n        } else if (row >= length) {\n            row = length - 1;\n            column = undefined;\n        }\n        var line = this.getLine(row);\n        if (column == undefined)\n            column = line.length;\n        column = Math.min(Math.max(column, 0), line.length);\n        return {row: row, column: column};\n    };\n    \n    this.clonePos = function(pos) {\n        return {row: pos.row, column: pos.column};\n    };\n    \n    this.pos = function(row, column) {\n        return {row: row, column: column};\n    };\n    \n    this.$clipPosition = function(position) {\n        var length = this.getLength();\n        if (position.row >= length) {\n            position.row = Math.max(0, length - 1);\n            position.column = this.getLine(length - 1).length;\n        } else {\n            position.row = Math.max(0, position.row);\n            position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n        }\n        return position;\n    };\n    this.insertFullLines = function(row, lines) {\n        row = Math.min(Math.max(row, 0), this.getLength());\n        var column = 0;\n        if (row < this.getLength()) {\n            lines = lines.concat([\"\"]);\n            column = 0;\n        } else {\n            lines = [\"\"].concat(lines);\n            row--;\n            column = this.$lines[row].length;\n        }\n        this.insertMergedLines({row: row, column: column}, lines);\n    };    \n    this.insertMergedLines = function(position, lines) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = {\n            row: start.row + lines.length - 1,\n            column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n        };\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: lines\n        });\n        \n        return this.clonePos(end);\n    };\n    this.remove = function(range) {\n        var start = this.clippedPos(range.start.row, range.start.column);\n        var end = this.clippedPos(range.end.row, range.end.column);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({start: start, end: end})\n        });\n        return this.clonePos(start);\n    };\n    this.removeInLine = function(row, startColumn, endColumn) {\n        var start = this.clippedPos(row, startColumn);\n        var end = this.clippedPos(row, endColumn);\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({start: start, end: end})\n        }, true);\n        \n        return this.clonePos(start);\n    };\n    this.removeFullLines = function(firstRow, lastRow) {\n        firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n        lastRow  = Math.min(Math.max(0, lastRow ), this.getLength() - 1);\n        var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n        var deleteLastNewLine  = lastRow  < this.getLength() - 1;\n        var startRow = ( deleteFirstNewLine ? firstRow - 1                  : firstRow                    );\n        var startCol = ( deleteFirstNewLine ? this.getLine(startRow).length : 0                           );\n        var endRow   = ( deleteLastNewLine  ? lastRow + 1                   : lastRow                     );\n        var endCol   = ( deleteLastNewLine  ? 0                             : this.getLine(endRow).length ); \n        var range = new Range(startRow, startCol, endRow, endCol);\n        var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n        \n        this.applyDelta({\n            start: range.start,\n            end: range.end,\n            action: \"remove\",\n            lines: this.getLinesForRange(range)\n        });\n        return deletedLines;\n    };\n    this.removeNewLine = function(row) {\n        if (row < this.getLength() - 1 && row >= 0) {\n            this.applyDelta({\n                start: this.pos(row, this.getLine(row).length),\n                end: this.pos(row + 1, 0),\n                action: \"remove\",\n                lines: [\"\", \"\"]\n            });\n        }\n    };\n    this.replace = function(range, text) {\n        if (!(range instanceof Range))\n            range = Range.fromPoints(range.start, range.end);\n        if (text.length === 0 && range.isEmpty())\n            return range.start;\n        if (text == this.getTextRange(range))\n            return range.end;\n\n        this.remove(range);\n        var end;\n        if (text) {\n            end = this.insert(range.start, text);\n        }\n        else {\n            end = range.start;\n        }\n        \n        return end;\n    };\n    this.applyDeltas = function(deltas) {\n        for (var i=0; i<deltas.length; i++) {\n            this.applyDelta(deltas[i]);\n        }\n    };\n    this.revertDeltas = function(deltas) {\n        for (var i=deltas.length-1; i>=0; i--) {\n            this.revertDelta(deltas[i]);\n        }\n    };\n    this.applyDelta = function(delta, doNotValidate) {\n        var isInsert = delta.action == \"insert\";\n        if (isInsert ? delta.lines.length <= 1 && !delta.lines[0]\n            : !Range.comparePoints(delta.start, delta.end)) {\n            return;\n        }\n        \n        if (isInsert && delta.lines.length > 20000) {\n            this.$splitAndapplyLargeDelta(delta, 20000);\n        }\n        else {\n            applyDelta(this.$lines, delta, doNotValidate);\n            this._signal(\"change\", delta);\n        }\n    };\n    \n    this.$splitAndapplyLargeDelta = function(delta, MAX) {\n        var lines = delta.lines;\n        var l = lines.length - MAX + 1;\n        var row = delta.start.row; \n        var column = delta.start.column;\n        for (var from = 0, to = 0; from < l; from = to) {\n            to += MAX - 1;\n            var chunk = lines.slice(from, to);\n            chunk.push(\"\");\n            this.applyDelta({\n                start: this.pos(row + from, column),\n                end: this.pos(row + to, column = 0),\n                action: delta.action,\n                lines: chunk\n            }, true);\n        }\n        delta.lines = lines.slice(from);\n        delta.start.row = row + from;\n        delta.start.column = column;\n        this.applyDelta(delta, true);\n    };\n    this.revertDelta = function(delta) {\n        this.applyDelta({\n            start: this.clonePos(delta.start),\n            end: this.clonePos(delta.end),\n            action: (delta.action == \"insert\" ? \"remove\" : \"insert\"),\n            lines: delta.lines.slice()\n        });\n    };\n    this.indexToPosition = function(index, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        for (var i = startRow || 0, l = lines.length; i < l; i++) {\n            index -= lines[i].length + newlineLength;\n            if (index < 0)\n                return {row: i, column: index + lines[i].length + newlineLength};\n        }\n        return {row: l-1, column: index + lines[l-1].length + newlineLength};\n    };\n    this.positionToIndex = function(pos, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        var index = 0;\n        var row = Math.min(pos.row, lines.length);\n        for (var i = startRow || 0; i < row; ++i)\n            index += lines[i].length + newlineLength;\n\n        return index + pos.column;\n    };\n\n}).call(Document.prototype);\n\nexports.Document = Document;\n});\n\ndefine(\"ace/background_tokenizer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar BackgroundTokenizer = function(tokenizer, editor) {\n    this.running = false;\n    this.lines = [];\n    this.states = [];\n    this.currentLine = 0;\n    this.tokenizer = tokenizer;\n\n    var self = this;\n\n    this.$worker = function() {\n        if (!self.running) { return; }\n\n        var workerStart = new Date();\n        var currentLine = self.currentLine;\n        var endLine = -1;\n        var doc = self.doc;\n\n        var startLine = currentLine;\n        while (self.lines[currentLine])\n            currentLine++;\n        \n        var len = doc.getLength();\n        var processedLines = 0;\n        self.running = false;\n        while (currentLine < len) {\n            self.$tokenizeRow(currentLine);\n            endLine = currentLine;\n            do {\n                currentLine++;\n            } while (self.lines[currentLine]);\n            processedLines ++;\n            if ((processedLines % 5 === 0) && (new Date() - workerStart) > 20) {\n                self.running = setTimeout(self.$worker, 20);\n                break;\n            }\n        }\n        self.currentLine = currentLine;\n        \n        if (endLine == -1)\n            endLine = currentLine;\n        \n        if (startLine <= endLine)\n            self.fireUpdateEvent(startLine, endLine);\n    };\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n    this.setTokenizer = function(tokenizer) {\n        this.tokenizer = tokenizer;\n        this.lines = [];\n        this.states = [];\n\n        this.start(0);\n    };\n    this.setDocument = function(doc) {\n        this.doc = doc;\n        this.lines = [];\n        this.states = [];\n\n        this.stop();\n    };\n    this.fireUpdateEvent = function(firstRow, lastRow) {\n        var data = {\n            first: firstRow,\n            last: lastRow\n        };\n        this._signal(\"update\", {data: data});\n    };\n    this.start = function(startRow) {\n        this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());\n        this.lines.splice(this.currentLine, this.lines.length);\n        this.states.splice(this.currentLine, this.states.length);\n\n        this.stop();\n        this.running = setTimeout(this.$worker, 700);\n    };\n    \n    this.scheduleStart = function() {\n        if (!this.running)\n            this.running = setTimeout(this.$worker, 700);\n    };\n\n    this.$updateOnChange = function(delta) {\n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n\n        if (len === 0) {\n            this.lines[startRow] = null;\n        } else if (delta.action == \"remove\") {\n            this.lines.splice(startRow, len + 1, null);\n            this.states.splice(startRow, len + 1, null);\n        } else {\n            var args = Array(len + 1);\n            args.unshift(startRow, 1);\n            this.lines.splice.apply(this.lines, args);\n            this.states.splice.apply(this.states, args);\n        }\n\n        this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());\n\n        this.stop();\n    };\n    this.stop = function() {\n        if (this.running)\n            clearTimeout(this.running);\n        this.running = false;\n    };\n    this.getTokens = function(row) {\n        return this.lines[row] || this.$tokenizeRow(row);\n    };\n    this.getState = function(row) {\n        if (this.currentLine == row)\n            this.$tokenizeRow(row);\n        return this.states[row] || \"start\";\n    };\n\n    this.$tokenizeRow = function(row) {\n        var line = this.doc.getLine(row);\n        var state = this.states[row - 1];\n\n        var data = this.tokenizer.getLineTokens(line, state, row);\n\n        if (this.states[row] + \"\" !== data.state + \"\") {\n            this.states[row] = data.state;\n            this.lines[row + 1] = null;\n            if (this.currentLine > row + 1)\n                this.currentLine = row + 1;\n        } else if (this.currentLine == row) {\n            this.currentLine = row + 1;\n        }\n\n        return this.lines[row] = data.tokens;\n    };\n\n}).call(BackgroundTokenizer.prototype);\n\nexports.BackgroundTokenizer = BackgroundTokenizer;\n});\n\ndefine(\"ace/search_highlight\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\n\nvar SearchHighlight = function(regExp, clazz, type) {\n    this.setRegexp(regExp);\n    this.clazz = clazz;\n    this.type = type || \"text\";\n};\n\n(function() {\n    this.MAX_RANGES = 500;\n    \n    this.setRegexp = function(regExp) {\n        if (this.regExp+\"\" == regExp+\"\")\n            return;\n        this.regExp = regExp;\n        this.cache = [];\n    };\n\n    this.update = function(html, markerLayer, session, config) {\n        if (!this.regExp)\n            return;\n        var start = config.firstRow, end = config.lastRow;\n\n        for (var i = start; i <= end; i++) {\n            var ranges = this.cache[i];\n            if (ranges == null) {\n                ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);\n                if (ranges.length > this.MAX_RANGES)\n                    ranges = ranges.slice(0, this.MAX_RANGES);\n                ranges = ranges.map(function(match) {\n                    return new Range(i, match.offset, i, match.offset + match.length);\n                });\n                this.cache[i] = ranges.length ? ranges : \"\";\n            }\n\n            for (var j = ranges.length; j --; ) {\n                markerLayer.drawSingleLineMarker(\n                    html, ranges[j].toScreenRange(session), this.clazz, config);\n            }\n        }\n    };\n\n}).call(SearchHighlight.prototype);\n\nexports.SearchHighlight = SearchHighlight;\n});\n\ndefine(\"ace/edit_session/fold_line\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nfunction FoldLine(foldData, folds) {\n    this.foldData = foldData;\n    if (Array.isArray(folds)) {\n        this.folds = folds;\n    } else {\n        folds = this.folds = [ folds ];\n    }\n\n    var last = folds[folds.length - 1];\n    this.range = new Range(folds[0].start.row, folds[0].start.column,\n                           last.end.row, last.end.column);\n    this.start = this.range.start;\n    this.end   = this.range.end;\n\n    this.folds.forEach(function(fold) {\n        fold.setFoldLine(this);\n    }, this);\n}\n\n(function() {\n    this.shiftRow = function(shift) {\n        this.start.row += shift;\n        this.end.row += shift;\n        this.folds.forEach(function(fold) {\n            fold.start.row += shift;\n            fold.end.row += shift;\n        });\n    };\n\n    this.addFold = function(fold) {\n        if (fold.sameRow) {\n            if (fold.start.row < this.startRow || fold.endRow > this.endRow) {\n                throw new Error(\"Can't add a fold to this FoldLine as it has no connection\");\n            }\n            this.folds.push(fold);\n            this.folds.sort(function(a, b) {\n                return -a.range.compareEnd(b.start.row, b.start.column);\n            });\n            if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {\n                this.end.row = fold.end.row;\n                this.end.column =  fold.end.column;\n            } else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {\n                this.start.row = fold.start.row;\n                this.start.column = fold.start.column;\n            }\n        } else if (fold.start.row == this.end.row) {\n            this.folds.push(fold);\n            this.end.row = fold.end.row;\n            this.end.column = fold.end.column;\n        } else if (fold.end.row == this.start.row) {\n            this.folds.unshift(fold);\n            this.start.row = fold.start.row;\n            this.start.column = fold.start.column;\n        } else {\n            throw new Error(\"Trying to add fold to FoldRow that doesn't have a matching row\");\n        }\n        fold.foldLine = this;\n    };\n\n    this.containsRow = function(row) {\n        return row >= this.start.row && row <= this.end.row;\n    };\n\n    this.walk = function(callback, endRow, endColumn) {\n        var lastEnd = 0,\n            folds = this.folds,\n            fold,\n            cmp, stop, isNewRow = true;\n\n        if (endRow == null) {\n            endRow = this.end.row;\n            endColumn = this.end.column;\n        }\n\n        for (var i = 0; i < folds.length; i++) {\n            fold = folds[i];\n\n            cmp = fold.range.compareStart(endRow, endColumn);\n            if (cmp == -1) {\n                callback(null, endRow, endColumn, lastEnd, isNewRow);\n                return;\n            }\n\n            stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);\n            stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);\n            if (stop || cmp === 0) {\n                return;\n            }\n            isNewRow = !fold.sameRow;\n            lastEnd = fold.end.column;\n        }\n        callback(null, endRow, endColumn, lastEnd, isNewRow);\n    };\n\n    this.getNextFoldTo = function(row, column) {\n        var fold, cmp;\n        for (var i = 0; i < this.folds.length; i++) {\n            fold = this.folds[i];\n            cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                return {\n                    fold: fold,\n                    kind: \"after\"\n                };\n            } else if (cmp === 0) {\n                return {\n                    fold: fold,\n                    kind: \"inside\"\n                };\n            }\n        }\n        return null;\n    };\n\n    this.addRemoveChars = function(row, column, len) {\n        var ret = this.getNextFoldTo(row, column),\n            fold, folds;\n        if (ret) {\n            fold = ret.fold;\n            if (ret.kind == \"inside\"\n                && fold.start.column != column\n                && fold.start.row != row)\n            {\n                window.console && window.console.log(row, column, fold);\n            } else if (fold.start.row == row) {\n                folds = this.folds;\n                var i = folds.indexOf(fold);\n                if (i === 0) {\n                    this.start.column += len;\n                }\n                for (i; i < folds.length; i++) {\n                    fold = folds[i];\n                    fold.start.column += len;\n                    if (!fold.sameRow) {\n                        return;\n                    }\n                    fold.end.column += len;\n                }\n                this.end.column += len;\n            }\n        }\n    };\n\n    this.split = function(row, column) {\n        var pos = this.getNextFoldTo(row, column);\n        \n        if (!pos || pos.kind == \"inside\")\n            return null;\n            \n        var fold = pos.fold;\n        var folds = this.folds;\n        var foldData = this.foldData;\n        \n        var i = folds.indexOf(fold);\n        var foldBefore = folds[i - 1];\n        this.end.row = foldBefore.end.row;\n        this.end.column = foldBefore.end.column;\n        folds = folds.splice(i, folds.length - i);\n\n        var newFoldLine = new FoldLine(foldData, folds);\n        foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);\n        return newFoldLine;\n    };\n\n    this.merge = function(foldLineNext) {\n        var folds = foldLineNext.folds;\n        for (var i = 0; i < folds.length; i++) {\n            this.addFold(folds[i]);\n        }\n        var foldData = this.foldData;\n        foldData.splice(foldData.indexOf(foldLineNext), 1);\n    };\n\n    this.toString = function() {\n        var ret = [this.range.toString() + \": [\" ];\n\n        this.folds.forEach(function(fold) {\n            ret.push(\"  \" + fold.toString());\n        });\n        ret.push(\"]\");\n        return ret.join(\"\\n\");\n    };\n\n    this.idxToPosition = function(idx) {\n        var lastFoldEndColumn = 0;\n\n        for (var i = 0; i < this.folds.length; i++) {\n            var fold = this.folds[i];\n\n            idx -= fold.start.column - lastFoldEndColumn;\n            if (idx < 0) {\n                return {\n                    row: fold.start.row,\n                    column: fold.start.column + idx\n                };\n            }\n\n            idx -= fold.placeholder.length;\n            if (idx < 0) {\n                return fold.start;\n            }\n\n            lastFoldEndColumn = fold.end.column;\n        }\n\n        return {\n            row: this.end.row,\n            column: this.end.column + idx\n        };\n    };\n}).call(FoldLine.prototype);\n\nexports.FoldLine = FoldLine;\n});\n\ndefine(\"ace/range_list\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar Range = require(\"./range\").Range;\nvar comparePoints = Range.comparePoints;\n\nvar RangeList = function() {\n    this.ranges = [];\n    this.$bias = 1;\n};\n\n(function() {\n    this.comparePoints = comparePoints;\n\n    this.pointIndex = function(pos, excludeEdges, startIndex) {\n        var list = this.ranges;\n\n        for (var i = startIndex || 0; i < list.length; i++) {\n            var range = list[i];\n            var cmpEnd = comparePoints(pos, range.end);\n            if (cmpEnd > 0)\n                continue;\n            var cmpStart = comparePoints(pos, range.start);\n            if (cmpEnd === 0)\n                return excludeEdges && cmpStart !== 0 ? -i-2 : i;\n            if (cmpStart > 0 || (cmpStart === 0 && !excludeEdges))\n                return i;\n\n            return -i-1;\n        }\n        return -i - 1;\n    };\n\n    this.add = function(range) {\n        var excludeEdges = !range.isEmpty();\n        var startIndex = this.pointIndex(range.start, excludeEdges);\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n\n        var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);\n\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n        else\n            endIndex++;\n        return this.ranges.splice(startIndex, endIndex - startIndex, range);\n    };\n\n    this.addList = function(list) {\n        var removed = [];\n        for (var i = list.length; i--; ) {\n            removed.push.apply(removed, this.add(list[i]));\n        }\n        return removed;\n    };\n\n    this.substractPoint = function(pos) {\n        var i = this.pointIndex(pos);\n\n        if (i >= 0)\n            return this.ranges.splice(i, 1);\n    };\n    this.merge = function() {\n        var removed = [];\n        var list = this.ranges;\n        \n        list = list.sort(function(a, b) {\n            return comparePoints(a.start, b.start);\n        });\n        \n        var next = list[0], range;\n        for (var i = 1; i < list.length; i++) {\n            range = next;\n            next = list[i];\n            var cmp = comparePoints(range.end, next.start);\n            if (cmp < 0)\n                continue;\n\n            if (cmp == 0 && !range.isEmpty() && !next.isEmpty())\n                continue;\n\n            if (comparePoints(range.end, next.end) < 0) {\n                range.end.row = next.end.row;\n                range.end.column = next.end.column;\n            }\n\n            list.splice(i, 1);\n            removed.push(next);\n            next = range;\n            i--;\n        }\n        \n        this.ranges = list;\n\n        return removed;\n    };\n\n    this.contains = function(row, column) {\n        return this.pointIndex({row: row, column: column}) >= 0;\n    };\n\n    this.containsPoint = function(pos) {\n        return this.pointIndex(pos) >= 0;\n    };\n\n    this.rangeAtPoint = function(pos) {\n        var i = this.pointIndex(pos);\n        if (i >= 0)\n            return this.ranges[i];\n    };\n\n\n    this.clipRows = function(startRow, endRow) {\n        var list = this.ranges;\n        if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow)\n            return [];\n\n        var startIndex = this.pointIndex({row: startRow, column: 0});\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n        var endIndex = this.pointIndex({row: endRow, column: 0}, startIndex);\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n\n        var clipped = [];\n        for (var i = startIndex; i < endIndex; i++) {\n            clipped.push(list[i]);\n        }\n        return clipped;\n    };\n\n    this.removeAll = function() {\n        return this.ranges.splice(0, this.ranges.length);\n    };\n\n    this.attach = function(session) {\n        if (this.session)\n            this.detach();\n\n        this.session = session;\n        this.onChange = this.$onChange.bind(this);\n\n        this.session.on('change', this.onChange);\n    };\n\n    this.detach = function() {\n        if (!this.session)\n            return;\n        this.session.removeListener('change', this.onChange);\n        this.session = null;\n    };\n\n    this.$onChange = function(delta) {\n        var start = delta.start;\n        var end = delta.end;\n        var startRow = start.row;\n        var endRow = end.row;\n        var ranges = this.ranges;\n        for (var i = 0, n = ranges.length; i < n; i++) {\n            var r = ranges[i];\n            if (r.end.row >= startRow)\n                break;\n        }\n        \n        if (delta.action == \"insert\") {\n            var lineDif = endRow - startRow;\n            var colDiff = -start.column + end.column;\n            for (; i < n; i++) {\n                var r = ranges[i];\n                if (r.start.row > startRow)\n                    break;\n    \n                if (r.start.row == startRow && r.start.column >= start.column) {\n                    if (r.start.column == start.column && this.$bias <= 0) {\n                    } else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                if (r.end.row == startRow && r.end.column >= start.column) {\n                    if (r.end.column == start.column && this.$bias < 0) {\n                        continue;\n                    }\n                    if (r.end.column == start.column && colDiff > 0 && i < n - 1) {\n                        if (r.end.column > r.start.column && r.end.column == ranges[i+1].start.column)\n                            r.end.column -= colDiff;\n                    }\n                    r.end.column += colDiff;\n                    r.end.row += lineDif;\n                }\n            }\n        } else {\n            var lineDif = startRow - endRow;\n            var colDiff = start.column - end.column;\n            for (; i < n; i++) {\n                var r = ranges[i];\n                \n                if (r.start.row > endRow)\n                    break;\n                    \n                if (r.end.row < endRow\n                    && (\n                        startRow < r.end.row \n                        || startRow == r.end.row && start.column < r.end.column\n                    )\n                ) {\n                    r.end.row = startRow;\n                    r.end.column = start.column;\n                }\n                else if (r.end.row == endRow) {\n                    if (r.end.column <= end.column) {\n                        if (lineDif || r.end.column > start.column) {\n                            r.end.column = start.column;\n                            r.end.row = start.row;\n                        }\n                    }\n                    else {\n                        r.end.column += colDiff;\n                        r.end.row += lineDif;\n                    }\n                }\n                else if (r.end.row > endRow) {\n                    r.end.row += lineDif;\n                }\n                \n                if (r.start.row < endRow\n                    && (\n                        startRow < r.start.row \n                        || startRow == r.start.row && start.column < r.start.column\n                    )\n                ) {\n                    r.start.row = startRow;\n                    r.start.column = start.column;\n                }\n                else if (r.start.row == endRow) {\n                    if (r.start.column <= end.column) {\n                        if (lineDif || r.start.column > start.column) {\n                            r.start.column = start.column;\n                            r.start.row = start.row;\n                        }\n                    }\n                    else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                else if (r.start.row > endRow) {\n                    r.start.row += lineDif;\n                }\n            }\n        }\n\n        if (lineDif != 0 && i < n) {\n            for (; i < n; i++) {\n                var r = ranges[i];\n                r.start.row += lineDif;\n                r.end.row += lineDif;\n            }\n        }\n    };\n\n}).call(RangeList.prototype);\n\nexports.RangeList = RangeList;\n});\n\ndefine(\"ace/edit_session/fold\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/lib/oop\"], function(require, exports, module) {\n\"use strict\";\n\nvar RangeList = require(\"../range_list\").RangeList;\nvar oop = require(\"../lib/oop\");\nvar Fold = exports.Fold = function(range, placeholder) {\n    this.foldLine = null;\n    this.placeholder = placeholder;\n    this.range = range;\n    this.start = range.start;\n    this.end = range.end;\n\n    this.sameRow = range.start.row == range.end.row;\n    this.subFolds = this.ranges = [];\n};\n\noop.inherits(Fold, RangeList);\n\n(function() {\n\n    this.toString = function() {\n        return '\"' + this.placeholder + '\" ' + this.range.toString();\n    };\n\n    this.setFoldLine = function(foldLine) {\n        this.foldLine = foldLine;\n        this.subFolds.forEach(function(fold) {\n            fold.setFoldLine(foldLine);\n        });\n    };\n\n    this.clone = function() {\n        var range = this.range.clone();\n        var fold = new Fold(range, this.placeholder);\n        this.subFolds.forEach(function(subFold) {\n            fold.subFolds.push(subFold.clone());\n        });\n        fold.collapseChildren = this.collapseChildren;\n        return fold;\n    };\n\n    this.addSubFold = function(fold) {\n        if (this.range.isEqual(fold))\n            return;\n        consumeRange(fold, this.start);\n\n        var row = fold.start.row, column = fold.start.column;\n        for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {\n            cmp = this.subFolds[i].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        var afterStart = this.subFolds[i];\n        var firstConsumed = 0;\n\n        if (cmp == 0) {\n            if (afterStart.range.containsRange(fold))\n                return afterStart.addSubFold(fold);\n            else\n                firstConsumed = 1;\n        }\n        var row = fold.range.end.row, column = fold.range.end.column;\n        for (var j = i, cmp = -1; j < this.subFolds.length; j++) {\n            cmp = this.subFolds[j].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        if (cmp == 0)  j++;\n        var consumedFolds = this.subFolds.splice(i, j - i, fold);\n        var last = cmp == 0 ? consumedFolds.length - 1 : consumedFolds.length;\n        for (var k = firstConsumed; k < last; k++) {\n            fold.addSubFold(consumedFolds[k]);\n        }\n        fold.setFoldLine(this.foldLine);\n\n        return fold;\n    };\n    \n    this.restoreRange = function(range) {\n        return restoreRange(range, this.start);\n    };\n\n}).call(Fold.prototype);\n\nfunction consumePoint(point, anchor) {\n    point.row -= anchor.row;\n    if (point.row == 0)\n        point.column -= anchor.column;\n}\nfunction consumeRange(range, anchor) {\n    consumePoint(range.start, anchor);\n    consumePoint(range.end, anchor);\n}\nfunction restorePoint(point, anchor) {\n    if (point.row == 0)\n        point.column += anchor.column;\n    point.row += anchor.row;\n}\nfunction restoreRange(range, anchor) {\n    restorePoint(range.start, anchor);\n    restorePoint(range.end, anchor);\n}\n\n});\n\ndefine(\"ace/edit_session/folding\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/edit_session/fold_line\",\"ace/edit_session/fold\",\"ace/token_iterator\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nvar FoldLine = require(\"./fold_line\").FoldLine;\nvar Fold = require(\"./fold\").Fold;\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\n\nfunction Folding() {\n    this.getFoldAt = function(row, column, side) {\n        var foldLine = this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n\n        var folds = foldLine.folds;\n        for (var i = 0; i < folds.length; i++) {\n            var range = folds[i].range;\n            if (range.contains(row, column)) {\n                if (side == 1 && range.isEnd(row, column) && !range.isEmpty()) {\n                    continue;\n                } else if (side == -1 && range.isStart(row, column) && !range.isEmpty()) {\n                    continue;\n                }\n                return folds[i];\n            }\n        }\n    };\n    this.getFoldsInRange = function(range) {\n        var start = range.start;\n        var end = range.end;\n        var foldLines = this.$foldData;\n        var foundFolds = [];\n\n        start.column += 1;\n        end.column -= 1;\n\n        for (var i = 0; i < foldLines.length; i++) {\n            var cmp = foldLines[i].range.compareRange(range);\n            if (cmp == 2) {\n                continue;\n            }\n            else if (cmp == -2) {\n                break;\n            }\n\n            var folds = foldLines[i].folds;\n            for (var j = 0; j < folds.length; j++) {\n                var fold = folds[j];\n                cmp = fold.range.compareRange(range);\n                if (cmp == -2) {\n                    break;\n                } else if (cmp == 2) {\n                    continue;\n                } else\n                if (cmp == 42) {\n                    break;\n                }\n                foundFolds.push(fold);\n            }\n        }\n        start.column -= 1;\n        end.column += 1;\n\n        return foundFolds;\n    };\n\n    this.getFoldsInRangeList = function(ranges) {\n        if (Array.isArray(ranges)) {\n            var folds = [];\n            ranges.forEach(function(range) {\n                folds = folds.concat(this.getFoldsInRange(range));\n            }, this);\n        } else {\n            var folds = this.getFoldsInRange(ranges);\n        }\n        return folds;\n    };\n    this.getAllFolds = function() {\n        var folds = [];\n        var foldLines = this.$foldData;\n        \n        for (var i = 0; i < foldLines.length; i++)\n            for (var j = 0; j < foldLines[i].folds.length; j++)\n                folds.push(foldLines[i].folds[j]);\n\n        return folds;\n    };\n    this.getFoldStringAt = function(row, column, trim, foldLine) {\n        foldLine = foldLine || this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n\n        var lastFold = {\n            end: { column: 0 }\n        };\n        var str, fold;\n        for (var i = 0; i < foldLine.folds.length; i++) {\n            fold = foldLine.folds[i];\n            var cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                str = this\n                    .getLine(fold.start.row)\n                    .substring(lastFold.end.column, fold.start.column);\n                break;\n            }\n            else if (cmp === 0) {\n                return null;\n            }\n            lastFold = fold;\n        }\n        if (!str)\n            str = this.getLine(fold.start.row).substring(lastFold.end.column);\n\n        if (trim == -1)\n            return str.substring(0, column - lastFold.end.column);\n        else if (trim == 1)\n            return str.substring(column - lastFold.end.column);\n        else\n            return str;\n    };\n\n    this.getFoldLine = function(docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {\n                return foldLine;\n            } else if (foldLine.end.row > docRow) {\n                return null;\n            }\n        }\n        return null;\n    };\n    this.getNextFoldLine = function(docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.end.row >= docRow) {\n                return foldLine;\n            }\n        }\n        return null;\n    };\n\n    this.getFoldedRowCount = function(first, last) {\n        var foldData = this.$foldData, rowCount = last-first+1;\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i],\n                end = foldLine.end.row,\n                start = foldLine.start.row;\n            if (end >= last) {\n                if (start < last) {\n                    if (start >= first)\n                        rowCount -= last-start;\n                    else\n                        rowCount = 0; // in one fold\n                }\n                break;\n            } else if (end >= first){\n                if (start >= first) // fold inside range\n                    rowCount -=  end-start;\n                else\n                    rowCount -=  end-first+1;\n            }\n        }\n        return rowCount;\n    };\n\n    this.$addFoldLine = function(foldLine) {\n        this.$foldData.push(foldLine);\n        this.$foldData.sort(function(a, b) {\n            return a.start.row - b.start.row;\n        });\n        return foldLine;\n    };\n    this.addFold = function(placeholder, range) {\n        var foldData = this.$foldData;\n        var added = false;\n        var fold;\n        \n        if (placeholder instanceof Fold)\n            fold = placeholder;\n        else {\n            fold = new Fold(range, placeholder);\n            fold.collapseChildren = range.collapseChildren;\n        }\n        this.$clipRangeToDocument(fold.range);\n\n        var startRow = fold.start.row;\n        var startColumn = fold.start.column;\n        var endRow = fold.end.row;\n        var endColumn = fold.end.column;\n\n        var startFold = this.getFoldAt(startRow, startColumn, 1);\n        var endFold = this.getFoldAt(endRow, endColumn, -1);\n        if (startFold && endFold == startFold)\n            return startFold.addSubFold(fold);\n\n        if (startFold && !startFold.range.isStart(startRow, startColumn))\n            this.removeFold(startFold);\n        \n        if (endFold && !endFold.range.isEnd(endRow, endColumn))\n            this.removeFold(endFold);\n        var folds = this.getFoldsInRange(fold.range);\n        if (folds.length > 0) {\n            this.removeFolds(folds);\n            folds.forEach(function(subFold) {\n                fold.addSubFold(subFold);\n            });\n        }\n\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (endRow == foldLine.start.row) {\n                foldLine.addFold(fold);\n                added = true;\n                break;\n            } else if (startRow == foldLine.end.row) {\n                foldLine.addFold(fold);\n                added = true;\n                if (!fold.sameRow) {\n                    var foldLineNext = foldData[i + 1];\n                    if (foldLineNext && foldLineNext.start.row == endRow) {\n                        foldLine.merge(foldLineNext);\n                        break;\n                    }\n                }\n                break;\n            } else if (endRow <= foldLine.start.row) {\n                break;\n            }\n        }\n\n        if (!added)\n            foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));\n\n        if (this.$useWrapMode)\n            this.$updateWrapData(foldLine.start.row, foldLine.start.row);\n        else\n            this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"add\" });\n\n        return fold;\n    };\n\n    this.addFolds = function(folds) {\n        folds.forEach(function(fold) {\n            this.addFold(fold);\n        }, this);\n    };\n\n    this.removeFold = function(fold) {\n        var foldLine = fold.foldLine;\n        var startRow = foldLine.start.row;\n        var endRow = foldLine.end.row;\n\n        var foldLines = this.$foldData;\n        var folds = foldLine.folds;\n        if (folds.length == 1) {\n            foldLines.splice(foldLines.indexOf(foldLine), 1);\n        } else\n        if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {\n            folds.pop();\n            foldLine.end.row = folds[folds.length - 1].end.row;\n            foldLine.end.column = folds[folds.length - 1].end.column;\n        } else\n        if (foldLine.range.isStart(fold.start.row, fold.start.column)) {\n            folds.shift();\n            foldLine.start.row = folds[0].start.row;\n            foldLine.start.column = folds[0].start.column;\n        } else\n        if (fold.sameRow) {\n            folds.splice(folds.indexOf(fold), 1);\n        } else\n        {\n            var newFoldLine = foldLine.split(fold.start.row, fold.start.column);\n            folds = newFoldLine.folds;\n            folds.shift();\n            newFoldLine.start.row = folds[0].start.row;\n            newFoldLine.start.column = folds[0].start.column;\n        }\n\n        if (!this.$updating) {\n            if (this.$useWrapMode)\n                this.$updateWrapData(startRow, endRow);\n            else\n                this.$updateRowLengthCache(startRow, endRow);\n        }\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"remove\" });\n    };\n\n    this.removeFolds = function(folds) {\n        var cloneFolds = [];\n        for (var i = 0; i < folds.length; i++) {\n            cloneFolds.push(folds[i]);\n        }\n\n        cloneFolds.forEach(function(fold) {\n            this.removeFold(fold);\n        }, this);\n        this.$modified = true;\n    };\n\n    this.expandFold = function(fold) {\n        this.removeFold(fold);\n        fold.subFolds.forEach(function(subFold) {\n            fold.restoreRange(subFold);\n            this.addFold(subFold);\n        }, this);\n        if (fold.collapseChildren > 0) {\n            this.foldAll(fold.start.row+1, fold.end.row, fold.collapseChildren-1);\n        }\n        fold.subFolds = [];\n    };\n\n    this.expandFolds = function(folds) {\n        folds.forEach(function(fold) {\n            this.expandFold(fold);\n        }, this);\n    };\n\n    this.unfold = function(location, expandInner) {\n        var range, folds;\n        if (location == null) {\n            range = new Range(0, 0, this.getLength(), 0);\n            expandInner = true;\n        } else if (typeof location == \"number\")\n            range = new Range(location, 0, location, this.getLine(location).length);\n        else if (\"row\" in location)\n            range = Range.fromPoints(location, location);\n        else\n            range = location;\n        \n        folds = this.getFoldsInRangeList(range);\n        if (expandInner) {\n            this.removeFolds(folds);\n        } else {\n            var subFolds = folds;\n            while (subFolds.length) {\n                this.expandFolds(subFolds);\n                subFolds = this.getFoldsInRangeList(range);\n            }\n        }\n        if (folds.length)\n            return folds;\n    };\n    this.isRowFolded = function(docRow, startFoldRow) {\n        return !!this.getFoldLine(docRow, startFoldRow);\n    };\n\n    this.getRowFoldEnd = function(docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.end.row : docRow;\n    };\n\n    this.getRowFoldStart = function(docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.start.row : docRow;\n    };\n\n    this.getFoldDisplayLine = function(foldLine, endRow, endColumn, startRow, startColumn) {\n        if (startRow == null)\n            startRow = foldLine.start.row;\n        if (startColumn == null)\n            startColumn = 0;\n        if (endRow == null)\n            endRow = foldLine.end.row;\n        if (endColumn == null)\n            endColumn = this.getLine(endRow).length;\n        var doc = this.doc;\n        var textLine = \"\";\n\n        foldLine.walk(function(placeholder, row, column, lastColumn) {\n            if (row < startRow)\n                return;\n            if (row == startRow) {\n                if (column < startColumn)\n                    return;\n                lastColumn = Math.max(startColumn, lastColumn);\n            }\n\n            if (placeholder != null) {\n                textLine += placeholder;\n            } else {\n                textLine += doc.getLine(row).substring(lastColumn, column);\n            }\n        }, endRow, endColumn);\n        return textLine;\n    };\n\n    this.getDisplayLine = function(row, endColumn, startRow, startColumn) {\n        var foldLine = this.getFoldLine(row);\n\n        if (!foldLine) {\n            var line;\n            line = this.doc.getLine(row);\n            return line.substring(startColumn || 0, endColumn || line.length);\n        } else {\n            return this.getFoldDisplayLine(\n                foldLine, row, endColumn, startRow, startColumn);\n        }\n    };\n\n    this.$cloneFoldData = function() {\n        var fd = [];\n        fd = this.$foldData.map(function(foldLine) {\n            var folds = foldLine.folds.map(function(fold) {\n                return fold.clone();\n            });\n            return new FoldLine(fd, folds);\n        });\n\n        return fd;\n    };\n\n    this.toggleFold = function(tryToUnfold) {\n        var selection = this.selection;\n        var range = selection.getRange();\n        var fold;\n        var bracketPos;\n\n        if (range.isEmpty()) {\n            var cursor = range.start;\n            fold = this.getFoldAt(cursor.row, cursor.column);\n\n            if (fold) {\n                this.expandFold(fold);\n                return;\n            } else if (bracketPos = this.findMatchingBracket(cursor)) {\n                if (range.comparePoint(bracketPos) == 1) {\n                    range.end = bracketPos;\n                } else {\n                    range.start = bracketPos;\n                    range.start.column++;\n                    range.end.column--;\n                }\n            } else if (bracketPos = this.findMatchingBracket({row: cursor.row, column: cursor.column + 1})) {\n                if (range.comparePoint(bracketPos) == 1)\n                    range.end = bracketPos;\n                else\n                    range.start = bracketPos;\n\n                range.start.column++;\n            } else {\n                range = this.getCommentFoldRange(cursor.row, cursor.column) || range;\n            }\n        } else {\n            var folds = this.getFoldsInRange(range);\n            if (tryToUnfold && folds.length) {\n                this.expandFolds(folds);\n                return;\n            } else if (folds.length == 1 ) {\n                fold = folds[0];\n            }\n        }\n\n        if (!fold)\n            fold = this.getFoldAt(range.start.row, range.start.column);\n\n        if (fold && fold.range.toString() == range.toString()) {\n            this.expandFold(fold);\n            return;\n        }\n\n        var placeholder = \"...\";\n        if (!range.isMultiLine()) {\n            placeholder = this.getTextRange(range);\n            if (placeholder.length < 4)\n                return;\n            placeholder = placeholder.trim().substring(0, 2) + \"..\";\n        }\n\n        this.addFold(placeholder, range);\n    };\n\n    this.getCommentFoldRange = function(row, column, dir) {\n        var iterator = new TokenIterator(this, row, column);\n        var token = iterator.getCurrentToken();\n        var type = token.type;\n        if (token && /^comment|string/.test(type)) {\n            type = type.match(/comment|string/)[0];\n            if (type == \"comment\")\n                type += \"|doc-start\";\n            var re = new RegExp(type);\n            var range = new Range();\n            if (dir != 1) {\n                do {\n                    token = iterator.stepBackward();\n                } while (token && re.test(token.type));\n                iterator.stepForward();\n            }\n            \n            range.start.row = iterator.getCurrentTokenRow();\n            range.start.column = iterator.getCurrentTokenColumn() + 2;\n\n            iterator = new TokenIterator(this, row, column);\n            \n            if (dir != -1) {\n                var lastRow = -1;\n                do {\n                    token = iterator.stepForward();\n                    if (lastRow == -1) {\n                        var state = this.getState(iterator.$row);\n                        if (!re.test(state))\n                            lastRow = iterator.$row;\n                    } else if (iterator.$row > lastRow) {\n                        break;\n                    }\n                } while (token && re.test(token.type));\n                token = iterator.stepBackward();\n            } else\n                token = iterator.getCurrentToken();\n\n            range.end.row = iterator.getCurrentTokenRow();\n            range.end.column = iterator.getCurrentTokenColumn() + token.value.length - 2;\n            return range;\n        }\n    };\n\n    this.foldAll = function(startRow, endRow, depth) {\n        if (depth == undefined)\n            depth = 100000; // JSON.stringify doesn't hanle Infinity\n        var foldWidgets = this.foldWidgets;\n        if (!foldWidgets)\n            return; // mode doesn't support folding\n        endRow = endRow || this.getLength();\n        startRow = startRow || 0;\n        for (var row = startRow; row < endRow; row++) {\n            if (foldWidgets[row] == null)\n                foldWidgets[row] = this.getFoldWidget(row);\n            if (foldWidgets[row] != \"start\")\n                continue;\n\n            var range = this.getFoldWidgetRange(row);\n            if (range && range.isMultiLine()\n                && range.end.row <= endRow\n                && range.start.row >= startRow\n            ) {\n                row = range.end.row;\n                try {\n                    var fold = this.addFold(\"...\", range);\n                    if (fold)\n                        fold.collapseChildren = depth;\n                } catch(e) {}\n            }\n        }\n    };\n    this.$foldStyles = {\n        \"manual\": 1,\n        \"markbegin\": 1,\n        \"markbeginend\": 1\n    };\n    this.$foldStyle = \"markbegin\";\n    this.setFoldStyle = function(style) {\n        if (!this.$foldStyles[style])\n            throw new Error(\"invalid fold style: \" + style + \"[\" + Object.keys(this.$foldStyles).join(\", \") + \"]\");\n        \n        if (this.$foldStyle == style)\n            return;\n\n        this.$foldStyle = style;\n        \n        if (style == \"manual\")\n            this.unfold();\n        var mode = this.$foldMode;\n        this.$setFolding(null);\n        this.$setFolding(mode);\n    };\n\n    this.$setFolding = function(foldMode) {\n        if (this.$foldMode == foldMode)\n            return;\n            \n        this.$foldMode = foldMode;\n        \n        this.off('change', this.$updateFoldWidgets);\n        this.off('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n        this._signal(\"changeAnnotation\");\n        \n        if (!foldMode || this.$foldStyle == \"manual\") {\n            this.foldWidgets = null;\n            return;\n        }\n        \n        this.foldWidgets = [];\n        this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);\n        this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);\n        \n        this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);\n        this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this);\n        this.on('change', this.$updateFoldWidgets);\n        this.on('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n    };\n\n    this.getParentFoldRangeData = function (row, ignoreCurrent) {\n        var fw = this.foldWidgets;\n        if (!fw || (ignoreCurrent && fw[row]))\n            return {};\n\n        var i = row - 1, firstRange;\n        while (i >= 0) {\n            var c = fw[i];\n            if (c == null)\n                c = fw[i] = this.getFoldWidget(i);\n\n            if (c == \"start\") {\n                var range = this.getFoldWidgetRange(i);\n                if (!firstRange)\n                    firstRange = range;\n                if (range && range.end.row >= row)\n                    break;\n            }\n            i--;\n        }\n\n        return {\n            range: i !== -1 && range,\n            firstRange: firstRange\n        };\n    };\n\n    this.onFoldWidgetClick = function(row, e) {\n        e = e.domEvent;\n        var options = {\n            children: e.shiftKey,\n            all: e.ctrlKey || e.metaKey,\n            siblings: e.altKey\n        };\n        \n        var range = this.$toggleFoldWidget(row, options);\n        if (!range) {\n            var el = (e.target || e.srcElement);\n            if (el && /ace_fold-widget/.test(el.className))\n                el.className += \" ace_invalid\";\n        }\n    };\n    \n    this.$toggleFoldWidget = function(row, options) {\n        if (!this.getFoldWidget)\n            return;\n        var type = this.getFoldWidget(row);\n        var line = this.getLine(row);\n\n        var dir = type === \"end\" ? -1 : 1;\n        var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);\n\n        if (fold) {\n            if (options.children || options.all)\n                this.removeFold(fold);\n            else\n                this.expandFold(fold);\n            return fold;\n        }\n\n        var range = this.getFoldWidgetRange(row, true);\n        if (range && !range.isMultiLine()) {\n            fold = this.getFoldAt(range.start.row, range.start.column, 1);\n            if (fold && range.isEqual(fold.range)) {\n                this.removeFold(fold);\n                return fold;\n            }\n        }\n        \n        if (options.siblings) {\n            var data = this.getParentFoldRangeData(row);\n            if (data.range) {\n                var startRow = data.range.start.row + 1;\n                var endRow = data.range.end.row;\n            }\n            this.foldAll(startRow, endRow, options.all ? 10000 : 0);\n        } else if (options.children) {\n            endRow = range ? range.end.row : this.getLength();\n            this.foldAll(row + 1, endRow, options.all ? 10000 : 0);\n        } else if (range) {\n            if (options.all) \n                range.collapseChildren = 10000;\n            this.addFold(\"...\", range);\n        }\n        \n        return range;\n    };\n    \n    \n    \n    this.toggleFoldWidget = function(toggleParent) {\n        var row = this.selection.getCursor().row;\n        row = this.getRowFoldStart(row);\n        var range = this.$toggleFoldWidget(row, {});\n        \n        if (range)\n            return;\n        var data = this.getParentFoldRangeData(row, true);\n        range = data.range || data.firstRange;\n        \n        if (range) {\n            row = range.start.row;\n            var fold = this.getFoldAt(row, this.getLine(row).length, 1);\n\n            if (fold) {\n                this.removeFold(fold);\n            } else {\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n\n    this.updateFoldWidgets = function(delta) {\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n\n        if (len === 0) {\n            this.foldWidgets[firstRow] = null;\n        } else if (delta.action == 'remove') {\n            this.foldWidgets.splice(firstRow, len + 1, null);\n        } else {\n            var args = Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.foldWidgets.splice.apply(this.foldWidgets, args);\n        }\n    };\n    this.tokenizerUpdateFoldWidgets = function(e) {\n        var rows = e.data;\n        if (rows.first != rows.last) {\n            if (this.foldWidgets.length > rows.first)\n                this.foldWidgets.splice(rows.first, this.foldWidgets.length);\n        }\n    };\n}\n\nexports.Folding = Folding;\n\n});\n\ndefine(\"ace/edit_session/bracket_match\",[\"require\",\"exports\",\"module\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\n\n\nfunction BracketMatch() {\n\n    this.findMatchingBracket = function(position, chr) {\n        if (position.column == 0) return null;\n\n        var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column-1);\n        if (charBeforeCursor == \"\") return null;\n\n        var match = charBeforeCursor.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match)\n            return null;\n\n        if (match[1])\n            return this.$findClosingBracket(match[1], position);\n        else\n            return this.$findOpeningBracket(match[2], position);\n    };\n    \n    this.getBracketRange = function(pos) {\n        var line = this.getLine(pos.row);\n        var before = true, range;\n\n        var chr = line.charAt(pos.column - 1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n            chr = line.charAt(pos.column);\n            pos = {row: pos.row, column: pos.column + 1};\n            match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n            before = false;\n        }\n        if (!match)\n            return null;\n\n        if (match[1]) {\n            var bracketPos = this.$findClosingBracket(match[1], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(pos, bracketPos);\n            if (!before) {\n                range.end.column++;\n                range.start.column--;\n            }\n            range.cursor = range.end;\n        } else {\n            var bracketPos = this.$findOpeningBracket(match[2], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(bracketPos, pos);\n            if (!before) {\n                range.start.column++;\n                range.end.column--;\n            }\n            range.cursor = range.start;\n        }\n        \n        return range;\n    };\n    this.getMatchingBracketRanges = function(pos) {\n        var line = this.getLine(pos.row);\n\n        var chr = line.charAt(pos.column - 1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n            chr = line.charAt(pos.column);\n            pos = {row: pos.row, column: pos.column + 1};\n            match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        }\n\n        if (!match)\n            return null;\n\n        var startRange = new Range(pos.row, pos.column - 1, pos.row, pos.column);\n        var bracketPos = match[1] ? this.$findClosingBracket(match[1], pos)\n            : this.$findOpeningBracket(match[2], pos);\n        if (!bracketPos)\n            return [startRange];\n        var endRange = new Range(bracketPos.row, bracketPos.column, bracketPos.row, bracketPos.column + 1);\n\n        return [startRange, endRange];\n    };\n\n    this.$brackets = {\n        \")\": \"(\",\n        \"(\": \")\",\n        \"]\": \"[\",\n        \"[\": \"]\",\n        \"{\": \"}\",\n        \"}\": \"{\",\n        \"<\": \">\",\n        \">\": \"<\"\n    };\n\n    this.$findOpeningBracket = function(bracket, position, typeRe) {\n        var openBracket = this.$brackets[bracket];\n        var depth = 1;\n\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n        \n         if (!typeRe){\n            typeRe = new RegExp(\n                \"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"rparen\", \".paren\")\n                    .replace(/\\b(?:end)\\b/, \"(?:start|begin|end)\")\n                + \")+\"\n            );\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;\n        var value = token.value;\n        \n        while (true) {\n        \n            while (valueIndex >= 0) {\n                var chr = value.charAt(valueIndex);\n                if (chr == openBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return {row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn()};\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex -= 1;\n            }\n            do {\n                token = iterator.stepBackward();\n            } while (token && !typeRe.test(token.type));\n\n            if (token == null)\n                break;\n                \n            value = token.value;\n            valueIndex = value.length - 1;\n        }\n        \n        return null;\n    };\n\n    this.$findClosingBracket = function(bracket, position, typeRe) {\n        var closingBracket = this.$brackets[bracket];\n        var depth = 1;\n\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n\n        if (!typeRe){\n            typeRe = new RegExp(\n                \"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"lparen\", \".paren\")\n                    .replace(/\\b(?:start|begin)\\b/, \"(?:start|begin|end)\")\n                + \")+\"\n            );\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn();\n\n        while (true) {\n\n            var value = token.value;\n            var valueLength = value.length;\n            while (valueIndex < valueLength) {\n                var chr = value.charAt(valueIndex);\n                if (chr == closingBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return {row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn()};\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex += 1;\n            }\n            do {\n                token = iterator.stepForward();\n            } while (token && !typeRe.test(token.type));\n\n            if (token == null)\n                break;\n\n            valueIndex = 0;\n        }\n        \n        return null;\n    };\n}\nexports.BracketMatch = BracketMatch;\n\n});\n\ndefine(\"ace/edit_session\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/bidihandler\",\"ace/config\",\"ace/lib/event_emitter\",\"ace/selection\",\"ace/mode/text\",\"ace/range\",\"ace/document\",\"ace/background_tokenizer\",\"ace/search_highlight\",\"ace/edit_session/folding\",\"ace/edit_session/bracket_match\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar BidiHandler = require(\"./bidihandler\").BidiHandler;\nvar config = require(\"./config\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Selection = require(\"./selection\").Selection;\nvar TextMode = require(\"./mode/text\").Mode;\nvar Range = require(\"./range\").Range;\nvar Document = require(\"./document\").Document;\nvar BackgroundTokenizer = require(\"./background_tokenizer\").BackgroundTokenizer;\nvar SearchHighlight = require(\"./search_highlight\").SearchHighlight;\n\nvar EditSession = function(text, mode) {\n    this.$breakpoints = [];\n    this.$decorations = [];\n    this.$frontMarkers = {};\n    this.$backMarkers = {};\n    this.$markerId = 1;\n    this.$undoSelect = true;\n\n    this.$foldData = [];\n    this.id = \"session\" + (++EditSession.$uid);\n    this.$foldData.toString = function() {\n        return this.join(\"\\n\");\n    };\n    this.on(\"changeFold\", this.onChangeFold.bind(this));\n    this.$onChange = this.onChange.bind(this);\n\n    if (typeof text != \"object\" || !text.getLine)\n        text = new Document(text);\n\n    this.setDocument(text);\n    this.selection = new Selection(this);\n    this.$bidiHandler = new BidiHandler(this);\n\n    config.resetOptions(this);\n    this.setMode(mode);\n    config._signal(\"session\", this);\n};\n\n\nEditSession.$uid = 0;\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setDocument = function(doc) {\n        if (this.doc)\n            this.doc.removeListener(\"change\", this.$onChange);\n\n        this.doc = doc;\n        doc.on(\"change\", this.$onChange);\n\n        if (this.bgTokenizer)\n            this.bgTokenizer.setDocument(this.getDocument());\n\n        this.resetCaches();\n    };\n    this.getDocument = function() {\n        return this.doc;\n    };\n    this.$resetRowCache = function(docRow) {\n        if (!docRow) {\n            this.$docRowCache = [];\n            this.$screenRowCache = [];\n            return;\n        }\n        var l = this.$docRowCache.length;\n        var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;\n        if (l > i) {\n            this.$docRowCache.splice(i, l);\n            this.$screenRowCache.splice(i, l);\n        }\n    };\n\n    this.$getRowCacheIndex = function(cacheArray, val) {\n        var low = 0;\n        var hi = cacheArray.length - 1;\n\n        while (low <= hi) {\n            var mid = (low + hi) >> 1;\n            var c = cacheArray[mid];\n\n            if (val > c)\n                low = mid + 1;\n            else if (val < c)\n                hi = mid - 1;\n            else\n                return mid;\n        }\n\n        return low -1;\n    };\n\n    this.resetCaches = function() {\n        this.$modified = true;\n        this.$wrapData = [];\n        this.$rowLengthCache = [];\n        this.$resetRowCache(0);\n        if (this.bgTokenizer)\n            this.bgTokenizer.start(0);\n    };\n\n    this.onChangeFold = function(e) {\n        var fold = e.data;\n        this.$resetRowCache(fold.start.row);\n    };\n\n    this.onChange = function(delta) {\n        this.$modified = true;\n        this.$bidiHandler.onChange(delta);\n        this.$resetRowCache(delta.start.row);\n\n        var removedFolds = this.$updateInternalDataOnChange(delta);\n        if (!this.$fromUndo && this.$undoManager) {\n            if (removedFolds && removedFolds.length) {\n                this.$undoManager.add({\n                    action: \"removeFolds\",\n                    folds:  removedFolds\n                }, this.mergeUndoDeltas);\n                this.mergeUndoDeltas = true;\n            }\n            this.$undoManager.add(delta, this.mergeUndoDeltas);\n            this.mergeUndoDeltas = true;\n            \n            this.$informUndoManager.schedule();\n        }\n\n        this.bgTokenizer && this.bgTokenizer.$updateOnChange(delta);\n        this._signal(\"change\", delta);\n    };\n    this.setValue = function(text) {\n        this.doc.setValue(text);\n        this.selection.moveTo(0, 0);\n\n        this.$resetRowCache(0);\n        this.setUndoManager(this.$undoManager);\n        this.getUndoManager().reset();\n    };\n    this.getValue =\n    this.toString = function() {\n        return this.doc.getValue();\n    };\n    this.getSelection = function() {\n        return this.selection;\n    };\n    this.getState = function(row) {\n        return this.bgTokenizer.getState(row);\n    };\n    this.getTokens = function(row) {\n        return this.bgTokenizer.getTokens(row);\n    };\n    this.getTokenAt = function(row, column) {\n        var tokens = this.bgTokenizer.getTokens(row);\n        var token, c = 0;\n        if (column == null) {\n            var i = tokens.length - 1;\n            c = this.getLine(row).length;\n        } else {\n            for (var i = 0; i < tokens.length; i++) {\n                c += tokens[i].value.length;\n                if (c >= column)\n                    break;\n            }\n        }\n        token = tokens[i];\n        if (!token)\n            return null;\n        token.index = i;\n        token.start = c - token.value.length;\n        return token;\n    };\n    this.setUndoManager = function(undoManager) {\n        this.$undoManager = undoManager;\n        \n        if (this.$informUndoManager)\n            this.$informUndoManager.cancel();\n        \n        if (undoManager) {\n            var self = this;\n            undoManager.addSession(this);\n            this.$syncInformUndoManager = function() {\n                self.$informUndoManager.cancel();\n                self.mergeUndoDeltas = false;\n            };\n            this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);\n        } else {\n            this.$syncInformUndoManager = function() {};\n        }\n    };\n    this.markUndoGroup = function() {\n        if (this.$syncInformUndoManager)\n            this.$syncInformUndoManager();\n    };\n    \n    this.$defaultUndoManager = {\n        undo: function() {},\n        redo: function() {},\n        hasUndo: function() {},\n        hasRedo: function() {},\n        reset: function() {},\n        add: function() {},\n        addSelection: function() {},\n        startNewGroup: function() {},\n        addSession: function() {}\n    };\n    this.getUndoManager = function() {\n        return this.$undoManager || this.$defaultUndoManager;\n    };\n    this.getTabString = function() {\n        if (this.getUseSoftTabs()) {\n            return lang.stringRepeat(\" \", this.getTabSize());\n        } else {\n            return \"\\t\";\n        }\n    };\n    this.setUseSoftTabs = function(val) {\n        this.setOption(\"useSoftTabs\", val);\n    };\n    this.getUseSoftTabs = function() {\n        return this.$useSoftTabs && !this.$mode.$indentWithTabs;\n    };\n    this.setTabSize = function(tabSize) {\n        this.setOption(\"tabSize\", tabSize);\n    };\n    this.getTabSize = function() {\n        return this.$tabSize;\n    };\n    this.isTabStop = function(position) {\n        return this.$useSoftTabs && (position.column % this.$tabSize === 0);\n    };\n    this.setNavigateWithinSoftTabs = function (navigateWithinSoftTabs) {\n        this.setOption(\"navigateWithinSoftTabs\", navigateWithinSoftTabs);\n    };\n    this.getNavigateWithinSoftTabs = function() {\n        return this.$navigateWithinSoftTabs;\n    };\n\n    this.$overwrite = false;\n    this.setOverwrite = function(overwrite) {\n        this.setOption(\"overwrite\", overwrite);\n    };\n    this.getOverwrite = function() {\n        return this.$overwrite;\n    };\n    this.toggleOverwrite = function() {\n        this.setOverwrite(!this.$overwrite);\n    };\n    this.addGutterDecoration = function(row, className) {\n        if (!this.$decorations[row])\n            this.$decorations[row] = \"\";\n        this.$decorations[row] += \" \" + className;\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.removeGutterDecoration = function(row, className) {\n        this.$decorations[row] = (this.$decorations[row] || \"\").replace(\" \" + className, \"\");\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.getBreakpoints = function() {\n        return this.$breakpoints;\n    };\n    this.setBreakpoints = function(rows) {\n        this.$breakpoints = [];\n        for (var i=0; i<rows.length; i++) {\n            this.$breakpoints[rows[i]] = \"ace_breakpoint\";\n        }\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoints = function() {\n        this.$breakpoints = [];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.setBreakpoint = function(row, className) {\n        if (className === undefined)\n            className = \"ace_breakpoint\";\n        if (className)\n            this.$breakpoints[row] = className;\n        else\n            delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoint = function(row) {\n        delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.addMarker = function(range, clazz, type, inFront) {\n        var id = this.$markerId++;\n\n        var marker = {\n            range : range,\n            type : type || \"line\",\n            renderer: typeof type == \"function\" ? type : null,\n            clazz : clazz,\n            inFront: !!inFront,\n            id: id\n        };\n\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        } else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n\n        return id;\n    };\n    this.addDynamicMarker = function(marker, inFront) {\n        if (!marker.update)\n            return;\n        var id = this.$markerId++;\n        marker.id = id;\n        marker.inFront = !!inFront;\n\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        } else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n\n        return marker;\n    };\n    this.removeMarker = function(markerId) {\n        var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];\n        if (!marker)\n            return;\n\n        var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;\n        delete (markers[markerId]);\n        this._signal(marker.inFront ? \"changeFrontMarker\" : \"changeBackMarker\");\n    };\n    this.getMarkers = function(inFront) {\n        return inFront ? this.$frontMarkers : this.$backMarkers;\n    };\n\n    this.highlight = function(re) {\n        if (!this.$searchHighlight) {\n            var highlight = new SearchHighlight(null, \"ace_selected-word\", \"text\");\n            this.$searchHighlight = this.addDynamicMarker(highlight);\n        }\n        this.$searchHighlight.setRegexp(re);\n    };\n    this.highlightLines = function(startRow, endRow, clazz, inFront) {\n        if (typeof endRow != \"number\") {\n            clazz = endRow;\n            endRow = startRow;\n        }\n        if (!clazz)\n            clazz = \"ace_step\";\n\n        var range = new Range(startRow, 0, endRow, Infinity);\n        range.id = this.addMarker(range, clazz, \"fullLine\", inFront);\n        return range;\n    };\n    this.setAnnotations = function(annotations) {\n        this.$annotations = annotations;\n        this._signal(\"changeAnnotation\", {});\n    };\n    this.getAnnotations = function() {\n        return this.$annotations || [];\n    };\n    this.clearAnnotations = function() {\n        this.setAnnotations([]);\n    };\n    this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r?\\n)/m);\n        if (match) {\n            this.$autoNewLine = match[1];\n        } else {\n            this.$autoNewLine = \"\\n\";\n        }\n    };\n    this.getWordRange = function(row, column) {\n        var line = this.getLine(row);\n\n        var inToken = false;\n        if (column > 0)\n            inToken = !!line.charAt(column - 1).match(this.tokenRe);\n\n        if (!inToken)\n            inToken = !!line.charAt(column).match(this.tokenRe);\n\n        if (inToken)\n            var re = this.tokenRe;\n        else if (/^\\s+$/.test(line.slice(column-1, column+1)))\n            var re = /\\s/;\n        else\n            var re = this.nonTokenRe;\n\n        var start = column;\n        if (start > 0) {\n            do {\n                start--;\n            }\n            while (start >= 0 && line.charAt(start).match(re));\n            start++;\n        }\n\n        var end = column;\n        while (end < line.length && line.charAt(end).match(re)) {\n            end++;\n        }\n\n        return new Range(row, start, row, end);\n    };\n    this.getAWordRange = function(row, column) {\n        var wordRange = this.getWordRange(row, column);\n        var line = this.getLine(wordRange.end.row);\n\n        while (line.charAt(wordRange.end.column).match(/[ \\t]/)) {\n            wordRange.end.column += 1;\n        }\n        return wordRange;\n    };\n    this.setNewLineMode = function(newLineMode) {\n        this.doc.setNewLineMode(newLineMode);\n    };\n    this.getNewLineMode = function() {\n        return this.doc.getNewLineMode();\n    };\n    this.setUseWorker = function(useWorker) { this.setOption(\"useWorker\", useWorker); };\n    this.getUseWorker = function() { return this.$useWorker; };\n    this.onReloadTokenizer = function(e) {\n        var rows = e.data;\n        this.bgTokenizer.start(rows.first);\n        this._signal(\"tokenizerUpdate\", e);\n    };\n\n    this.$modes = config.$modes;\n    this.$mode = null;\n    this.$modeId = null;\n    this.setMode = function(mode, cb) {\n        if (mode && typeof mode === \"object\") {\n            if (mode.getTokenizer)\n                return this.$onChangeMode(mode);\n            var options = mode;\n            var path = options.path;\n        } else {\n            path = mode || \"ace/mode/text\";\n        }\n        if (!this.$modes[\"ace/mode/text\"])\n            this.$modes[\"ace/mode/text\"] = new TextMode();\n\n        if (this.$modes[path] && !options) {\n            this.$onChangeMode(this.$modes[path]);\n            cb && cb();\n            return;\n        }\n        this.$modeId = path;\n        config.loadModule([\"mode\", path], function(m) {\n            if (this.$modeId !== path)\n                return cb && cb();\n            if (this.$modes[path] && !options) {\n                this.$onChangeMode(this.$modes[path]);\n            } else if (m && m.Mode) {\n                m = new m.Mode(options);\n                if (!options) {\n                    this.$modes[path] = m;\n                    m.$id = path;\n                }\n                this.$onChangeMode(m);\n            }\n            cb && cb();\n        }.bind(this));\n        if (!this.$mode)\n            this.$onChangeMode(this.$modes[\"ace/mode/text\"], true);\n    };\n\n    this.$onChangeMode = function(mode, $isPlaceholder) {\n        if (!$isPlaceholder)\n            this.$modeId = mode.$id;\n        if (this.$mode === mode) \n            return;\n\n        this.$mode = mode;\n\n        this.$stopWorker();\n\n        if (this.$useWorker)\n            this.$startWorker();\n\n        var tokenizer = mode.getTokenizer();\n\n        if(tokenizer.addEventListener !== undefined) {\n            var onReloadTokenizer = this.onReloadTokenizer.bind(this);\n            tokenizer.addEventListener(\"update\", onReloadTokenizer);\n        }\n\n        if (!this.bgTokenizer) {\n            this.bgTokenizer = new BackgroundTokenizer(tokenizer);\n            var _self = this;\n            this.bgTokenizer.addEventListener(\"update\", function(e) {\n                _self._signal(\"tokenizerUpdate\", e);\n            });\n        } else {\n            this.bgTokenizer.setTokenizer(tokenizer);\n        }\n\n        this.bgTokenizer.setDocument(this.getDocument());\n\n        this.tokenRe = mode.tokenRe;\n        this.nonTokenRe = mode.nonTokenRe;\n\n        \n        if (!$isPlaceholder) {\n            if (mode.attachToSession)\n                mode.attachToSession(this);\n            this.$options.wrapMethod.set.call(this, this.$wrapMethod);\n            this.$setFolding(mode.foldingRules);\n            this.bgTokenizer.start(0);\n            this._emit(\"changeMode\");\n        }\n    };\n\n    this.$stopWorker = function() {\n        if (this.$worker) {\n            this.$worker.terminate();\n            this.$worker = null;\n        }\n    };\n\n    this.$startWorker = function() {\n        try {\n            this.$worker = this.$mode.createWorker(this);\n        } catch (e) {\n            config.warn(\"Could not load worker\", e);\n            this.$worker = null;\n        }\n    };\n    this.getMode = function() {\n        return this.$mode;\n    };\n\n    this.$scrollTop = 0;\n    this.setScrollTop = function(scrollTop) {\n        if (this.$scrollTop === scrollTop || isNaN(scrollTop))\n            return;\n\n        this.$scrollTop = scrollTop;\n        this._signal(\"changeScrollTop\", scrollTop);\n    };\n    this.getScrollTop = function() {\n        return this.$scrollTop;\n    };\n\n    this.$scrollLeft = 0;\n    this.setScrollLeft = function(scrollLeft) {\n        if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft))\n            return;\n\n        this.$scrollLeft = scrollLeft;\n        this._signal(\"changeScrollLeft\", scrollLeft);\n    };\n    this.getScrollLeft = function() {\n        return this.$scrollLeft;\n    };\n    this.getScreenWidth = function() {\n        this.$computeWidth();\n        if (this.lineWidgets) \n            return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);\n        return this.screenWidth;\n    };\n    \n    this.getLineWidgetMaxWidth = function() {\n        if (this.lineWidgetsWidth != null) return this.lineWidgetsWidth;\n        var width = 0;\n        this.lineWidgets.forEach(function(w) {\n            if (w && w.screenWidth > width)\n                width = w.screenWidth;\n        });\n        return this.lineWidgetWidth = width;\n    };\n\n    this.$computeWidth = function(force) {\n        if (this.$modified || force) {\n            this.$modified = false;\n\n            if (this.$useWrapMode)\n                return this.screenWidth = this.$wrapLimit;\n\n            var lines = this.doc.getAllLines();\n            var cache = this.$rowLengthCache;\n            var longestScreenLine = 0;\n            var foldIndex = 0;\n            var foldLine = this.$foldData[foldIndex];\n            var foldStart = foldLine ? foldLine.start.row : Infinity;\n            var len = lines.length;\n\n            for (var i = 0; i < len; i++) {\n                if (i > foldStart) {\n                    i = foldLine.end.row + 1;\n                    if (i >= len)\n                        break;\n                    foldLine = this.$foldData[foldIndex++];\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n\n                if (cache[i] == null)\n                    cache[i] = this.$getStringScreenWidth(lines[i])[0];\n\n                if (cache[i] > longestScreenLine)\n                    longestScreenLine = cache[i];\n            }\n            this.screenWidth = longestScreenLine;\n        }\n    };\n    this.getLine = function(row) {\n        return this.doc.getLine(row);\n    };\n    this.getLines = function(firstRow, lastRow) {\n        return this.doc.getLines(firstRow, lastRow);\n    };\n    this.getLength = function() {\n        return this.doc.getLength();\n    };\n    this.getTextRange = function(range) {\n        return this.doc.getTextRange(range || this.selection.getRange());\n    };\n    this.insert = function(position, text) {\n        return this.doc.insert(position, text);\n    };\n    this.remove = function(range) {\n        return this.doc.remove(range);\n    };\n    this.removeFullLines = function(firstRow, lastRow){\n        return this.doc.removeFullLines(firstRow, lastRow);\n    };\n    this.undoChanges = function(deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n\n        this.$fromUndo = true;\n        for (var i = deltas.length - 1; i != -1; i--) {\n            var delta = deltas[i];\n            if (delta.action == \"insert\" || delta.action == \"remove\") {\n                this.doc.revertDelta(delta);\n            } else if (delta.folds) {\n                this.addFolds(delta.folds);\n            }\n        }\n        if (!dontSelect && this.$undoSelect) {\n            if (deltas.selectionBefore)\n                this.selection.fromJSON(deltas.selectionBefore);\n            else\n                this.selection.setRange(this.$getUndoSelection(deltas, true));\n        }\n        this.$fromUndo = false;\n    };\n    this.redoChanges = function(deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n\n        this.$fromUndo = true;\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (delta.action == \"insert\" || delta.action == \"remove\") {\n                this.doc.applyDelta(delta);\n            }\n        }\n\n        if (!dontSelect && this.$undoSelect) {\n            if (deltas.selectionAfter)\n                this.selection.fromJSON(deltas.selectionAfter);\n            else\n                this.selection.setRange(this.$getUndoSelection(deltas, false));\n        }\n        this.$fromUndo = false;\n    };\n    this.setUndoSelect = function(enable) {\n        this.$undoSelect = enable;\n    };\n\n    this.$getUndoSelection = function(deltas, isUndo) {\n        function isInsert(delta) {\n            return isUndo ? delta.action !== \"insert\" : delta.action === \"insert\";\n        }\n\n        var range, point;\n        var lastDeltaIsInsert;\n\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (!delta.start) continue; // skip folds\n            if (!range) {\n                if (isInsert(delta)) {\n                    range = Range.fromPoints(delta.start, delta.end);\n                    lastDeltaIsInsert = true;\n                } else {\n                    range = Range.fromPoints(delta.start, delta.start);\n                    lastDeltaIsInsert = false;\n                }\n                continue;\n            }\n            \n            if (isInsert(delta)) {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range.setStart(point);\n                }\n                point = delta.end;\n                if (range.compare(point.row, point.column) == 1) {\n                    range.setEnd(point);\n                }\n                lastDeltaIsInsert = true;\n            } else {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n                lastDeltaIsInsert = false;\n            }\n        }\n        return range;\n    };\n    this.replace = function(range, text) {\n        return this.doc.replace(range, text);\n    };\n    this.moveText = function(fromRange, toPosition, copy) {\n        var text = this.getTextRange(fromRange);\n        var folds = this.getFoldsInRange(fromRange);\n\n        var toRange = Range.fromPoints(toPosition, toPosition);\n        if (!copy) {\n            this.remove(fromRange);\n            var rowDiff = fromRange.start.row - fromRange.end.row;\n            var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;\n            if (collDiff) {\n                if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column)\n                    toRange.start.column += collDiff;\n                if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column)\n                    toRange.end.column += collDiff;\n            }\n            if (rowDiff && toRange.start.row >= fromRange.end.row) {\n                toRange.start.row += rowDiff;\n                toRange.end.row += rowDiff;\n            }\n        }\n\n        toRange.end = this.insert(toRange.start, text);\n        if (folds.length) {\n            var oldStart = fromRange.start;\n            var newStart = toRange.start;\n            var rowDiff = newStart.row - oldStart.row;\n            var collDiff = newStart.column - oldStart.column;\n            this.addFolds(folds.map(function(x) {\n                x = x.clone();\n                if (x.start.row == oldStart.row)\n                    x.start.column += collDiff;\n                if (x.end.row == oldStart.row)\n                    x.end.column += collDiff;\n                x.start.row += rowDiff;\n                x.end.row += rowDiff;\n                return x;\n            }));\n        }\n\n        return toRange;\n    };\n    this.indentRows = function(startRow, endRow, indentString) {\n        indentString = indentString.replace(/\\t/g, this.getTabString());\n        for (var row=startRow; row<=endRow; row++)\n            this.doc.insertInLine({row: row, column: 0}, indentString);\n    };\n    this.outdentRows = function (range) {\n        var rowRange = range.collapseRows();\n        var deleteRange = new Range(0, 0, 0, 0);\n        var size = this.getTabSize();\n\n        for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {\n            var line = this.getLine(i);\n\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            for (var j = 0; j < size; ++j)\n                if (line.charAt(j) != ' ')\n                    break;\n            if (j < size && line.charAt(j) == '\\t') {\n                deleteRange.start.column = j;\n                deleteRange.end.column = j + 1;\n            } else {\n                deleteRange.start.column = 0;\n                deleteRange.end.column = j;\n            }\n            this.remove(deleteRange);\n        }\n    };\n\n    this.$moveLines = function(firstRow, lastRow, dir) {\n        firstRow = this.getRowFoldStart(firstRow);\n        lastRow = this.getRowFoldEnd(lastRow);\n        if (dir < 0) {\n            var row = this.getRowFoldStart(firstRow + dir);\n            if (row < 0) return 0;\n            var diff = row-firstRow;\n        } else if (dir > 0) {\n            var row = this.getRowFoldEnd(lastRow + dir);\n            if (row > this.doc.getLength()-1) return 0;\n            var diff = row-lastRow;\n        } else {\n            firstRow = this.$clipRowToDocument(firstRow);\n            lastRow = this.$clipRowToDocument(lastRow);\n            var diff = lastRow - firstRow + 1;\n        }\n\n        var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);\n        var folds = this.getFoldsInRange(range).map(function(x){\n            x = x.clone();\n            x.start.row += diff;\n            x.end.row += diff;\n            return x;\n        });\n        \n        var lines = dir == 0\n            ? this.doc.getLines(firstRow, lastRow)\n            : this.doc.removeFullLines(firstRow, lastRow);\n        this.doc.insertFullLines(firstRow+diff, lines);\n        folds.length && this.addFolds(folds);\n        return diff;\n    };\n    this.moveLinesUp = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, -1);\n    };\n    this.moveLinesDown = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 1);\n    };\n    this.duplicateLines = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 0);\n    };\n\n\n    this.$clipRowToDocument = function(row) {\n        return Math.max(0, Math.min(row, this.doc.getLength()-1));\n    };\n\n    this.$clipColumnToRow = function(row, column) {\n        if (column < 0)\n            return 0;\n        return Math.min(this.doc.getLine(row).length, column);\n    };\n\n\n    this.$clipPositionToDocument = function(row, column) {\n        column = Math.max(0, column);\n\n        if (row < 0) {\n            row = 0;\n            column = 0;\n        } else {\n            var len = this.doc.getLength();\n            if (row >= len) {\n                row = len - 1;\n                column = this.doc.getLine(len-1).length;\n            } else {\n                column = Math.min(this.doc.getLine(row).length, column);\n            }\n        }\n\n        return {\n            row: row,\n            column: column\n        };\n    };\n\n    this.$clipRangeToDocument = function(range) {\n        if (range.start.row < 0) {\n            range.start.row = 0;\n            range.start.column = 0;\n        } else {\n            range.start.column = this.$clipColumnToRow(\n                range.start.row,\n                range.start.column\n            );\n        }\n\n        var len = this.doc.getLength() - 1;\n        if (range.end.row > len) {\n            range.end.row = len;\n            range.end.column = this.doc.getLine(len).length;\n        } else {\n            range.end.column = this.$clipColumnToRow(\n                range.end.row,\n                range.end.column\n            );\n        }\n        return range;\n    };\n    this.$wrapLimit = 80;\n    this.$useWrapMode = false;\n    this.$wrapLimitRange = {\n        min : null,\n        max : null\n    };\n    this.setUseWrapMode = function(useWrapMode) {\n        if (useWrapMode != this.$useWrapMode) {\n            this.$useWrapMode = useWrapMode;\n            this.$modified = true;\n            this.$resetRowCache(0);\n            if (useWrapMode) {\n                var len = this.getLength();\n                this.$wrapData = Array(len);\n                this.$updateWrapData(0, len - 1);\n            }\n\n            this._signal(\"changeWrapMode\");\n        }\n    };\n    this.getUseWrapMode = function() {\n        return this.$useWrapMode;\n    };\n    this.setWrapLimitRange = function(min, max) {\n        if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {\n            this.$wrapLimitRange = { min: min, max: max };\n            this.$modified = true;\n            this.$bidiHandler.markAsDirty();\n            if (this.$useWrapMode)\n                this._signal(\"changeWrapMode\");\n        }\n    };\n    this.adjustWrapLimit = function(desiredLimit, $printMargin) {\n        var limits = this.$wrapLimitRange;\n        if (limits.max < 0)\n            limits = {min: $printMargin, max: $printMargin};\n        var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);\n        if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {\n            this.$wrapLimit = wrapLimit;\n            this.$modified = true;\n            if (this.$useWrapMode) {\n                this.$updateWrapData(0, this.getLength() - 1);\n                this.$resetRowCache(0);\n                this._signal(\"changeWrapLimit\");\n            }\n            return true;\n        }\n        return false;\n    };\n\n    this.$constrainWrapLimit = function(wrapLimit, min, max) {\n        if (min)\n            wrapLimit = Math.max(min, wrapLimit);\n\n        if (max)\n            wrapLimit = Math.min(max, wrapLimit);\n\n        return wrapLimit;\n    };\n    this.getWrapLimit = function() {\n        return this.$wrapLimit;\n    };\n    this.setWrapLimit = function (limit) {\n        this.setWrapLimitRange(limit, limit);\n    };\n    this.getWrapLimitRange = function() {\n        return {\n            min : this.$wrapLimitRange.min,\n            max : this.$wrapLimitRange.max\n        };\n    };\n\n    this.$updateInternalDataOnChange = function(delta) {\n        var useWrapMode = this.$useWrapMode;\n        var action = delta.action;\n        var start = delta.start;\n        var end = delta.end;\n        var firstRow = start.row;\n        var lastRow = end.row;\n        var len = lastRow - firstRow;\n        var removedFolds = null;\n        \n        this.$updating = true;\n        if (len != 0) {\n            if (action === \"remove\") {\n                this[useWrapMode ? \"$wrapData\" : \"$rowLengthCache\"].splice(firstRow, len);\n\n                var foldLines = this.$foldData;\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n\n                var foldLine = this.getFoldLine(end.row);\n                var idx = 0;\n                if (foldLine) {\n                    foldLine.addRemoveChars(end.row, end.column, start.column - end.column);\n                    foldLine.shiftRow(-len);\n\n                    var foldLineBefore = this.getFoldLine(firstRow);\n                    if (foldLineBefore && foldLineBefore !== foldLine) {\n                        foldLineBefore.merge(foldLine);\n                        foldLine = foldLineBefore;\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= end.row) {\n                        foldLine.shiftRow(-len);\n                    }\n                }\n\n                lastRow = firstRow;\n            } else {\n                var args = Array(len);\n                args.unshift(firstRow, 0);\n                var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache;\n                arr.splice.apply(arr, args);\n                var foldLines = this.$foldData;\n                var foldLine = this.getFoldLine(firstRow);\n                var idx = 0;\n                if (foldLine) {\n                    var cmp = foldLine.range.compareInside(start.row, start.column);\n                    if (cmp == 0) {\n                        foldLine = foldLine.split(start.row, start.column);\n                        if (foldLine) {\n                            foldLine.shiftRow(len);\n                            foldLine.addRemoveChars(lastRow, 0, end.column - start.column);\n                        }\n                    } else\n                    if (cmp == -1) {\n                        foldLine.addRemoveChars(firstRow, 0, end.column - start.column);\n                        foldLine.shiftRow(len);\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= firstRow) {\n                        foldLine.shiftRow(len);\n                    }\n                }\n            }\n        } else {\n            len = Math.abs(delta.start.column - delta.end.column);\n            if (action === \"remove\") {\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n\n                len = -len;\n            }\n            var foldLine = this.getFoldLine(firstRow);\n            if (foldLine) {\n                foldLine.addRemoveChars(firstRow, start.column, len);\n            }\n        }\n\n        if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {\n            console.error(\"doc.getLength() and $wrapData.length have to be the same!\");\n        }\n        this.$updating = false;\n\n        if (useWrapMode)\n            this.$updateWrapData(firstRow, lastRow);\n        else\n            this.$updateRowLengthCache(firstRow, lastRow);\n\n        return removedFolds;\n    };\n\n    this.$updateRowLengthCache = function(firstRow, lastRow, b) {\n        this.$rowLengthCache[firstRow] = null;\n        this.$rowLengthCache[lastRow] = null;\n    };\n\n    this.$updateWrapData = function(firstRow, lastRow) {\n        var lines = this.doc.getAllLines();\n        var tabSize = this.getTabSize();\n        var wrapData = this.$wrapData;\n        var wrapLimit = this.$wrapLimit;\n        var tokens;\n        var foldLine;\n\n        var row = firstRow;\n        lastRow = Math.min(lastRow, lines.length - 1);\n        while (row <= lastRow) {\n            foldLine = this.getFoldLine(row, foldLine);\n            if (!foldLine) {\n                tokens = this.$getDisplayTokens(lines[row]);\n                wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row ++;\n            } else {\n                tokens = [];\n                foldLine.walk(function(placeholder, row, column, lastColumn) {\n                        var walkTokens;\n                        if (placeholder != null) {\n                            walkTokens = this.$getDisplayTokens(\n                                            placeholder, tokens.length);\n                            walkTokens[0] = PLACEHOLDER_START;\n                            for (var i = 1; i < walkTokens.length; i++) {\n                                walkTokens[i] = PLACEHOLDER_BODY;\n                            }\n                        } else {\n                            walkTokens = this.$getDisplayTokens(\n                                lines[row].substring(lastColumn, column),\n                                tokens.length);\n                        }\n                        tokens = tokens.concat(walkTokens);\n                    }.bind(this),\n                    foldLine.end.row,\n                    lines[foldLine.end.row].length + 1\n                );\n\n                wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row = foldLine.end.row + 1;\n            }\n        }\n    };\n    var CHAR = 1,\n        CHAR_EXT = 2,\n        PLACEHOLDER_START = 3,\n        PLACEHOLDER_BODY =  4,\n        PUNCTUATION = 9,\n        SPACE = 10,\n        TAB = 11,\n        TAB_SPACE = 12;\n\n\n    this.$computeWrapSplits = function(tokens, wrapLimit, tabSize) {\n        if (tokens.length == 0) {\n            return [];\n        }\n\n        var splits = [];\n        var displayLength = tokens.length;\n        var lastSplit = 0, lastDocSplit = 0;\n\n        var isCode = this.$wrapAsCode;\n\n        var indentedSoftWrap = this.$indentedSoftWrap;\n        var maxIndent = wrapLimit <= Math.max(2 * tabSize, 8)\n            || indentedSoftWrap === false ? 0 : Math.floor(wrapLimit / 2);\n\n        function getWrapIndent() {\n            var indentation = 0;\n            if (maxIndent === 0)\n                return indentation;\n            if (indentedSoftWrap) {\n                for (var i = 0; i < tokens.length; i++) {\n                    var token = tokens[i];\n                    if (token == SPACE)\n                        indentation += 1;\n                    else if (token == TAB)\n                        indentation += tabSize;\n                    else if (token == TAB_SPACE)\n                        continue;\n                    else\n                        break;\n                }\n            }\n            if (isCode && indentedSoftWrap !== false)\n                indentation += tabSize;\n            return Math.min(indentation, maxIndent);\n        }\n        function addSplit(screenPos) {\n            var len = screenPos - lastSplit;\n            for (var i = lastSplit; i < screenPos; i++) {\n                var ch = tokens[i];\n                if (ch === 12 || ch === 2) len -= 1;\n            }\n\n            if (!splits.length) {\n                indent = getWrapIndent();\n                splits.indent = indent;\n            }\n            lastDocSplit += len;\n            splits.push(lastDocSplit);\n            lastSplit = screenPos;\n        }\n        var indent = 0;\n        while (displayLength - lastSplit > wrapLimit - indent) {\n            var split = lastSplit + wrapLimit - indent;\n            if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {\n                addSplit(split);\n                continue;\n            }\n            if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {\n                for (split; split != lastSplit - 1; split--) {\n                    if (tokens[split] == PLACEHOLDER_START) {\n                        break;\n                    }\n                }\n                if (split > lastSplit) {\n                    addSplit(split);\n                    continue;\n                }\n                split = lastSplit + wrapLimit;\n                for (split; split < tokens.length; split++) {\n                    if (tokens[split] != PLACEHOLDER_BODY) {\n                        break;\n                    }\n                }\n                if (split == tokens.length) {\n                    break;  // Breaks the while-loop.\n                }\n                addSplit(split);\n                continue;\n            }\n            var minSplit = Math.max(split - (wrapLimit -(wrapLimit>>2)), lastSplit - 1);\n            while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                split --;\n            }\n            if (isCode) {\n                while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                    split --;\n                }\n                while (split > minSplit && tokens[split] == PUNCTUATION) {\n                    split --;\n                }\n            } else {\n                while (split > minSplit && tokens[split] < SPACE) {\n                    split --;\n                }\n            }\n            if (split > minSplit) {\n                addSplit(++split);\n                continue;\n            }\n            split = lastSplit + wrapLimit;\n            if (tokens[split] == CHAR_EXT)\n                split--;\n            addSplit(split - indent);\n        }\n        return splits;\n    };\n    this.$getDisplayTokens = function(str, offset) {\n        var arr = [];\n        var tabSize;\n        offset = offset || 0;\n\n        for (var i = 0; i < str.length; i++) {\n            var c = str.charCodeAt(i);\n            if (c == 9) {\n                tabSize = this.getScreenTabSize(arr.length + offset);\n                arr.push(TAB);\n                for (var n = 1; n < tabSize; n++) {\n                    arr.push(TAB_SPACE);\n                }\n            }\n            else if (c == 32) {\n                arr.push(SPACE);\n            } else if((c > 39 && c < 48) || (c > 57 && c < 64)) {\n                arr.push(PUNCTUATION);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                arr.push(CHAR, CHAR_EXT);\n            } else {\n                arr.push(CHAR);\n            }\n        }\n        return arr;\n    };\n    this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {\n        if (maxScreenColumn == 0)\n            return [0, 0];\n        if (maxScreenColumn == null)\n            maxScreenColumn = Infinity;\n        screenColumn = screenColumn || 0;\n\n        var c, column;\n        for (column = 0; column < str.length; column++) {\n            c = str.charCodeAt(column);\n            if (c == 9) {\n                screenColumn += this.getScreenTabSize(screenColumn);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                screenColumn += 2;\n            } else {\n                screenColumn += 1;\n            }\n            if (screenColumn > maxScreenColumn) {\n                break;\n            }\n        }\n\n        return [screenColumn, column];\n    };\n\n    this.lineWidgets = null;\n    this.getRowLength = function(row) {\n        var h = 1;\n        if (this.lineWidgets)\n            h += this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        \n        if (!this.$useWrapMode || !this.$wrapData[row])\n            return h;\n        else\n            return this.$wrapData[row].length + h;\n    };\n    this.getRowLineCount = function(row) {\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1;\n        } else {\n            return this.$wrapData[row].length + 1;\n        }\n    };\n\n    this.getRowWrapIndent = function(screenRow) {\n        if (this.$useWrapMode) {\n            var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n            var splits = this.$wrapData[pos.row];\n            return splits.length && splits[0] < pos.column ? splits.indent : 0;\n        } else {\n            return 0;\n        }\n    };\n    this.getScreenLastRowColumn = function(screenRow) {\n        var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n        return this.documentToScreenColumn(pos.row, pos.column);\n    };\n    this.getDocumentLastRowColumn = function(docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.getScreenLastRowColumn(screenRow);\n    };\n    this.getDocumentLastRowColumnPosition = function(docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);\n    };\n    this.getRowSplitData = function(row) {\n        if (!this.$useWrapMode) {\n            return undefined;\n        } else {\n            return this.$wrapData[row];\n        }\n    };\n    this.getScreenTabSize = function(screenColumn) {\n        return this.$tabSize - (screenColumn % this.$tabSize | 0);\n    };\n\n\n    this.screenToDocumentRow = function(screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).row;\n    };\n\n\n    this.screenToDocumentColumn = function(screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).column;\n    };\n    this.screenToDocumentPosition = function(screenRow, screenColumn, offsetX) {\n        if (screenRow < 0)\n            return {row: 0, column: 0};\n\n        var line;\n        var docRow = 0;\n        var docColumn = 0;\n        var column;\n        var row = 0;\n        var rowLength = 0;\n\n        var rowCache = this.$screenRowCache;\n        var i = this.$getRowCacheIndex(rowCache, screenRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var docRow = this.$docRowCache[i];\n            var doCache = screenRow > rowCache[l - 1];\n        } else {\n            var doCache = !l;\n        }\n\n        var maxRow = this.getLength() - 1;\n        var foldLine = this.getNextFoldLine(docRow);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (row <= screenRow) {\n            rowLength = this.getRowLength(docRow);\n            if (row + rowLength > screenRow || docRow >= maxRow) {\n                break;\n            } else {\n                row += rowLength;\n                docRow++;\n                if (docRow > foldStart) {\n                    docRow = foldLine.end.row+1;\n                    foldLine = this.getNextFoldLine(docRow, foldLine);\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n            }\n\n            if (doCache) {\n                this.$docRowCache.push(docRow);\n                this.$screenRowCache.push(row);\n            }\n        }\n\n        if (foldLine && foldLine.start.row <= docRow) {\n            line = this.getFoldDisplayLine(foldLine);\n            docRow = foldLine.start.row;\n        } else if (row + rowLength <= screenRow || docRow > maxRow) {\n            return {\n                row: maxRow,\n                column: this.getLine(maxRow).length\n            };\n        } else {\n            line = this.getLine(docRow);\n            foldLine = null;\n        }\n        var wrapIndent = 0, splitIndex = Math.floor(screenRow - row);\n        if (this.$useWrapMode) {\n            var splits = this.$wrapData[docRow];\n            if (splits) {\n                column = splits[splitIndex];\n                if(splitIndex > 0 && splits.length) {\n                    wrapIndent = splits.indent;\n                    docColumn = splits[splitIndex - 1] || splits[splits.length - 1];\n                    line = line.substring(docColumn);\n                }\n            }\n        }\n\n        if (offsetX !== undefined && this.$bidiHandler.isBidiRow(row + splitIndex, docRow, splitIndex))\n            screenColumn = this.$bidiHandler.offsetToCol(offsetX);\n\n        docColumn += this.$getStringScreenWidth(line, screenColumn - wrapIndent)[1];\n        if (this.$useWrapMode && docColumn >= column)\n            docColumn = column - 1;\n\n        if (foldLine)\n            return foldLine.idxToPosition(docColumn);\n\n        return {row: docRow, column: docColumn};\n    };\n    this.documentToScreenPosition = function(docRow, docColumn) {\n        if (typeof docColumn === \"undefined\")\n            var pos = this.$clipPositionToDocument(docRow.row, docRow.column);\n        else\n            pos = this.$clipPositionToDocument(docRow, docColumn);\n\n        docRow = pos.row;\n        docColumn = pos.column;\n\n        var screenRow = 0;\n        var foldStartRow = null;\n        var fold = null;\n        fold = this.getFoldAt(docRow, docColumn, 1);\n        if (fold) {\n            docRow = fold.start.row;\n            docColumn = fold.start.column;\n        }\n\n        var rowEnd, row = 0;\n\n\n        var rowCache = this.$docRowCache;\n        var i = this.$getRowCacheIndex(rowCache, docRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var screenRow = this.$screenRowCache[i];\n            var doCache = docRow > rowCache[l - 1];\n        } else {\n            var doCache = !l;\n        }\n\n        var foldLine = this.getNextFoldLine(row);\n        var foldStart = foldLine ?foldLine.start.row :Infinity;\n\n        while (row < docRow) {\n            if (row >= foldStart) {\n                rowEnd = foldLine.end.row + 1;\n                if (rowEnd > docRow)\n                    break;\n                foldLine = this.getNextFoldLine(rowEnd, foldLine);\n                foldStart = foldLine ?foldLine.start.row :Infinity;\n            }\n            else {\n                rowEnd = row + 1;\n            }\n\n            screenRow += this.getRowLength(row);\n            row = rowEnd;\n\n            if (doCache) {\n                this.$docRowCache.push(row);\n                this.$screenRowCache.push(screenRow);\n            }\n        }\n        var textLine = \"\";\n        if (foldLine && row >= foldStart) {\n            textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);\n            foldStartRow = foldLine.start.row;\n        } else {\n            textLine = this.getLine(docRow).substring(0, docColumn);\n            foldStartRow = docRow;\n        }\n        var wrapIndent = 0;\n        if (this.$useWrapMode) {\n            var wrapRow = this.$wrapData[foldStartRow];\n            if (wrapRow) {\n                var screenRowOffset = 0;\n                while (textLine.length >= wrapRow[screenRowOffset]) {\n                    screenRow ++;\n                    screenRowOffset++;\n                }\n                textLine = textLine.substring(\n                    wrapRow[screenRowOffset - 1] || 0, textLine.length\n                );\n                wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;\n            }\n        }\n        \n        if (this.lineWidgets && this.lineWidgets[row] && this.lineWidgets[row].rowsAbove)\n            screenRow += this.lineWidgets[row].rowsAbove;\n\n        return {\n            row: screenRow,\n            column: wrapIndent + this.$getStringScreenWidth(textLine)[0]\n        };\n    };\n    this.documentToScreenColumn = function(row, docColumn) {\n        return this.documentToScreenPosition(row, docColumn).column;\n    };\n    this.documentToScreenRow = function(docRow, docColumn) {\n        return this.documentToScreenPosition(docRow, docColumn).row;\n    };\n    this.getScreenLength = function() {\n        var screenRows = 0;\n        var fold = null;\n        if (!this.$useWrapMode) {\n            screenRows = this.getLength();\n            var foldData = this.$foldData;\n            for (var i = 0; i < foldData.length; i++) {\n                fold = foldData[i];\n                screenRows -= fold.end.row - fold.start.row;\n            }\n        } else {\n            var lastRow = this.$wrapData.length;\n            var row = 0, i = 0;\n            var fold = this.$foldData[i++];\n            var foldStart = fold ? fold.start.row :Infinity;\n\n            while (row < lastRow) {\n                var splits = this.$wrapData[row];\n                screenRows += splits ? splits.length + 1 : 1;\n                row ++;\n                if (row > foldStart) {\n                    row = fold.end.row+1;\n                    fold = this.$foldData[i++];\n                    foldStart = fold ?fold.start.row :Infinity;\n                }\n            }\n        }\n        if (this.lineWidgets)\n            screenRows += this.$getWidgetScreenLength();\n\n        return screenRows;\n    };\n    this.$setFontMetrics = function(fm) {\n        if (!this.$enableVarChar) return;\n        this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {\n            if (maxScreenColumn === 0)\n                return [0, 0];\n            if (!maxScreenColumn)\n                maxScreenColumn = Infinity;\n            screenColumn = screenColumn || 0;\n            \n            var c, column;\n            for (column = 0; column < str.length; column++) {\n                c = str.charAt(column);\n                if (c === \"\\t\") {\n                    screenColumn += this.getScreenTabSize(screenColumn);\n                } else {\n                    screenColumn += fm.getCharacterWidth(c);\n                }\n                if (screenColumn > maxScreenColumn) {\n                    break;\n                }\n            }\n            \n            return [screenColumn, column];\n        };\n    };\n    \n    this.destroy = function() {\n        if (this.bgTokenizer) {\n            this.bgTokenizer.setDocument(null);\n            this.bgTokenizer = null;\n        }\n        this.$stopWorker();\n    };\n\n    this.isFullWidth = isFullWidth;\n    function isFullWidth(c) {\n        if (c < 0x1100)\n            return false;\n        return c >= 0x1100 && c <= 0x115F ||\n               c >= 0x11A3 && c <= 0x11A7 ||\n               c >= 0x11FA && c <= 0x11FF ||\n               c >= 0x2329 && c <= 0x232A ||\n               c >= 0x2E80 && c <= 0x2E99 ||\n               c >= 0x2E9B && c <= 0x2EF3 ||\n               c >= 0x2F00 && c <= 0x2FD5 ||\n               c >= 0x2FF0 && c <= 0x2FFB ||\n               c >= 0x3000 && c <= 0x303E ||\n               c >= 0x3041 && c <= 0x3096 ||\n               c >= 0x3099 && c <= 0x30FF ||\n               c >= 0x3105 && c <= 0x312D ||\n               c >= 0x3131 && c <= 0x318E ||\n               c >= 0x3190 && c <= 0x31BA ||\n               c >= 0x31C0 && c <= 0x31E3 ||\n               c >= 0x31F0 && c <= 0x321E ||\n               c >= 0x3220 && c <= 0x3247 ||\n               c >= 0x3250 && c <= 0x32FE ||\n               c >= 0x3300 && c <= 0x4DBF ||\n               c >= 0x4E00 && c <= 0xA48C ||\n               c >= 0xA490 && c <= 0xA4C6 ||\n               c >= 0xA960 && c <= 0xA97C ||\n               c >= 0xAC00 && c <= 0xD7A3 ||\n               c >= 0xD7B0 && c <= 0xD7C6 ||\n               c >= 0xD7CB && c <= 0xD7FB ||\n               c >= 0xF900 && c <= 0xFAFF ||\n               c >= 0xFE10 && c <= 0xFE19 ||\n               c >= 0xFE30 && c <= 0xFE52 ||\n               c >= 0xFE54 && c <= 0xFE66 ||\n               c >= 0xFE68 && c <= 0xFE6B ||\n               c >= 0xFF01 && c <= 0xFF60 ||\n               c >= 0xFFE0 && c <= 0xFFE6;\n    }\n\n}).call(EditSession.prototype);\n\nrequire(\"./edit_session/folding\").Folding.call(EditSession.prototype);\nrequire(\"./edit_session/bracket_match\").BracketMatch.call(EditSession.prototype);\n\n\nconfig.defineOptions(EditSession.prototype, \"session\", {\n    wrap: {\n        set: function(value) {\n            if (!value || value == \"off\")\n                value = false;\n            else if (value == \"free\")\n                value = true;\n            else if (value == \"printMargin\")\n                value = -1;\n            else if (typeof value == \"string\")\n                value = parseInt(value, 10) || false;\n\n            if (this.$wrap == value)\n                return;\n            this.$wrap = value;\n            if (!value) {\n                this.setUseWrapMode(false);\n            } else {\n                var col = typeof value == \"number\" ? value : null;\n                this.setWrapLimitRange(col, col);\n                this.setUseWrapMode(true);\n            }\n        },\n        get: function() {\n            if (this.getUseWrapMode()) {\n                if (this.$wrap == -1)\n                    return \"printMargin\";\n                if (!this.getWrapLimitRange().min)\n                    return \"free\";\n                return this.$wrap;\n            }\n            return \"off\";\n        },\n        handlesSet: true\n    },    \n    wrapMethod: {\n        set: function(val) {\n            val = val == \"auto\"\n                ? this.$mode.type != \"text\"\n                : val != \"text\";\n            if (val != this.$wrapAsCode) {\n                this.$wrapAsCode = val;\n                if (this.$useWrapMode) {\n                    this.$useWrapMode = false;\n                    this.setUseWrapMode(true);\n                }\n            }\n        },\n        initialValue: \"auto\"\n    },\n    indentedSoftWrap: {\n        set: function() {\n            if (this.$useWrapMode) {\n                this.$useWrapMode = false;\n                this.setUseWrapMode(true);\n            }\n        },\n        initialValue: true \n    },\n    firstLineNumber: {\n        set: function() {this._signal(\"changeBreakpoint\");},\n        initialValue: 1\n    },\n    useWorker: {\n        set: function(useWorker) {\n            this.$useWorker = useWorker;\n\n            this.$stopWorker();\n            if (useWorker)\n                this.$startWorker();\n        },\n        initialValue: true\n    },\n    useSoftTabs: {initialValue: true},\n    tabSize: {\n        set: function(tabSize) {\n            tabSize = parseInt(tabSize);\n            if (tabSize > 0 && this.$tabSize !== tabSize) {\n                this.$modified = true;\n                this.$rowLengthCache = [];\n                this.$tabSize = tabSize;\n                this._signal(\"changeTabSize\");\n            }\n        },\n        initialValue: 4,\n        handlesSet: true\n    },\n    navigateWithinSoftTabs: {initialValue: false},\n    foldStyle: {\n        set: function(val) {this.setFoldStyle(val);},\n        handlesSet: true\n    },\n    overwrite: {\n        set: function(val) {this._signal(\"changeOverwrite\");},\n        initialValue: false\n    },\n    newLineMode: {\n        set: function(val) {this.doc.setNewLineMode(val);},\n        get: function() {return this.doc.getNewLineMode();},\n        handlesSet: true\n    },\n    mode: {\n        set: function(val) { this.setMode(val); },\n        get: function() { return this.$modeId; },\n        handlesSet: true\n    }\n});\n\nexports.EditSession = EditSession;\n});\n\ndefine(\"ace/search\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\n\nvar Search = function() {\n    this.$options = {};\n};\n\n(function() {\n    this.set = function(options) {\n        oop.mixin(this.$options, options);\n        return this;\n    };\n    this.getOptions = function() {\n        return lang.copyObject(this.$options);\n    };\n    this.setOptions = function(options) {\n        this.$options = options;\n    };\n    this.find = function(session) {\n        var options = this.$options;\n        var iterator = this.$matchIterator(session, options);\n        if (!iterator)\n            return false;\n\n        var firstRange = null;\n        iterator.forEach(function(sr, sc, er, ec) {\n            firstRange = new Range(sr, sc, er, ec);\n            if (sc == ec && options.start && options.start.start\n                && options.skipCurrent != false && firstRange.isEqual(options.start)\n            ) {\n                firstRange = null;\n                return false;\n            }\n            \n            return true;\n        });\n\n        return firstRange;\n    };\n    this.findAll = function(session) {\n        var options = this.$options;\n        if (!options.needle)\n            return [];\n        this.$assembleRegExp(options);\n\n        var range = options.range;\n        var lines = range\n            ? session.getLines(range.start.row, range.end.row)\n            : session.doc.getAllLines();\n\n        var ranges = [];\n        var re = options.re;\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var maxRow = lines.length - len;\n            var prevRange;\n            outer: for (var row = re.offset || 0; row <= maxRow; row++) {\n                for (var j = 0; j < len; j++)\n                    if (lines[row + j].search(re[j]) == -1)\n                        continue outer;\n                \n                var startLine = lines[row];\n                var line = lines[row + len - 1];\n                var startIndex = startLine.length - startLine.match(re[0])[0].length;\n                var endIndex = line.match(re[len - 1])[0].length;\n                \n                if (prevRange && prevRange.end.row === row &&\n                    prevRange.end.column > startIndex\n                ) {\n                    continue;\n                }\n                ranges.push(prevRange = new Range(\n                    row, startIndex, row + len - 1, endIndex\n                ));\n                if (len > 2)\n                    row = row + len - 2;\n            }\n        } else {\n            for (var i = 0; i < lines.length; i++) {\n                var matches = lang.getMatchOffsets(lines[i], re);\n                for (var j = 0; j < matches.length; j++) {\n                    var match = matches[j];\n                    ranges.push(new Range(i, match.offset, i, match.offset + match.length));\n                }\n            }\n        }\n\n        if (range) {\n            var startColumn = range.start.column;\n            var endColumn = range.start.column;\n            var i = 0, j = ranges.length - 1;\n            while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == range.start.row)\n                i++;\n\n            while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == range.end.row)\n                j--;\n            \n            ranges = ranges.slice(i, j + 1);\n            for (i = 0, j = ranges.length; i < j; i++) {\n                ranges[i].start.row += range.start.row;\n                ranges[i].end.row += range.start.row;\n            }\n        }\n\n        return ranges;\n    };\n    this.replace = function(input, replacement) {\n        var options = this.$options;\n\n        var re = this.$assembleRegExp(options);\n        if (options.$isMultiLine)\n            return replacement;\n\n        if (!re)\n            return;\n\n        var match = re.exec(input);\n        if (!match || match[0].length != input.length)\n            return null;\n        \n        replacement = input.replace(re, replacement);\n        if (options.preserveCase) {\n            replacement = replacement.split(\"\");\n            for (var i = Math.min(input.length, input.length); i--; ) {\n                var ch = input[i];\n                if (ch && ch.toLowerCase() != ch)\n                    replacement[i] = replacement[i].toUpperCase();\n                else\n                    replacement[i] = replacement[i].toLowerCase();\n            }\n            replacement = replacement.join(\"\");\n        }\n        \n        return replacement;\n    };\n\n    this.$assembleRegExp = function(options, $disableFakeMultiline) {\n        if (options.needle instanceof RegExp)\n            return options.re = options.needle;\n\n        var needle = options.needle;\n\n        if (!options.needle)\n            return options.re = false;\n\n        if (!options.regExp)\n            needle = lang.escapeRegExp(needle);\n\n        if (options.wholeWord)\n            needle = addWordBoundary(needle, options);\n\n        var modifier = options.caseSensitive ? \"gm\" : \"gmi\";\n\n        options.$isMultiLine = !$disableFakeMultiline && /[\\n\\r]/.test(needle);\n        if (options.$isMultiLine)\n            return options.re = this.$assembleMultilineRegExp(needle, modifier);\n\n        try {\n            var re = new RegExp(needle, modifier);\n        } catch(e) {\n            re = false;\n        }\n        return options.re = re;\n    };\n\n    this.$assembleMultilineRegExp = function(needle, modifier) {\n        var parts = needle.replace(/\\r\\n|\\r|\\n/g, \"$\\n^\").split(\"\\n\");\n        var re = [];\n        for (var i = 0; i < parts.length; i++) try {\n            re.push(new RegExp(parts[i], modifier));\n        } catch(e) {\n            return false;\n        }\n        return re;\n    };\n\n    this.$matchIterator = function(session, options) {\n        var re = this.$assembleRegExp(options);\n        if (!re)\n            return false;\n        var backwards = options.backwards == true;\n        var skipCurrent = options.skipCurrent != false;\n\n        var range = options.range;\n        var start = options.start;\n        if (!start)\n            start = range ? range[backwards ? \"end\" : \"start\"] : session.selection.getRange();\n         \n        if (start.start)\n            start = start[skipCurrent != backwards ? \"end\" : \"start\"];\n\n        var firstRow = range ? range.start.row : 0;\n        var lastRow = range ? range.end.row : session.getLength() - 1;\n        \n        if (backwards) {\n            var forEach = function(callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row--; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = lastRow, firstRow = start.row; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n            };\n        }\n        else {\n            var forEach = function(callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row = row + 1; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = firstRow, lastRow = start.row; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n            };\n        }\n        \n        if (options.$isMultiLine) {\n            var len = re.length;\n            var forEachInLine = function(row, offset, callback) {\n                var startRow = backwards ? row - len + 1 : row;\n                if (startRow < 0) return;\n                var line = session.getLine(startRow);\n                var startIndex = line.search(re[0]);\n                if (!backwards && startIndex < offset || startIndex === -1) return;\n                for (var i = 1; i < len; i++) {\n                    line = session.getLine(startRow + i);\n                    if (line.search(re[i]) == -1)\n                        return;\n                }\n                var endIndex = line.match(re[len - 1])[0].length;\n                if (backwards && endIndex > offset) return;\n                if (callback(startRow, startIndex, startRow + len - 1, endIndex))\n                    return true;\n            };\n        }\n        else if (backwards) {\n            var forEachInLine = function(row, endIndex, callback) {\n                var line = session.getLine(row);\n                var matches = [];\n                var m, last = 0;\n                re.lastIndex = 0;\n                while((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (!length) {\n                        if (last >= line.length) break;\n                        re.lastIndex = last += 1;\n                    }\n                    if (m.index + length > endIndex)\n                        break;\n                    matches.push(m.index, length);\n                }\n                for (var i = matches.length - 1; i >= 0; i -= 2) {\n                    var column = matches[i - 1];\n                    var length = matches[i];\n                    if (callback(row, column, row, column + length))\n                        return true;\n                }\n            };\n        }\n        else {\n            var forEachInLine = function(row, startIndex, callback) {\n                var line = session.getLine(row);\n                var last;\n                var m;\n                re.lastIndex = startIndex;\n                while((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (callback(row, last, row,last + length))\n                        return true;\n                    if (!length) {\n                        re.lastIndex = last += 1;\n                        if (last >= line.length) return false;\n                    }\n                }\n            };\n        }\n        return {forEach: forEach};\n    };\n\n}).call(Search.prototype);\n\nfunction addWordBoundary(needle, options) {\n    function wordBoundary(c) {\n        if (/\\w/.test(c) || options.regExp) return \"\\\\b\";\n        return \"\";\n    }\n    return wordBoundary(needle[0]) + needle\n        + wordBoundary(needle[needle.length - 1]);\n}\n\nexports.Search = Search;\n});\n\ndefine(\"ace/keyboard/hash_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar keyUtil = require(\"../lib/keys\");\nvar useragent = require(\"../lib/useragent\");\nvar KEY_MODS = keyUtil.KEY_MODS;\n\nfunction HashHandler(config, platform) {\n    this.platform = platform || (useragent.isMac ? \"mac\" : \"win\");\n    this.commands = {};\n    this.commandKeyBinding = {};\n    this.addCommands(config);\n    this.$singleCommand = true;\n}\n\nfunction MultiHashHandler(config, platform) {\n    HashHandler.call(this, config, platform);\n    this.$singleCommand = false;\n}\n\nMultiHashHandler.prototype = HashHandler.prototype;\n\n(function() {\n    \n\n    this.addCommand = function(command) {\n        if (this.commands[command.name])\n            this.removeCommand(command);\n\n        this.commands[command.name] = command;\n\n        if (command.bindKey)\n            this._buildKeyHash(command);\n    };\n\n    this.removeCommand = function(command, keepCommand) {\n        var name = command && (typeof command === 'string' ? command : command.name);\n        command = this.commands[name];\n        if (!keepCommand)\n            delete this.commands[name];\n        var ckb = this.commandKeyBinding;\n        for (var keyId in ckb) {\n            var cmdGroup = ckb[keyId];\n            if (cmdGroup == command) {\n                delete ckb[keyId];\n            } else if (Array.isArray(cmdGroup)) {\n                var i = cmdGroup.indexOf(command);\n                if (i != -1) {\n                    cmdGroup.splice(i, 1);\n                    if (cmdGroup.length == 1)\n                        ckb[keyId] = cmdGroup[0];\n                }\n            }\n        }\n    };\n\n    this.bindKey = function(key, command, position) {\n        if (typeof key == \"object\" && key) {\n            if (position == undefined)\n                position = key.position;\n            key = key[this.platform];\n        }\n        if (!key)\n            return;\n        if (typeof command == \"function\")\n            return this.addCommand({exec: command, bindKey: key, name: command.name || key});\n        \n        key.split(\"|\").forEach(function(keyPart) {\n            var chain = \"\";\n            if (keyPart.indexOf(\" \") != -1) {\n                var parts = keyPart.split(/\\s+/);\n                keyPart = parts.pop();\n                parts.forEach(function(keyPart) {\n                    var binding = this.parseKeys(keyPart);\n                    var id = KEY_MODS[binding.hashId] + binding.key;\n                    chain += (chain ? \" \" : \"\") + id;\n                    this._addCommandToBinding(chain, \"chainKeys\");\n                }, this);\n                chain += \" \";\n            }\n            var binding = this.parseKeys(keyPart);\n            var id = KEY_MODS[binding.hashId] + binding.key;\n            this._addCommandToBinding(chain + id, command, position);\n        }, this);\n    };\n    \n    function getPosition(command) {\n        return typeof command == \"object\" && command.bindKey\n            && command.bindKey.position \n            || (command.isDefault ? -100 : 0);\n    }\n    this._addCommandToBinding = function(keyId, command, position) {\n        var ckb = this.commandKeyBinding, i;\n        if (!command) {\n            delete ckb[keyId];\n        } else if (!ckb[keyId] || this.$singleCommand) {\n            ckb[keyId] = command;\n        } else {\n            if (!Array.isArray(ckb[keyId])) {\n                ckb[keyId] = [ckb[keyId]];\n            } else if ((i = ckb[keyId].indexOf(command)) != -1) {\n                ckb[keyId].splice(i, 1);\n            }\n            \n            if (typeof position != \"number\") {\n                position = getPosition(command);\n            }\n\n            var commands = ckb[keyId];\n            for (i = 0; i < commands.length; i++) {\n                var other = commands[i];\n                var otherPos = getPosition(other);\n                if (otherPos > position)\n                    break;\n            }\n            commands.splice(i, 0, command);\n        }\n    };\n\n    this.addCommands = function(commands) {\n        commands && Object.keys(commands).forEach(function(name) {\n            var command = commands[name];\n            if (!command)\n                return;\n            \n            if (typeof command === \"string\")\n                return this.bindKey(command, name);\n\n            if (typeof command === \"function\")\n                command = { exec: command };\n\n            if (typeof command !== \"object\")\n                return;\n\n            if (!command.name)\n                command.name = name;\n\n            this.addCommand(command);\n        }, this);\n    };\n\n    this.removeCommands = function(commands) {\n        Object.keys(commands).forEach(function(name) {\n            this.removeCommand(commands[name]);\n        }, this);\n    };\n\n    this.bindKeys = function(keyList) {\n        Object.keys(keyList).forEach(function(key) {\n            this.bindKey(key, keyList[key]);\n        }, this);\n    };\n\n    this._buildKeyHash = function(command) {\n        this.bindKey(command.bindKey, command);\n    };\n    this.parseKeys = function(keys) {\n        var parts = keys.toLowerCase().split(/[\\-\\+]([\\-\\+])?/).filter(function(x){return x;});\n        var key = parts.pop();\n\n        var keyCode = keyUtil[key];\n        if (keyUtil.FUNCTION_KEYS[keyCode])\n            key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();\n        else if (!parts.length)\n            return {key: key, hashId: -1};\n        else if (parts.length == 1 && parts[0] == \"shift\")\n            return {key: key.toUpperCase(), hashId: -1};\n\n        var hashId = 0;\n        for (var i = parts.length; i--;) {\n            var modifier = keyUtil.KEY_MODS[parts[i]];\n            if (modifier == null) {\n                if (typeof console != \"undefined\")\n                    console.error(\"invalid modifier \" + parts[i] + \" in \" + keys);\n                return false;\n            }\n            hashId |= modifier;\n        }\n        return {key: key, hashId: hashId};\n    };\n\n    this.findKeyCommand = function findKeyCommand(hashId, keyString) {\n        var key = KEY_MODS[hashId] + keyString;\n        return this.commandKeyBinding[key];\n    };\n\n    this.handleKeyboard = function(data, hashId, keyString, keyCode) {\n        if (keyCode < 0) return;\n        var key = KEY_MODS[hashId] + keyString;\n        var command = this.commandKeyBinding[key];\n        if (data.$keyChain) {\n            data.$keyChain += \" \" + key;\n            command = this.commandKeyBinding[data.$keyChain] || command;\n        }\n        \n        if (command) {\n            if (command == \"chainKeys\" || command[command.length - 1] == \"chainKeys\") {\n                data.$keyChain = data.$keyChain || key;\n                return {command: \"null\"};\n            }\n        }\n        \n        if (data.$keyChain) {\n            if ((!hashId || hashId == 4) && keyString.length == 1)\n                data.$keyChain = data.$keyChain.slice(0, -key.length - 1); // wait for input\n            else if (hashId == -1 || keyCode > 0)\n                data.$keyChain = \"\"; // reset keyChain\n        }\n        return {command: command};\n    };\n    \n    this.getStatusText = function(editor, data) {\n        return data.$keyChain || \"\";\n    };\n\n}).call(HashHandler.prototype);\n\nexports.HashHandler = HashHandler;\nexports.MultiHashHandler = MultiHashHandler;\n});\n\ndefine(\"ace/commands/command_manager\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/keyboard/hash_handler\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar MultiHashHandler = require(\"../keyboard/hash_handler\").MultiHashHandler;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar CommandManager = function(platform, commands) {\n    MultiHashHandler.call(this, commands, platform);\n    this.byName = this.commands;\n    this.setDefaultHandler(\"exec\", function(e) {\n        return e.command.exec(e.editor, e.args || {});\n    });\n};\n\noop.inherits(CommandManager, MultiHashHandler);\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.exec = function(command, editor, args) {\n        if (Array.isArray(command)) {\n            for (var i = command.length; i--; ) {\n                if (this.exec(command[i], editor, args)) return true;\n            }\n            return false;\n        }\n\n        if (typeof command === \"string\")\n            command = this.commands[command];\n\n        if (!command)\n            return false;\n\n        if (editor && editor.$readOnly && !command.readOnly)\n            return false;\n\n        if (this.$checkCommandState != false && command.isAvailable && !command.isAvailable(editor))\n            return false;\n\n        var e = {editor: editor, command: command, args: args};\n        e.returnValue = this._emit(\"exec\", e);\n        this._signal(\"afterExec\", e);\n\n        return e.returnValue === false ? false : true;\n    };\n\n    this.toggleRecording = function(editor) {\n        if (this.$inReplay)\n            return;\n\n        editor && editor._emit(\"changeStatus\");\n        if (this.recording) {\n            this.macro.pop();\n            this.removeEventListener(\"exec\", this.$addCommandToMacro);\n\n            if (!this.macro.length)\n                this.macro = this.oldMacro;\n\n            return this.recording = false;\n        }\n        if (!this.$addCommandToMacro) {\n            this.$addCommandToMacro = function(e) {\n                this.macro.push([e.command, e.args]);\n            }.bind(this);\n        }\n\n        this.oldMacro = this.macro;\n        this.macro = [];\n        this.on(\"exec\", this.$addCommandToMacro);\n        return this.recording = true;\n    };\n\n    this.replay = function(editor) {\n        if (this.$inReplay || !this.macro)\n            return;\n\n        if (this.recording)\n            return this.toggleRecording(editor);\n\n        try {\n            this.$inReplay = true;\n            this.macro.forEach(function(x) {\n                if (typeof x == \"string\")\n                    this.exec(x, editor);\n                else\n                    this.exec(x[0], editor, x[1]);\n            }, this);\n        } finally {\n            this.$inReplay = false;\n        }\n    };\n\n    this.trimMacro = function(m) {\n        return m.map(function(x){\n            if (typeof x[0] != \"string\")\n                x[0] = x[0].name;\n            if (!x[1])\n                x = x[0];\n            return x;\n        });\n    };\n\n}).call(CommandManager.prototype);\n\nexports.CommandManager = CommandManager;\n\n});\n\ndefine(\"ace/commands/default_commands\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/config\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"../lib/lang\");\nvar config = require(\"../config\");\nvar Range = require(\"../range\").Range;\n\nfunction bindKey(win, mac) {\n    return {win: win, mac: mac};\n}\nexports.commands = [{\n    name: \"showSettingsMenu\",\n    bindKey: bindKey(\"Ctrl-,\", \"Command-,\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/settings_menu\", function(module) {\n            module.init(editor);\n            editor.showSettingsMenu();\n        });\n    },\n    readOnly: true\n}, {\n    name: \"goToNextError\",\n    bindKey: bindKey(\"Alt-E\", \"F4\"),\n    exec: function(editor) {\n        config.loadModule(\"./ext/error_marker\", function(module) {\n            module.showErrorMarker(editor, 1);\n        });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"goToPreviousError\",\n    bindKey: bindKey(\"Alt-Shift-E\", \"Shift-F4\"),\n    exec: function(editor) {\n        config.loadModule(\"./ext/error_marker\", function(module) {\n            module.showErrorMarker(editor, -1);\n        });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"selectall\",\n    description: \"Select all\",\n    bindKey: bindKey(\"Ctrl-A\", \"Command-A\"),\n    exec: function(editor) { editor.selectAll(); },\n    readOnly: true\n}, {\n    name: \"centerselection\",\n    description: \"Center selection\",\n    bindKey: bindKey(null, \"Ctrl-L\"),\n    exec: function(editor) { editor.centerSelection(); },\n    readOnly: true\n}, {\n    name: \"gotoline\",\n    description: \"Go to line...\",\n    bindKey: bindKey(\"Ctrl-L\", \"Command-L\"),\n    exec: function(editor, line) {\n        if (typeof line === \"number\" && !isNaN(line))\n            editor.gotoLine(line);\n        editor.prompt({ $type: \"gotoLine\" });\n    },\n    readOnly: true\n}, {\n    name: \"fold\",\n    bindKey: bindKey(\"Alt-L|Ctrl-F1\", \"Command-Alt-L|Command-F1\"),\n    exec: function(editor) { editor.session.toggleFold(false); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"unfold\",\n    bindKey: bindKey(\"Alt-Shift-L|Ctrl-Shift-F1\", \"Command-Alt-Shift-L|Command-Shift-F1\"),\n    exec: function(editor) { editor.session.toggleFold(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"toggleFoldWidget\",\n    bindKey: bindKey(\"F2\", \"F2\"),\n    exec: function(editor) { editor.session.toggleFoldWidget(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"toggleParentFoldWidget\",\n    bindKey: bindKey(\"Alt-F2\", \"Alt-F2\"),\n    exec: function(editor) { editor.session.toggleFoldWidget(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldall\",\n    description: \"Fold all\",\n    bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n    exec: function(editor) { editor.session.foldAll(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldOther\",\n    description: \"Fold other\",\n    bindKey: bindKey(\"Alt-0\", \"Command-Option-0\"),\n    exec: function(editor) { \n        editor.session.foldAll();\n        editor.session.unfold(editor.selection.getAllRanges());\n    },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"unfoldall\",\n    description: \"Unfold all\",\n    bindKey: bindKey(\"Alt-Shift-0\", \"Command-Option-Shift-0\"),\n    exec: function(editor) { editor.session.unfold(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"findnext\",\n    description: \"Find next\",\n    bindKey: bindKey(\"Ctrl-K\", \"Command-G\"),\n    exec: function(editor) { editor.findNext(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"findprevious\",\n    description: \"Find previous\",\n    bindKey: bindKey(\"Ctrl-Shift-K\", \"Command-Shift-G\"),\n    exec: function(editor) { editor.findPrevious(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"selectOrFindNext\",\n    description: \"Select or find next\",\n    bindKey: bindKey(\"Alt-K\", \"Ctrl-G\"),\n    exec: function(editor) {\n        if (editor.selection.isEmpty())\n            editor.selection.selectWord();\n        else\n            editor.findNext(); \n    },\n    readOnly: true\n}, {\n    name: \"selectOrFindPrevious\",\n    description: \"Select or find previous\",\n    bindKey: bindKey(\"Alt-Shift-K\", \"Ctrl-Shift-G\"),\n    exec: function(editor) { \n        if (editor.selection.isEmpty())\n            editor.selection.selectWord();\n        else\n            editor.findPrevious();\n    },\n    readOnly: true\n}, {\n    name: \"find\",\n    description: \"Find\",\n    bindKey: bindKey(\"Ctrl-F\", \"Command-F\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/searchbox\", function(e) {e.Search(editor);});\n    },\n    readOnly: true\n}, {\n    name: \"overwrite\",\n    description: \"Overwrite\",\n    bindKey: \"Insert\",\n    exec: function(editor) { editor.toggleOverwrite(); },\n    readOnly: true\n}, {\n    name: \"selecttostart\",\n    description: \"Select to start\",\n    bindKey: bindKey(\"Ctrl-Shift-Home\", \"Command-Shift-Home|Command-Shift-Up\"),\n    exec: function(editor) { editor.getSelection().selectFileStart(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"gotostart\",\n    description: \"Go to start\",\n    bindKey: bindKey(\"Ctrl-Home\", \"Command-Home|Command-Up\"),\n    exec: function(editor) { editor.navigateFileStart(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"selectup\",\n    description: \"Select up\",\n    bindKey: bindKey(\"Shift-Up\", \"Shift-Up|Ctrl-Shift-P\"),\n    exec: function(editor) { editor.getSelection().selectUp(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"golineup\",\n    description: \"Go line up\",\n    bindKey: bindKey(\"Up\", \"Up|Ctrl-P\"),\n    exec: function(editor, args) { editor.navigateUp(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttoend\",\n    description: \"Select to end\",\n    bindKey: bindKey(\"Ctrl-Shift-End\", \"Command-Shift-End|Command-Shift-Down\"),\n    exec: function(editor) { editor.getSelection().selectFileEnd(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"gotoend\",\n    description: \"Go to end\",\n    bindKey: bindKey(\"Ctrl-End\", \"Command-End|Command-Down\"),\n    exec: function(editor) { editor.navigateFileEnd(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"selectdown\",\n    description: \"Select down\",\n    bindKey: bindKey(\"Shift-Down\", \"Shift-Down|Ctrl-Shift-N\"),\n    exec: function(editor) { editor.getSelection().selectDown(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"golinedown\",\n    description: \"Go line down\",\n    bindKey: bindKey(\"Down\", \"Down|Ctrl-N\"),\n    exec: function(editor, args) { editor.navigateDown(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectwordleft\",\n    description: \"Select word left\",\n    bindKey: bindKey(\"Ctrl-Shift-Left\", \"Option-Shift-Left\"),\n    exec: function(editor) { editor.getSelection().selectWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotowordleft\",\n    description: \"Go to word left\",\n    bindKey: bindKey(\"Ctrl-Left\", \"Option-Left\"),\n    exec: function(editor) { editor.navigateWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttolinestart\",\n    description: \"Select to line start\",\n    bindKey: bindKey(\"Alt-Shift-Left\", \"Command-Shift-Left|Ctrl-Shift-A\"),\n    exec: function(editor) { editor.getSelection().selectLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotolinestart\",\n    description: \"Go to line start\",\n    bindKey: bindKey(\"Alt-Left|Home\", \"Command-Left|Home|Ctrl-A\"),\n    exec: function(editor) { editor.navigateLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectleft\",\n    description: \"Select left\",\n    bindKey: bindKey(\"Shift-Left\", \"Shift-Left|Ctrl-Shift-B\"),\n    exec: function(editor) { editor.getSelection().selectLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotoleft\",\n    description: \"Go to left\",\n    bindKey: bindKey(\"Left\", \"Left|Ctrl-B\"),\n    exec: function(editor, args) { editor.navigateLeft(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectwordright\",\n    description: \"Select word right\",\n    bindKey: bindKey(\"Ctrl-Shift-Right\", \"Option-Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotowordright\",\n    description: \"Go to word right\",\n    bindKey: bindKey(\"Ctrl-Right\", \"Option-Right\"),\n    exec: function(editor) { editor.navigateWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttolineend\",\n    description: \"Select to line end\",\n    bindKey: bindKey(\"Alt-Shift-Right\", \"Command-Shift-Right|Shift-End|Ctrl-Shift-E\"),\n    exec: function(editor) { editor.getSelection().selectLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotolineend\",\n    description: \"Go to line end\",\n    bindKey: bindKey(\"Alt-Right|End\", \"Command-Right|End|Ctrl-E\"),\n    exec: function(editor) { editor.navigateLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectright\",\n    description: \"Select right\",\n    bindKey: bindKey(\"Shift-Right\", \"Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotoright\",\n    description: \"Go to right\",\n    bindKey: bindKey(\"Right\", \"Right|Ctrl-F\"),\n    exec: function(editor, args) { editor.navigateRight(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectpagedown\",\n    description: \"Select page down\",\n    bindKey: \"Shift-PageDown\",\n    exec: function(editor) { editor.selectPageDown(); },\n    readOnly: true\n}, {\n    name: \"pagedown\",\n    description: \"Page down\",\n    bindKey: bindKey(null, \"Option-PageDown\"),\n    exec: function(editor) { editor.scrollPageDown(); },\n    readOnly: true\n}, {\n    name: \"gotopagedown\",\n    description: \"Go to page down\",\n    bindKey: bindKey(\"PageDown\", \"PageDown|Ctrl-V\"),\n    exec: function(editor) { editor.gotoPageDown(); },\n    readOnly: true\n}, {\n    name: \"selectpageup\",\n    description: \"Select page up\",\n    bindKey: \"Shift-PageUp\",\n    exec: function(editor) { editor.selectPageUp(); },\n    readOnly: true\n}, {\n    name: \"pageup\",\n    description: \"Page up\",\n    bindKey: bindKey(null, \"Option-PageUp\"),\n    exec: function(editor) { editor.scrollPageUp(); },\n    readOnly: true\n}, {\n    name: \"gotopageup\",\n    description: \"Go to page up\",\n    bindKey: \"PageUp\",\n    exec: function(editor) { editor.gotoPageUp(); },\n    readOnly: true\n}, {\n    name: \"scrollup\",\n    description: \"Scroll up\",\n    bindKey: bindKey(\"Ctrl-Up\", null),\n    exec: function(e) { e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight); },\n    readOnly: true\n}, {\n    name: \"scrolldown\",\n    description: \"Scroll down\",\n    bindKey: bindKey(\"Ctrl-Down\", null),\n    exec: function(e) { e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight); },\n    readOnly: true\n}, {\n    name: \"selectlinestart\",\n    description: \"Select line start\",\n    bindKey: \"Shift-Home\",\n    exec: function(editor) { editor.getSelection().selectLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectlineend\",\n    description: \"Select line end\",\n    bindKey: \"Shift-End\",\n    exec: function(editor) { editor.getSelection().selectLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"togglerecording\",\n    description: \"Toggle recording\",\n    bindKey: bindKey(\"Ctrl-Alt-E\", \"Command-Option-E\"),\n    exec: function(editor) { editor.commands.toggleRecording(editor); },\n    readOnly: true\n}, {\n    name: \"replaymacro\",\n    description: \"Replay macro\",\n    bindKey: bindKey(\"Ctrl-Shift-E\", \"Command-Shift-E\"),\n    exec: function(editor) { editor.commands.replay(editor); },\n    readOnly: true\n}, {\n    name: \"jumptomatching\",\n    description: \"Jump to matching\",\n    bindKey: bindKey(\"Ctrl-\\\\|Ctrl-P\", \"Command-\\\\\"),\n    exec: function(editor) { editor.jumpToMatching(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"selecttomatching\",\n    description: \"Select to matching\",\n    bindKey: bindKey(\"Ctrl-Shift-\\\\|Ctrl-Shift-P\", \"Command-Shift-\\\\\"),\n    exec: function(editor) { editor.jumpToMatching(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"expandToMatching\",\n    description: \"Expand to matching\",\n    bindKey: bindKey(\"Ctrl-Shift-M\", \"Ctrl-Shift-M\"),\n    exec: function(editor) { editor.jumpToMatching(true, true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"passKeysToBrowser\",\n    description: \"Pass keys to browser\",\n    bindKey: bindKey(null, null),\n    exec: function() {},\n    passEvent: true,\n    readOnly: true\n}, {\n    name: \"copy\",\n    description: \"Copy\",\n    exec: function(editor) {\n    },\n    readOnly: true\n},\n{\n    name: \"cut\",\n    description: \"Cut\",\n    exec: function(editor) {\n        var cutLine = editor.$copyWithEmptySelection && editor.selection.isEmpty();\n        var range = cutLine ? editor.selection.getLineRange() : editor.selection.getRange();\n        editor._emit(\"cut\", range);\n\n        if (!range.isEmpty())\n            editor.session.remove(range);\n        editor.clearSelection();\n    },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"paste\",\n    description: \"Paste\",\n    exec: function(editor, args) {\n        editor.$handlePaste(args);\n    },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removeline\",\n    description: \"Remove line\",\n    bindKey: bindKey(\"Ctrl-D\", \"Command-D\"),\n    exec: function(editor) { editor.removeLines(); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEachLine\"\n}, {\n    name: \"duplicateSelection\",\n    description: \"Duplicate selection\",\n    bindKey: bindKey(\"Ctrl-Shift-D\", \"Command-Shift-D\"),\n    exec: function(editor) { editor.duplicateSelection(); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"sortlines\",\n    description: \"Sort lines\",\n    bindKey: bindKey(\"Ctrl-Alt-S\", \"Command-Alt-S\"),\n    exec: function(editor) { editor.sortLines(); },\n    scrollIntoView: \"selection\",\n    multiSelectAction: \"forEachLine\"\n}, {\n    name: \"togglecomment\",\n    description: \"Toggle comment\",\n    bindKey: bindKey(\"Ctrl-/\", \"Command-/\"),\n    exec: function(editor) { editor.toggleCommentLines(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"toggleBlockComment\",\n    description: \"Toggle block comment\",\n    bindKey: bindKey(\"Ctrl-Shift-/\", \"Command-Shift-/\"),\n    exec: function(editor) { editor.toggleBlockComment(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"modifyNumberUp\",\n    description: \"Modify number up\",\n    bindKey: bindKey(\"Ctrl-Shift-Up\", \"Alt-Shift-Up\"),\n    exec: function(editor) { editor.modifyNumber(1); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"modifyNumberDown\",\n    description: \"Modify number down\",\n    bindKey: bindKey(\"Ctrl-Shift-Down\", \"Alt-Shift-Down\"),\n    exec: function(editor) { editor.modifyNumber(-1); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"replace\",\n    description: \"Replace\",\n    bindKey: bindKey(\"Ctrl-H\", \"Command-Option-F\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/searchbox\", function(e) {e.Search(editor, true);});\n    }\n}, {\n    name: \"undo\",\n    description: \"Undo\",\n    bindKey: bindKey(\"Ctrl-Z\", \"Command-Z\"),\n    exec: function(editor) { editor.undo(); }\n}, {\n    name: \"redo\",\n    description: \"Redo\",\n    bindKey: bindKey(\"Ctrl-Shift-Z|Ctrl-Y\", \"Command-Shift-Z|Command-Y\"),\n    exec: function(editor) { editor.redo(); }\n}, {\n    name: \"copylinesup\",\n    description: \"Copy lines up\",\n    bindKey: bindKey(\"Alt-Shift-Up\", \"Command-Option-Up\"),\n    exec: function(editor) { editor.copyLinesUp(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"movelinesup\",\n    description: \"Move lines up\",\n    bindKey: bindKey(\"Alt-Up\", \"Option-Up\"),\n    exec: function(editor) { editor.moveLinesUp(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"copylinesdown\",\n    description: \"Copy lines down\",\n    bindKey: bindKey(\"Alt-Shift-Down\", \"Command-Option-Down\"),\n    exec: function(editor) { editor.copyLinesDown(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"movelinesdown\",\n    description: \"Move lines down\",\n    bindKey: bindKey(\"Alt-Down\", \"Option-Down\"),\n    exec: function(editor) { editor.moveLinesDown(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"del\",\n    description: \"Delete\",\n    bindKey: bindKey(\"Delete\", \"Delete|Ctrl-D|Shift-Delete\"),\n    exec: function(editor) { editor.remove(\"right\"); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"backspace\",\n    description: \"Backspace\",\n    bindKey: bindKey(\n        \"Shift-Backspace|Backspace\",\n        \"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"\n    ),\n    exec: function(editor) { editor.remove(\"left\"); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"cut_or_delete\",\n    description: \"Cut or delete\",\n    bindKey: bindKey(\"Shift-Delete\", null),\n    exec: function(editor) { \n        if (editor.selection.isEmpty()) {\n            editor.remove(\"left\");\n        } else {\n            return false;\n        }\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolinestart\",\n    description: \"Remove to line start\",\n    bindKey: bindKey(\"Alt-Backspace\", \"Command-Backspace\"),\n    exec: function(editor) { editor.removeToLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolineend\",\n    description: \"Remove to line end\",\n    bindKey: bindKey(\"Alt-Delete\", \"Ctrl-K|Command-Delete\"),\n    exec: function(editor) { editor.removeToLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolinestarthard\",\n    description: \"Remove to line start hard\",\n    bindKey: bindKey(\"Ctrl-Shift-Backspace\", null),\n    exec: function(editor) {\n        var range = editor.selection.getRange();\n        range.start.column = 0;\n        editor.session.remove(range);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolineendhard\",\n    description: \"Remove to line end hard\",\n    bindKey: bindKey(\"Ctrl-Shift-Delete\", null),\n    exec: function(editor) {\n        var range = editor.selection.getRange();\n        range.end.column = Number.MAX_VALUE;\n        editor.session.remove(range);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removewordleft\",\n    description: \"Remove word left\",\n    bindKey: bindKey(\"Ctrl-Backspace\", \"Alt-Backspace|Ctrl-Alt-Backspace\"),\n    exec: function(editor) { editor.removeWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removewordright\",\n    description: \"Remove word right\",\n    bindKey: bindKey(\"Ctrl-Delete\", \"Alt-Delete\"),\n    exec: function(editor) { editor.removeWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"outdent\",\n    description: \"Outdent\",\n    bindKey: bindKey(\"Shift-Tab\", \"Shift-Tab\"),\n    exec: function(editor) { editor.blockOutdent(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"indent\",\n    description: \"Indent\",\n    bindKey: bindKey(\"Tab\", \"Tab\"),\n    exec: function(editor) { editor.indent(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"blockoutdent\",\n    description: \"Block outdent\",\n    bindKey: bindKey(\"Ctrl-[\", \"Ctrl-[\"),\n    exec: function(editor) { editor.blockOutdent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"blockindent\",\n    description: \"Block indent\",\n    bindKey: bindKey(\"Ctrl-]\", \"Ctrl-]\"),\n    exec: function(editor) { editor.blockIndent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"insertstring\",\n    description: \"Insert string\",\n    exec: function(editor, str) { editor.insert(str); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"inserttext\",\n    description: \"Insert text\",\n    exec: function(editor, args) {\n        editor.insert(lang.stringRepeat(args.text  || \"\", args.times || 1));\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"splitline\",\n    description: \"Split line\",\n    bindKey: bindKey(null, \"Ctrl-O\"),\n    exec: function(editor) { editor.splitLine(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"transposeletters\",\n    description: \"Transpose letters\",\n    bindKey: bindKey(\"Alt-Shift-X\", \"Ctrl-T\"),\n    exec: function(editor) { editor.transposeLetters(); },\n    multiSelectAction: function(editor) {editor.transposeSelections(1); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"touppercase\",\n    description: \"To uppercase\",\n    bindKey: bindKey(\"Ctrl-U\", \"Ctrl-U\"),\n    exec: function(editor) { editor.toUpperCase(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"tolowercase\",\n    description: \"To lowercase\",\n    bindKey: bindKey(\"Ctrl-Shift-U\", \"Ctrl-Shift-U\"),\n    exec: function(editor) { editor.toLowerCase(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"expandtoline\",\n    description: \"Expand to line\",\n    bindKey: bindKey(\"Ctrl-Shift-L\", \"Command-Shift-L\"),\n    exec: function(editor) {\n        var range = editor.selection.getRange();\n\n        range.start.column = range.end.column = 0;\n        range.end.row++;\n        editor.selection.setRange(range, false);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"joinlines\",\n    description: \"Join lines\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) {\n        var isBackwards = editor.selection.isBackwards();\n        var selectionStart = isBackwards ? editor.selection.getSelectionLead() : editor.selection.getSelectionAnchor();\n        var selectionEnd = isBackwards ? editor.selection.getSelectionAnchor() : editor.selection.getSelectionLead();\n        var firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length;\n        var selectedText = editor.session.doc.getTextRange(editor.selection.getRange());\n        var selectedCount = selectedText.replace(/\\n\\s*/, \" \").length;\n        var insertLine = editor.session.doc.getLine(selectionStart.row);\n\n        for (var i = selectionStart.row + 1; i <= selectionEnd.row + 1; i++) {\n            var curLine = lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));\n            if (curLine.length !== 0) {\n                curLine = \" \" + curLine;\n            }\n            insertLine += curLine;\n        }\n\n        if (selectionEnd.row + 1 < (editor.session.doc.getLength() - 1)) {\n            insertLine += editor.session.doc.getNewLineCharacter();\n        }\n\n        editor.clearSelection();\n        editor.session.doc.replace(new Range(selectionStart.row, 0, selectionEnd.row + 2, 0), insertLine);\n\n        if (selectedCount > 0) {\n            editor.selection.moveCursorTo(selectionStart.row, selectionStart.column);\n            editor.selection.selectTo(selectionStart.row, selectionStart.column + selectedCount);\n        } else {\n            firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length > firstLineEndCol ? (firstLineEndCol + 1) : firstLineEndCol;\n            editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);\n        }\n    },\n    multiSelectAction: \"forEach\",\n    readOnly: true\n}, {\n    name: \"invertSelection\",\n    description: \"Invert selection\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) {\n        var endRow = editor.session.doc.getLength() - 1;\n        var endCol = editor.session.doc.getLine(endRow).length;\n        var ranges = editor.selection.rangeList.ranges;\n        var newRanges = [];\n        if (ranges.length < 1) {\n            ranges = [editor.selection.getRange()];\n        }\n\n        for (var i = 0; i < ranges.length; i++) {\n            if (i == (ranges.length - 1)) {\n                if (!(ranges[i].end.row === endRow && ranges[i].end.column === endCol)) {\n                    newRanges.push(new Range(ranges[i].end.row, ranges[i].end.column, endRow, endCol));\n                }\n            }\n\n            if (i === 0) {\n                if (!(ranges[i].start.row === 0 && ranges[i].start.column === 0)) {\n                    newRanges.push(new Range(0, 0, ranges[i].start.row, ranges[i].start.column));\n                }\n            } else {\n                newRanges.push(new Range(ranges[i-1].end.row, ranges[i-1].end.column, ranges[i].start.row, ranges[i].start.column));\n            }\n        }\n\n        editor.exitMultiSelectMode();\n        editor.clearSelection();\n\n        for(var i = 0; i < newRanges.length; i++) {\n            editor.selection.addRange(newRanges[i], false);\n        }\n    },\n    readOnly: true,\n    scrollIntoView: \"none\"\n}, {\n    name: \"addLineAfter\",\n    exec: function(editor) {\n        editor.selection.clearSelection();\n        editor.navigateLineEnd();\n        editor.insert(\"\\n\");\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"addLineBefore\",\n    exec: function(editor) {\n        editor.selection.clearSelection();\n        var cursor = editor.getCursorPosition();\n        editor.selection.moveTo(cursor.row - 1, Number.MAX_VALUE);\n        editor.insert(\"\\n\");\n        if (cursor.row === 0) editor.navigateUp();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"openCommandPallete\",\n    description: \"Open command pallete\",\n    bindKey: bindKey(\"F1\", \"F1\"),\n    exec: function(editor) {\n        editor.prompt({ $type: \"commands\" });\n    },\n    readOnly: true\n}, {\n    name: \"modeSelect\",\n    description: \"Change language mode...\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) {\n        editor.prompt({ $type: \"modes\" });\n    },\n    readOnly: true\n}];\n\n});\n\ndefine(\"ace/editor\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/keyboard/textinput\",\"ace/mouse/mouse_handler\",\"ace/mouse/fold_handler\",\"ace/keyboard/keybinding\",\"ace/edit_session\",\"ace/search\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/commands/command_manager\",\"ace/commands/default_commands\",\"ace/config\",\"ace/token_iterator\",\"ace/clipboard\"], function(require, exports, module) {\n\"use strict\";\n\nrequire(\"./lib/fixoldbrowsers\");\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar lang = require(\"./lib/lang\");\nvar useragent = require(\"./lib/useragent\");\nvar TextInput = require(\"./keyboard/textinput\").TextInput;\nvar MouseHandler = require(\"./mouse/mouse_handler\").MouseHandler;\nvar FoldHandler = require(\"./mouse/fold_handler\").FoldHandler;\nvar KeyBinding = require(\"./keyboard/keybinding\").KeyBinding;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar Search = require(\"./search\").Search;\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar CommandManager = require(\"./commands/command_manager\").CommandManager;\nvar defaultCommands = require(\"./commands/default_commands\").commands;\nvar config = require(\"./config\");\nvar TokenIterator = require(\"./token_iterator\").TokenIterator;\n\nvar clipboard = require(\"./clipboard\");\nvar Editor = function(renderer, session, options) {\n    var container = renderer.getContainerElement();\n    this.container = container;\n    this.renderer = renderer;\n    this.id = \"editor\" + (++Editor.$uid);\n\n    this.commands = new CommandManager(useragent.isMac ? \"mac\" : \"win\", defaultCommands);\n    if (typeof document == \"object\") {\n        this.textInput = new TextInput(renderer.getTextAreaContainer(), this);\n        this.renderer.textarea = this.textInput.getElement();\n        this.$mouseHandler = new MouseHandler(this);\n        new FoldHandler(this);\n    }\n\n    this.keyBinding = new KeyBinding(this);\n\n    this.$search = new Search().set({\n        wrap: true\n    });\n\n    this.$historyTracker = this.$historyTracker.bind(this);\n    this.commands.on(\"exec\", this.$historyTracker);\n\n    this.$initOperationListeners();\n    \n    this._$emitInputEvent = lang.delayedCall(function() {\n        this._signal(\"input\", {});\n        if (this.session && this.session.bgTokenizer)\n            this.session.bgTokenizer.scheduleStart();\n    }.bind(this));\n    \n    this.on(\"change\", function(_, _self) {\n        _self._$emitInputEvent.schedule(31);\n    });\n\n    this.setSession(session || options && options.session || new EditSession(\"\"));\n    config.resetOptions(this);\n    if (options)\n        this.setOptions(options);\n    config._signal(\"editor\", this);\n};\n\nEditor.$uid = 0;\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$initOperationListeners = function() {\n        this.commands.on(\"exec\", this.startOperation.bind(this), true);\n        this.commands.on(\"afterExec\", this.endOperation.bind(this), true);\n\n        this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this, true));\n        this.on(\"change\", function() {\n            if (!this.curOp) {\n                this.startOperation();\n                this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.docChanged = true;\n        }.bind(this), true);\n        \n        this.on(\"changeSelection\", function() {\n            if (!this.curOp) {\n                this.startOperation();\n                this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.selectionChanged = true;\n        }.bind(this), true);\n    };\n\n    this.curOp = null;\n    this.prevOp = {};\n    this.startOperation = function(commandEvent) {\n        if (this.curOp) {\n            if (!commandEvent || this.curOp.command)\n                return;\n            this.prevOp = this.curOp;\n        }\n        if (!commandEvent) {\n            this.previousCommand = null;\n            commandEvent = {};\n        }\n\n        this.$opResetTimer.schedule();\n        this.curOp = this.session.curOp = {\n            command: commandEvent.command || {},\n            args: commandEvent.args,\n            scrollTop: this.renderer.scrollTop\n        };\n        this.curOp.selectionBefore = this.selection.toJSON();\n    };\n\n    this.endOperation = function(e) {\n        if (this.curOp) {\n            if (e && e.returnValue === false)\n                return (this.curOp = null);\n            if (e == true && this.curOp.command && this.curOp.command.name == \"mouse\")\n                return;\n            this._signal(\"beforeEndOperation\");\n            if (!this.curOp) return;\n            var command = this.curOp.command;\n            var scrollIntoView = command && command.scrollIntoView;\n            if (scrollIntoView) {\n                switch (scrollIntoView) {\n                    case \"center-animate\":\n                        scrollIntoView = \"animate\";\n                    case \"center\":\n                        this.renderer.scrollCursorIntoView(null, 0.5);\n                        break;\n                    case \"animate\":\n                    case \"cursor\":\n                        this.renderer.scrollCursorIntoView();\n                        break;\n                    case \"selectionPart\":\n                        var range = this.selection.getRange();\n                        var config = this.renderer.layerConfig;\n                        if (range.start.row >= config.lastRow || range.end.row <= config.firstRow) {\n                            this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);\n                        }\n                        break;\n                    default:\n                        break;\n                }\n                if (scrollIntoView == \"animate\")\n                    this.renderer.animateScrolling(this.curOp.scrollTop);\n            }\n            var sel = this.selection.toJSON();\n            this.curOp.selectionAfter = sel;\n            this.$lastSel = this.selection.toJSON();\n            this.session.getUndoManager().addSelection(sel);\n            this.prevOp = this.curOp;\n            this.curOp = null;\n        }\n    };\n    this.$mergeableCommands = [\"backspace\", \"del\", \"insertstring\"];\n    this.$historyTracker = function(e) {\n        if (!this.$mergeUndoDeltas)\n            return;\n\n        var prev = this.prevOp;\n        var mergeableCommands = this.$mergeableCommands;\n        var shouldMerge = prev.command && (e.command.name == prev.command.name);\n        if (e.command.name == \"insertstring\") {\n            var text = e.args;\n            if (this.mergeNextCommand === undefined)\n                this.mergeNextCommand = true;\n\n            shouldMerge = shouldMerge\n                && this.mergeNextCommand // previous command allows to coalesce with\n                && (!/\\s/.test(text) || /\\s/.test(prev.args)); // previous insertion was of same type\n\n            this.mergeNextCommand = true;\n        } else {\n            shouldMerge = shouldMerge\n                && mergeableCommands.indexOf(e.command.name) !== -1; // the command is mergeable\n        }\n\n        if (\n            this.$mergeUndoDeltas != \"always\"\n            && Date.now() - this.sequenceStartTime > 2000\n        ) {\n            shouldMerge = false; // the sequence is too long\n        }\n\n        if (shouldMerge)\n            this.session.mergeUndoDeltas = true;\n        else if (mergeableCommands.indexOf(e.command.name) !== -1)\n            this.sequenceStartTime = Date.now();\n    };\n    this.setKeyboardHandler = function(keyboardHandler, cb) {\n        if (keyboardHandler && typeof keyboardHandler === \"string\" && keyboardHandler != \"ace\") {\n            this.$keybindingId = keyboardHandler;\n            var _self = this;\n            config.loadModule([\"keybinding\", keyboardHandler], function(module) {\n                if (_self.$keybindingId == keyboardHandler)\n                    _self.keyBinding.setKeyboardHandler(module && module.handler);\n                cb && cb();\n            });\n        } else {\n            this.$keybindingId = null;\n            this.keyBinding.setKeyboardHandler(keyboardHandler);\n            cb && cb();\n        }\n    };\n    this.getKeyboardHandler = function() {\n        return this.keyBinding.getKeyboardHandler();\n    };\n    this.setSession = function(session) {\n        if (this.session == session)\n            return;\n        if (this.curOp) this.endOperation();\n        this.curOp = {};\n\n        var oldSession = this.session;\n        if (oldSession) {\n            this.session.off(\"change\", this.$onDocumentChange);\n            this.session.off(\"changeMode\", this.$onChangeMode);\n            this.session.off(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n            this.session.off(\"changeTabSize\", this.$onChangeTabSize);\n            this.session.off(\"changeWrapLimit\", this.$onChangeWrapLimit);\n            this.session.off(\"changeWrapMode\", this.$onChangeWrapMode);\n            this.session.off(\"changeFold\", this.$onChangeFold);\n            this.session.off(\"changeFrontMarker\", this.$onChangeFrontMarker);\n            this.session.off(\"changeBackMarker\", this.$onChangeBackMarker);\n            this.session.off(\"changeBreakpoint\", this.$onChangeBreakpoint);\n            this.session.off(\"changeAnnotation\", this.$onChangeAnnotation);\n            this.session.off(\"changeOverwrite\", this.$onCursorChange);\n            this.session.off(\"changeScrollTop\", this.$onScrollTopChange);\n            this.session.off(\"changeScrollLeft\", this.$onScrollLeftChange);\n\n            var selection = this.session.getSelection();\n            selection.off(\"changeCursor\", this.$onCursorChange);\n            selection.off(\"changeSelection\", this.$onSelectionChange);\n        }\n\n        this.session = session;\n        if (session) {\n            this.$onDocumentChange = this.onDocumentChange.bind(this);\n            session.on(\"change\", this.$onDocumentChange);\n            this.renderer.setSession(session);\n    \n            this.$onChangeMode = this.onChangeMode.bind(this);\n            session.on(\"changeMode\", this.$onChangeMode);\n    \n            this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);\n            session.on(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n    \n            this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);\n            session.on(\"changeTabSize\", this.$onChangeTabSize);\n    \n            this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);\n            session.on(\"changeWrapLimit\", this.$onChangeWrapLimit);\n    \n            this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);\n            session.on(\"changeWrapMode\", this.$onChangeWrapMode);\n    \n            this.$onChangeFold = this.onChangeFold.bind(this);\n            session.on(\"changeFold\", this.$onChangeFold);\n    \n            this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);\n            this.session.on(\"changeFrontMarker\", this.$onChangeFrontMarker);\n    \n            this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);\n            this.session.on(\"changeBackMarker\", this.$onChangeBackMarker);\n    \n            this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);\n            this.session.on(\"changeBreakpoint\", this.$onChangeBreakpoint);\n    \n            this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);\n            this.session.on(\"changeAnnotation\", this.$onChangeAnnotation);\n    \n            this.$onCursorChange = this.onCursorChange.bind(this);\n            this.session.on(\"changeOverwrite\", this.$onCursorChange);\n    \n            this.$onScrollTopChange = this.onScrollTopChange.bind(this);\n            this.session.on(\"changeScrollTop\", this.$onScrollTopChange);\n    \n            this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);\n            this.session.on(\"changeScrollLeft\", this.$onScrollLeftChange);\n    \n            this.selection = session.getSelection();\n            this.selection.on(\"changeCursor\", this.$onCursorChange);\n    \n            this.$onSelectionChange = this.onSelectionChange.bind(this);\n            this.selection.on(\"changeSelection\", this.$onSelectionChange);\n    \n            this.onChangeMode();\n    \n            this.onCursorChange();\n    \n            this.onScrollTopChange();\n            this.onScrollLeftChange();\n            this.onSelectionChange();\n            this.onChangeFrontMarker();\n            this.onChangeBackMarker();\n            this.onChangeBreakpoint();\n            this.onChangeAnnotation();\n            this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();\n            this.renderer.updateFull();\n        } else {\n            this.selection = null;\n            this.renderer.setSession(session);\n        }\n\n        this._signal(\"changeSession\", {\n            session: session,\n            oldSession: oldSession\n        });\n        \n        this.curOp = null;\n        \n        oldSession && oldSession._signal(\"changeEditor\", {oldEditor: this});\n        session && session._signal(\"changeEditor\", {editor: this});\n        \n        if (session && session.bgTokenizer)\n            session.bgTokenizer.scheduleStart();\n    };\n    this.getSession = function() {\n        return this.session;\n    };\n    this.setValue = function(val, cursorPos) {\n        this.session.doc.setValue(val);\n\n        if (!cursorPos)\n            this.selectAll();\n        else if (cursorPos == 1)\n            this.navigateFileEnd();\n        else if (cursorPos == -1)\n            this.navigateFileStart();\n\n        return val;\n    };\n    this.getValue = function() {\n        return this.session.getValue();\n    };\n    this.getSelection = function() {\n        return this.selection;\n    };\n    this.resize = function(force) {\n        this.renderer.onResize(force);\n    };\n    this.setTheme = function(theme, cb) {\n        this.renderer.setTheme(theme, cb);\n    };\n    this.getTheme = function() {\n        return this.renderer.getTheme();\n    };\n    this.setStyle = function(style) {\n        this.renderer.setStyle(style);\n    };\n    this.unsetStyle = function(style) {\n        this.renderer.unsetStyle(style);\n    };\n    this.getFontSize = function () {\n        return this.getOption(\"fontSize\") ||\n           dom.computedStyle(this.container).fontSize;\n    };\n    this.setFontSize = function(size) {\n        this.setOption(\"fontSize\", size);\n    };\n\n    this.$highlightBrackets = function() {\n        if (this.$highlightPending) {\n            return;\n        }\n        var self = this;\n        this.$highlightPending = true;\n        setTimeout(function () {\n            self.$highlightPending = false;\n            var session = self.session;\n            if (!session || !session.bgTokenizer) return;\n            if (session.$bracketHighlight) {\n                session.$bracketHighlight.markerIds.forEach(function(id) {\n                    session.removeMarker(id);\n                });\n                session.$bracketHighlight = null;\n            }\n            var ranges = session.getMatchingBracketRanges(self.getCursorPosition());\n            if (!ranges && session.$mode.getMatching) \n                ranges = session.$mode.getMatching(self.session);\n            if (!ranges)\n                return;\n\n            var markerType = \"ace_bracket\";\n            if (!Array.isArray(ranges)) {\n                ranges = [ranges];\n            } else if (ranges.length == 1) {\n                markerType = \"ace_error_bracket\";\n            }\n            if (ranges.length == 2) {\n                if (Range.comparePoints(ranges[0].end, ranges[1].start) == 0)\n                    ranges = [Range.fromPoints(ranges[0].start, ranges[1].end)];\n                else if (Range.comparePoints(ranges[0].start, ranges[1].end) == 0)\n                    ranges = [Range.fromPoints(ranges[1].start, ranges[0].end)];\n            }\n\n            session.$bracketHighlight = {\n                ranges: ranges,\n                markerIds: ranges.map(function(range) {\n                    return session.addMarker(range, markerType, \"text\");\n                })\n            };\n        }, 50);\n    };\n    this.$highlightTags = function() {\n        if (this.$highlightTagPending)\n            return;\n        var self = this;\n        this.$highlightTagPending = true;\n        setTimeout(function() {\n            self.$highlightTagPending = false;\n            \n            var session = self.session;\n            if (!session || !session.bgTokenizer) return;\n            \n            var pos = self.getCursorPosition();\n            var iterator = new TokenIterator(self.session, pos.row, pos.column);\n            var token = iterator.getCurrentToken();\n            \n            if (!token || !/\\b(?:tag-open|tag-name)/.test(token.type)) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n                return;\n            }\n            \n            if (token.type.indexOf(\"tag-open\") != -1) {\n                token = iterator.stepForward();\n                if (!token)\n                    return;\n            }\n            \n            var tag = token.value;\n            var depth = 0;\n            var prevToken = iterator.stepBackward();\n            \n            if (prevToken.value == '<'){\n                do {\n                    prevToken = token;\n                    token = iterator.stepForward();\n                    \n                    if (token && token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                        if (prevToken.value === '<'){\n                            depth++;\n                        } else if (prevToken.value === '</'){\n                            depth--;\n                        }\n                    }\n                    \n                } while (token && depth >= 0);\n            } else {\n                do {\n                    token = prevToken;\n                    prevToken = iterator.stepBackward();\n                    \n                    if (token && token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                        if (prevToken.value === '<') {\n                            depth++;\n                        } else if (prevToken.value === '</') {\n                            depth--;\n                        }\n                    }\n                } while (prevToken && depth <= 0);\n                iterator.stepForward();\n            }\n            \n            if (!token) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n                return;\n            }\n            \n            var row = iterator.getCurrentTokenRow();\n            var column = iterator.getCurrentTokenColumn();\n            var range = new Range(row, column, row, column+token.value.length);\n            var sbm = session.$backMarkers[session.$tagHighlight];\n            if (session.$tagHighlight && sbm != undefined && range.compareRange(sbm.range) !== 0) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n            }\n            \n            if (!session.$tagHighlight)\n                session.$tagHighlight = session.addMarker(range, \"ace_bracket\", \"text\");\n        }, 50);\n    };\n    this.focus = function() {\n        var _self = this;\n        setTimeout(function() {\n            if (!_self.isFocused())\n                _self.textInput.focus();\n        });\n        this.textInput.focus();\n    };\n    this.isFocused = function() {\n        return this.textInput.isFocused();\n    };\n    this.blur = function() {\n        this.textInput.blur();\n    };\n    this.onFocus = function(e) {\n        if (this.$isFocused)\n            return;\n        this.$isFocused = true;\n        this.renderer.showCursor();\n        this.renderer.visualizeFocus();\n        this._emit(\"focus\", e);\n    };\n    this.onBlur = function(e) {\n        if (!this.$isFocused)\n            return;\n        this.$isFocused = false;\n        this.renderer.hideCursor();\n        this.renderer.visualizeBlur();\n        this._emit(\"blur\", e);\n    };\n\n    this.$cursorChange = function() {\n        this.renderer.updateCursor();\n    };\n    this.onDocumentChange = function(delta) {\n        var wrap = this.session.$useWrapMode;\n        var lastRow = (delta.start.row == delta.end.row ? delta.end.row : Infinity);\n        this.renderer.updateLines(delta.start.row, lastRow, wrap);\n\n        this._signal(\"change\", delta);\n        this.$cursorChange();\n        this.$updateHighlightActiveLine();\n    };\n\n    this.onTokenizerUpdate = function(e) {\n        var rows = e.data;\n        this.renderer.updateLines(rows.first, rows.last);\n    };\n\n\n    this.onScrollTopChange = function() {\n        this.renderer.scrollToY(this.session.getScrollTop());\n    };\n\n    this.onScrollLeftChange = function() {\n        this.renderer.scrollToX(this.session.getScrollLeft());\n    };\n    this.onCursorChange = function() {\n        this.$cursorChange();\n\n        this.$highlightBrackets();\n        this.$highlightTags();\n        this.$updateHighlightActiveLine();\n        this._signal(\"changeSelection\");\n    };\n\n    this.$updateHighlightActiveLine = function() {\n        var session = this.getSession();\n\n        var highlight;\n        if (this.$highlightActiveLine) {\n            if (this.$selectionStyle != \"line\" || !this.selection.isMultiLine())\n                highlight = this.getCursorPosition();\n            if (this.renderer.theme && this.renderer.theme.$selectionColorConflict && !this.selection.isEmpty())\n                highlight = false;\n            if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1))\n                highlight = false;\n        }\n\n        if (session.$highlightLineMarker && !highlight) {\n            session.removeMarker(session.$highlightLineMarker.id);\n            session.$highlightLineMarker = null;\n        } else if (!session.$highlightLineMarker && highlight) {\n            var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);\n            range.id = session.addMarker(range, \"ace_active-line\", \"screenLine\");\n            session.$highlightLineMarker = range;\n        } else if (highlight) {\n            session.$highlightLineMarker.start.row = highlight.row;\n            session.$highlightLineMarker.end.row = highlight.row;\n            session.$highlightLineMarker.start.column = highlight.column;\n            session._signal(\"changeBackMarker\");\n        }\n    };\n\n    this.onSelectionChange = function(e) {\n        var session = this.session;\n\n        if (session.$selectionMarker) {\n            session.removeMarker(session.$selectionMarker);\n        }\n        session.$selectionMarker = null;\n\n        if (!this.selection.isEmpty()) {\n            var range = this.selection.getRange();\n            var style = this.getSelectionStyle();\n            session.$selectionMarker = session.addMarker(range, \"ace_selection\", style);\n        } else {\n            this.$updateHighlightActiveLine();\n        }\n\n        var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();\n        this.session.highlight(re);\n\n        this._signal(\"changeSelection\");\n    };\n\n    this.$getSelectionHighLightRegexp = function() {\n        var session = this.session;\n\n        var selection = this.getSelectionRange();\n        if (selection.isEmpty() || selection.isMultiLine())\n            return;\n\n        var startColumn = selection.start.column;\n        var endColumn = selection.end.column;\n        var line = session.getLine(selection.start.row);\n        \n        var needle = line.substring(startColumn, endColumn);\n        if (needle.length > 5000 || !/[\\w\\d]/.test(needle))\n            return;\n\n        var re = this.$search.$assembleRegExp({\n            wholeWord: true,\n            caseSensitive: true,\n            needle: needle\n        });\n        \n        var wordWithBoundary = line.substring(startColumn - 1, endColumn + 1);\n        if (!re.test(wordWithBoundary))\n            return;\n        \n        return re;\n    };\n\n\n    this.onChangeFrontMarker = function() {\n        this.renderer.updateFrontMarkers();\n    };\n\n    this.onChangeBackMarker = function() {\n        this.renderer.updateBackMarkers();\n    };\n\n\n    this.onChangeBreakpoint = function() {\n        this.renderer.updateBreakpoints();\n    };\n\n    this.onChangeAnnotation = function() {\n        this.renderer.setAnnotations(this.session.getAnnotations());\n    };\n\n\n    this.onChangeMode = function(e) {\n        this.renderer.updateText();\n        this._emit(\"changeMode\", e);\n    };\n\n\n    this.onChangeWrapLimit = function() {\n        this.renderer.updateFull();\n    };\n\n    this.onChangeWrapMode = function() {\n        this.renderer.onResize(true);\n    };\n\n\n    this.onChangeFold = function() {\n        this.$updateHighlightActiveLine();\n        this.renderer.updateFull();\n    };\n    this.getSelectedText = function() {\n        return this.session.getTextRange(this.getSelectionRange());\n    };\n    this.getCopyText = function() {\n        var text = this.getSelectedText();\n        var nl = this.session.doc.getNewLineCharacter();\n        var copyLine= false;\n        if (!text && this.$copyWithEmptySelection) {\n            copyLine = true;\n            var ranges = this.selection.getAllRanges();\n            for (var i = 0; i < ranges.length; i++) {\n                var range = ranges[i];\n                if (i && ranges[i - 1].start.row == range.start.row)\n                    continue;\n                text += this.session.getLine(range.start.row) + nl;\n            }\n        }\n        var e = {text: text};\n        this._signal(\"copy\", e);\n        clipboard.lineMode = copyLine ? e.text : \"\";\n        return e.text;\n    };\n    this.onCopy = function() {\n        this.commands.exec(\"copy\", this);\n    };\n    this.onCut = function() {\n        this.commands.exec(\"cut\", this);\n    };\n    this.onPaste = function(text, event) {\n        var e = {text: text, event: event};\n        this.commands.exec(\"paste\", this, e);\n    };\n    \n    this.$handlePaste = function(e) {\n        if (typeof e == \"string\") \n            e = {text: e};\n        this._signal(\"paste\", e);\n        var text = e.text;\n\n        var lineMode = text == clipboard.lineMode;\n        var session = this.session;\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {\n            if (lineMode)\n                session.insert({ row: this.selection.lead.row, column: 0 }, text);\n            else\n                this.insert(text);\n        } else if (lineMode) {\n            this.selection.rangeList.ranges.forEach(function(range) {\n                session.insert({ row: range.start.row, column: 0 }, text);\n            });\n        } else {\n            var lines = text.split(/\\r\\n|\\r|\\n/);\n            var ranges = this.selection.rangeList.ranges;\n    \n            var isFullLine = lines.length == 2 && (!lines[0] || !lines[1]);\n            if (lines.length != ranges.length || isFullLine)\n                return this.commands.exec(\"insertstring\", this, text);\n    \n            for (var i = ranges.length; i--;) {\n                var range = ranges[i];\n                if (!range.isEmpty())\n                    session.remove(range);\n    \n                session.insert(range.start, lines[i]);\n            }\n        }\n    };\n\n    this.execCommand = function(command, args) {\n        return this.commands.exec(command, this, args);\n    };\n    this.insert = function(text, pasted) {\n        var session = this.session;\n        var mode = session.getMode();\n        var cursor = this.getCursorPosition();\n\n        if (this.getBehavioursEnabled() && !pasted) {\n            var transform = mode.transformAction(session.getState(cursor.row), 'insertion', this, session, text);\n            if (transform) {\n                if (text !== transform.text) {\n                    if (!this.inVirtualSelectionMode) {\n                        this.session.mergeUndoDeltas = false;\n                        this.mergeNextCommand = false;\n                    }\n                }\n                text = transform.text;\n\n            }\n        }\n        \n        if (text == \"\\t\")\n            text = this.session.getTabString();\n        if (!this.selection.isEmpty()) {\n            var range = this.getSelectionRange();\n            cursor = this.session.remove(range);\n            this.clearSelection();\n        }\n        else if (this.session.getOverwrite() && text.indexOf(\"\\n\") == -1) {\n            var range = new Range.fromPoints(cursor, cursor);\n            range.end.column += text.length;\n            this.session.remove(range);\n        }\n\n        if (text == \"\\n\" || text == \"\\r\\n\") {\n            var line = session.getLine(cursor.row);\n            if (cursor.column > line.search(/\\S|$/)) {\n                var d = line.substr(cursor.column).search(/\\S|$/);\n                session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d);\n            }\n        }\n        this.clearSelection();\n\n        var start = cursor.column;\n        var lineState = session.getState(cursor.row);\n        var line = session.getLine(cursor.row);\n        var shouldOutdent = mode.checkOutdent(lineState, line, text);\n        session.insert(cursor, text);\n\n        if (transform && transform.selection) {\n            if (transform.selection.length == 2) { // Transform relative to the current column\n                this.selection.setSelectionRange(\n                    new Range(cursor.row, start + transform.selection[0],\n                              cursor.row, start + transform.selection[1]));\n            } else { // Transform relative to the current row.\n                this.selection.setSelectionRange(\n                    new Range(cursor.row + transform.selection[0],\n                              transform.selection[1],\n                              cursor.row + transform.selection[2],\n                              transform.selection[3]));\n            }\n        }\n\n        if (session.getDocument().isNewLine(text)) {\n            var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());\n\n            session.insert({row: cursor.row+1, column: 0}, lineIndent);\n        }\n        if (shouldOutdent)\n            mode.autoOutdent(lineState, session, cursor.row);\n    };\n\n    this.onTextInput = function(text, composition) {\n        if (!composition)\n            return this.keyBinding.onTextInput(text);\n        \n        this.startOperation({command: { name: \"insertstring\" }});\n        var applyComposition = this.applyComposition.bind(this, text, composition);\n        if (this.selection.rangeCount)\n            this.forEachSelection(applyComposition);\n        else\n            applyComposition();\n        this.endOperation();\n    };\n    \n    this.applyComposition = function(text, composition) {\n        if (composition.extendLeft || composition.extendRight) {\n            var r = this.selection.getRange();\n            r.start.column -= composition.extendLeft;\n            r.end.column += composition.extendRight;\n            this.selection.setRange(r);\n            if (!text && !r.isEmpty())\n                this.remove();\n        }\n        if (text || !this.selection.isEmpty())\n            this.insert(text, true);\n        if (composition.restoreStart || composition.restoreEnd) {\n            var r = this.selection.getRange();\n            r.start.column -= composition.restoreStart;\n            r.end.column -= composition.restoreEnd;\n            this.selection.setRange(r);\n        }\n    };\n\n    this.onCommandKey = function(e, hashId, keyCode) {\n        return this.keyBinding.onCommandKey(e, hashId, keyCode);\n    };\n    this.setOverwrite = function(overwrite) {\n        this.session.setOverwrite(overwrite);\n    };\n    this.getOverwrite = function() {\n        return this.session.getOverwrite();\n    };\n    this.toggleOverwrite = function() {\n        this.session.toggleOverwrite();\n    };\n    this.setScrollSpeed = function(speed) {\n        this.setOption(\"scrollSpeed\", speed);\n    };\n    this.getScrollSpeed = function() {\n        return this.getOption(\"scrollSpeed\");\n    };\n    this.setDragDelay = function(dragDelay) {\n        this.setOption(\"dragDelay\", dragDelay);\n    };\n    this.getDragDelay = function() {\n        return this.getOption(\"dragDelay\");\n    };\n    this.setSelectionStyle = function(val) {\n        this.setOption(\"selectionStyle\", val);\n    };\n    this.getSelectionStyle = function() {\n        return this.getOption(\"selectionStyle\");\n    };\n    this.setHighlightActiveLine = function(shouldHighlight) {\n        this.setOption(\"highlightActiveLine\", shouldHighlight);\n    };\n    this.getHighlightActiveLine = function() {\n        return this.getOption(\"highlightActiveLine\");\n    };\n    this.setHighlightGutterLine = function(shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function() {\n        return this.getOption(\"highlightGutterLine\");\n    };\n    this.setHighlightSelectedWord = function(shouldHighlight) {\n        this.setOption(\"highlightSelectedWord\", shouldHighlight);\n    };\n    this.getHighlightSelectedWord = function() {\n        return this.$highlightSelectedWord;\n    };\n\n    this.setAnimatedScroll = function(shouldAnimate){\n        this.renderer.setAnimatedScroll(shouldAnimate);\n    };\n\n    this.getAnimatedScroll = function(){\n        return this.renderer.getAnimatedScroll();\n    };\n    this.setShowInvisibles = function(showInvisibles) {\n        this.renderer.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function() {\n        return this.renderer.getShowInvisibles();\n    };\n\n    this.setDisplayIndentGuides = function(display) {\n        this.renderer.setDisplayIndentGuides(display);\n    };\n\n    this.getDisplayIndentGuides = function() {\n        return this.renderer.getDisplayIndentGuides();\n    };\n    this.setShowPrintMargin = function(showPrintMargin) {\n        this.renderer.setShowPrintMargin(showPrintMargin);\n    };\n    this.getShowPrintMargin = function() {\n        return this.renderer.getShowPrintMargin();\n    };\n    this.setPrintMarginColumn = function(showPrintMargin) {\n        this.renderer.setPrintMarginColumn(showPrintMargin);\n    };\n    this.getPrintMarginColumn = function() {\n        return this.renderer.getPrintMarginColumn();\n    };\n    this.setReadOnly = function(readOnly) {\n        this.setOption(\"readOnly\", readOnly);\n    };\n    this.getReadOnly = function() {\n        return this.getOption(\"readOnly\");\n    };\n    this.setBehavioursEnabled = function (enabled) {\n        this.setOption(\"behavioursEnabled\", enabled);\n    };\n    this.getBehavioursEnabled = function () {\n        return this.getOption(\"behavioursEnabled\");\n    };\n    this.setWrapBehavioursEnabled = function (enabled) {\n        this.setOption(\"wrapBehavioursEnabled\", enabled);\n    };\n    this.getWrapBehavioursEnabled = function () {\n        return this.getOption(\"wrapBehavioursEnabled\");\n    };\n    this.setShowFoldWidgets = function(show) {\n        this.setOption(\"showFoldWidgets\", show);\n\n    };\n    this.getShowFoldWidgets = function() {\n        return this.getOption(\"showFoldWidgets\");\n    };\n\n    this.setFadeFoldWidgets = function(fade) {\n        this.setOption(\"fadeFoldWidgets\", fade);\n    };\n\n    this.getFadeFoldWidgets = function() {\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n    this.remove = function(dir) {\n        if (this.selection.isEmpty()){\n            if (dir == \"left\")\n                this.selection.selectLeft();\n            else\n                this.selection.selectRight();\n        }\n\n        var range = this.getSelectionRange();\n        if (this.getBehavioursEnabled()) {\n            var session = this.session;\n            var state = session.getState(range.start.row);\n            var new_range = session.getMode().transformAction(state, 'deletion', this, session, range);\n\n            if (range.end.column === 0) {\n                var text = session.getTextRange(range);\n                if (text[text.length - 1] == \"\\n\") {\n                    var line = session.getLine(range.end.row);\n                    if (/^\\s+$/.test(line)) {\n                        range.end.column = line.length;\n                    }\n                }\n            }\n            if (new_range)\n                range = new_range;\n        }\n\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.removeWordRight = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectWordRight();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeWordLeft = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectWordLeft();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineStart = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectLineStart();\n        if (this.selection.isEmpty())\n            this.selection.selectLeft();\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineEnd = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectLineEnd();\n\n        var range = this.getSelectionRange();\n        if (range.start.column == range.end.column && range.start.row == range.end.row) {\n            range.end.column = 0;\n            range.end.row++;\n        }\n\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.splitLine = function() {\n        if (!this.selection.isEmpty()) {\n            this.session.remove(this.getSelectionRange());\n            this.clearSelection();\n        }\n\n        var cursor = this.getCursorPosition();\n        this.insert(\"\\n\");\n        this.moveCursorToPosition(cursor);\n    };\n    this.transposeLetters = function() {\n        if (!this.selection.isEmpty()) {\n            return;\n        }\n\n        var cursor = this.getCursorPosition();\n        var column = cursor.column;\n        if (column === 0)\n            return;\n\n        var line = this.session.getLine(cursor.row);\n        var swap, range;\n        if (column < line.length) {\n            swap = line.charAt(column) + line.charAt(column-1);\n            range = new Range(cursor.row, column-1, cursor.row, column+1);\n        }\n        else {\n            swap = line.charAt(column-1) + line.charAt(column-2);\n            range = new Range(cursor.row, column-2, cursor.row, column);\n        }\n        this.session.replace(range, swap);\n        this.session.selection.moveToPosition(range.end);\n    };\n    this.toLowerCase = function() {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toLowerCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.toUpperCase = function() {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toUpperCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.indent = function() {\n        var session = this.session;\n        var range = this.getSelectionRange();\n\n        if (range.start.row < range.end.row) {\n            var rows = this.$getSelectedRows();\n            session.indentRows(rows.first, rows.last, \"\\t\");\n            return;\n        } else if (range.start.column < range.end.column) {\n            var text = session.getTextRange(range);\n            if (!/^\\s+$/.test(text)) {\n                var rows = this.$getSelectedRows();\n                session.indentRows(rows.first, rows.last, \"\\t\");\n                return;\n            }\n        }\n        \n        var line = session.getLine(range.start.row);\n        var position = range.start;\n        var size = session.getTabSize();\n        var column = session.documentToScreenColumn(position.row, position.column);\n\n        if (this.session.getUseSoftTabs()) {\n            var count = (size - column % size);\n            var indentString = lang.stringRepeat(\" \", count);\n        } else {\n            var count = column % size;\n            while (line[range.start.column - 1] == \" \" && count) {\n                range.start.column--;\n                count--;\n            }\n            this.selection.setSelectionRange(range);\n            indentString = \"\\t\";\n        }\n        return this.insert(indentString);\n    };\n    this.blockIndent = function() {\n        var rows = this.$getSelectedRows();\n        this.session.indentRows(rows.first, rows.last, \"\\t\");\n    };\n    this.blockOutdent = function() {\n        var selection = this.session.getSelection();\n        this.session.outdentRows(selection.getRange());\n    };\n    this.sortLines = function() {\n        var rows = this.$getSelectedRows();\n        var session = this.session;\n\n        var lines = [];\n        for (var i = rows.first; i <= rows.last; i++)\n            lines.push(session.getLine(i));\n\n        lines.sort(function(a, b) {\n            if (a.toLowerCase() < b.toLowerCase()) return -1;\n            if (a.toLowerCase() > b.toLowerCase()) return 1;\n            return 0;\n        });\n\n        var deleteRange = new Range(0, 0, 0, 0);\n        for (var i = rows.first; i <= rows.last; i++) {\n            var line = session.getLine(i);\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            deleteRange.end.column = line.length;\n            session.replace(deleteRange, lines[i-rows.first]);\n        }\n    };\n    this.toggleCommentLines = function() {\n        var state = this.session.getState(this.getCursorPosition().row);\n        var rows = this.$getSelectedRows();\n        this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);\n    };\n\n    this.toggleBlockComment = function() {\n        var cursor = this.getCursorPosition();\n        var state = this.session.getState(cursor.row);\n        var range = this.getSelectionRange();\n        this.session.getMode().toggleBlockComment(state, this.session, range, cursor);\n    };\n    this.getNumberAt = function(row, column) {\n        var _numberRx = /[\\-]?[0-9]+(?:\\.[0-9]+)?/g;\n        _numberRx.lastIndex = 0;\n\n        var s = this.session.getLine(row);\n        while (_numberRx.lastIndex < column) {\n            var m = _numberRx.exec(s);\n            if(m.index <= column && m.index+m[0].length >= column){\n                var number = {\n                    value: m[0],\n                    start: m.index,\n                    end: m.index+m[0].length\n                };\n                return number;\n            }\n        }\n        return null;\n    };\n    this.modifyNumber = function(amount) {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        var charRange = new Range(row, column-1, row, column);\n\n        var c = this.session.getTextRange(charRange);\n        if (!isNaN(parseFloat(c)) && isFinite(c)) {\n            var nr = this.getNumberAt(row, column);\n            if (nr) {\n                var fp = nr.value.indexOf(\".\") >= 0 ? nr.start + nr.value.indexOf(\".\") + 1 : nr.end;\n                var decimals = nr.start + nr.value.length - fp;\n\n                var t = parseFloat(nr.value);\n                t *= Math.pow(10, decimals);\n\n\n                if(fp !== nr.end && column < fp){\n                    amount *= Math.pow(10, nr.end - column - 1);\n                } else {\n                    amount *= Math.pow(10, nr.end - column);\n                }\n\n                t += amount;\n                t /= Math.pow(10, decimals);\n                var nnr = t.toFixed(decimals);\n                var replaceRange = new Range(row, nr.start, row, nr.end);\n                this.session.replace(replaceRange, nnr);\n                this.moveCursorTo(row, Math.max(nr.start +1, column + nnr.length - nr.value.length));\n\n            }\n        } else {\n            this.toggleWord();\n        }\n    };\n\n    this.$toggleWordPairs = [\n        [\"first\", \"last\"],\n        [\"true\", \"false\"],\n        [\"yes\", \"no\"],\n        [\"width\", \"height\"],\n        [\"top\", \"bottom\"],\n        [\"right\", \"left\"],\n        [\"on\", \"off\"],\n        [\"x\", \"y\"],\n        [\"get\", \"set\"],\n        [\"max\", \"min\"],\n        [\"horizontal\", \"vertical\"],\n        [\"show\", \"hide\"],\n        [\"add\", \"remove\"],\n        [\"up\", \"down\"],\n        [\"before\", \"after\"],\n        [\"even\", \"odd\"],\n        [\"in\", \"out\"],\n        [\"inside\", \"outside\"],\n        [\"next\", \"previous\"],\n        [\"increase\", \"decrease\"],\n        [\"attach\", \"detach\"],\n        [\"&&\", \"||\"],\n        [\"==\", \"!=\"]\n    ];\n\n    this.toggleWord = function () {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        this.selection.selectWord();\n        var currentState = this.getSelectedText();\n        var currWordStart = this.selection.getWordRange().start.column;\n        var wordParts = currentState.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g, '$1 ').split(/\\s/);\n        var delta = column - currWordStart - 1;\n        if (delta < 0) delta = 0;\n        var curLength = 0, itLength = 0;\n        var that = this;\n        if (currentState.match(/[A-Za-z0-9_]+/)) {\n            wordParts.forEach(function (item, i) {\n                itLength = curLength + item.length;\n                if (delta >= curLength && delta <= itLength) {\n                    currentState = item;\n                    that.selection.clearSelection();\n                    that.moveCursorTo(row, curLength + currWordStart);\n                    that.selection.selectTo(row, itLength + currWordStart);\n                }\n                curLength = itLength;\n            });\n        }\n\n        var wordPairs = this.$toggleWordPairs;\n        var reg;\n        for (var i = 0; i < wordPairs.length; i++) {\n            var item = wordPairs[i];\n            for (var j = 0; j <= 1; j++) {\n                var negate = +!j;\n                var firstCondition = currentState.match(new RegExp('^\\\\s?_?(' + lang.escapeRegExp(item[j]) + ')\\\\s?$', 'i'));\n                if (firstCondition) {\n                    var secondCondition = currentState.match(new RegExp('([_]|^|\\\\s)(' + lang.escapeRegExp(firstCondition[1]) + ')($|\\\\s)', 'g'));\n                    if (secondCondition) {\n                        reg = currentState.replace(new RegExp(lang.escapeRegExp(item[j]), 'i'), function (result) {\n                            var res = item[negate];\n                            if (result.toUpperCase() == result) {\n                                res = res.toUpperCase();\n                            } else if (result.charAt(0).toUpperCase() == result.charAt(0)) {\n                                res = res.substr(0, 0) + item[negate].charAt(0).toUpperCase() + res.substr(1);\n                            }\n                            return res;\n                        });\n                        this.insert(reg);\n                        reg = \"\";\n                    }\n                }\n            }\n        }\n    };\n    this.removeLines = function() {\n        var rows = this.$getSelectedRows();\n        this.session.removeFullLines(rows.first, rows.last);\n        this.clearSelection();\n    };\n\n    this.duplicateSelection = function() {\n        var sel = this.selection;\n        var doc = this.session;\n        var range = sel.getRange();\n        var reverse = sel.isBackwards();\n        if (range.isEmpty()) {\n            var row = range.start.row;\n            doc.duplicateLines(row, row);\n        } else {\n            var point = reverse ? range.start : range.end;\n            var endPoint = doc.insert(point, doc.getTextRange(range), false);\n            range.start = point;\n            range.end = endPoint;\n\n            sel.setSelectionRange(range, reverse);\n        }\n    };\n    this.moveLinesDown = function() {\n        this.$moveLines(1, false);\n    };\n    this.moveLinesUp = function() {\n        this.$moveLines(-1, false);\n    };\n    this.moveText = function(range, toPosition, copy) {\n        return this.session.moveText(range, toPosition, copy);\n    };\n    this.copyLinesUp = function() {\n        this.$moveLines(-1, true);\n    };\n    this.copyLinesDown = function() {\n        this.$moveLines(1, true);\n    };\n    this.$moveLines = function(dir, copy) {\n        var rows, moved;\n        var selection = this.selection;\n        if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {\n            var range = selection.toOrientedRange();\n            rows = this.$getSelectedRows(range);\n            moved = this.session.$moveLines(rows.first, rows.last, copy ? 0 : dir);\n            if (copy && dir == -1) moved = 0;\n            range.moveBy(moved, 0);\n            selection.fromOrientedRange(range);\n        } else {\n            var ranges = selection.rangeList.ranges;\n            selection.rangeList.detach(this.session);\n            this.inVirtualSelectionMode = true;\n            \n            var diff = 0;\n            var totalDiff = 0;\n            var l = ranges.length;\n            for (var i = 0; i < l; i++) {\n                var rangeIndex = i;\n                ranges[i].moveBy(diff, 0);\n                rows = this.$getSelectedRows(ranges[i]);\n                var first = rows.first;\n                var last = rows.last;\n                while (++i < l) {\n                    if (totalDiff) ranges[i].moveBy(totalDiff, 0);\n                    var subRows = this.$getSelectedRows(ranges[i]);\n                    if (copy && subRows.first != last)\n                        break;\n                    else if (!copy && subRows.first > last + 1)\n                        break;\n                    last = subRows.last;\n                }\n                i--;\n                diff = this.session.$moveLines(first, last, copy ? 0 : dir);\n                if (copy && dir == -1) rangeIndex = i + 1;\n                while (rangeIndex <= i) {\n                    ranges[rangeIndex].moveBy(diff, 0);\n                    rangeIndex++;\n                }\n                if (!copy) diff = 0;\n                totalDiff += diff;\n            }\n            \n            selection.fromOrientedRange(selection.ranges[0]);\n            selection.rangeList.attach(this.session);\n            this.inVirtualSelectionMode = false;\n        }\n    };\n    this.$getSelectedRows = function(range) {\n        range = (range || this.getSelectionRange()).collapseRows();\n\n        return {\n            first: this.session.getRowFoldStart(range.start.row),\n            last: this.session.getRowFoldEnd(range.end.row)\n        };\n    };\n\n    this.onCompositionStart = function(compositionState) {\n        this.renderer.showComposition(compositionState);\n    };\n\n    this.onCompositionUpdate = function(text) {\n        this.renderer.setCompositionText(text);\n    };\n\n    this.onCompositionEnd = function() {\n        this.renderer.hideComposition();\n    };\n    this.getFirstVisibleRow = function() {\n        return this.renderer.getFirstVisibleRow();\n    };\n    this.getLastVisibleRow = function() {\n        return this.renderer.getLastVisibleRow();\n    };\n    this.isRowVisible = function(row) {\n        return (row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow());\n    };\n    this.isRowFullyVisible = function(row) {\n        return (row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow());\n    };\n    this.$getVisibleRowCount = function() {\n        return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;\n    };\n\n    this.$moveByPage = function(dir, select) {\n        var renderer = this.renderer;\n        var config = this.renderer.layerConfig;\n        var rows = dir * Math.floor(config.height / config.lineHeight);\n\n        if (select === true) {\n            this.selection.$moveSelection(function(){\n                this.moveCursorBy(rows, 0);\n            });\n        } else if (select === false) {\n            this.selection.moveCursorBy(rows, 0);\n            this.selection.clearSelection();\n        }\n\n        var scrollTop = renderer.scrollTop;\n\n        renderer.scrollBy(0, rows * config.lineHeight);\n        if (select != null)\n            renderer.scrollCursorIntoView(null, 0.5);\n\n        renderer.animateScrolling(scrollTop);\n    };\n    this.selectPageDown = function() {\n        this.$moveByPage(1, true);\n    };\n    this.selectPageUp = function() {\n        this.$moveByPage(-1, true);\n    };\n    this.gotoPageDown = function() {\n       this.$moveByPage(1, false);\n    };\n    this.gotoPageUp = function() {\n        this.$moveByPage(-1, false);\n    };\n    this.scrollPageDown = function() {\n        this.$moveByPage(1);\n    };\n    this.scrollPageUp = function() {\n        this.$moveByPage(-1);\n    };\n    this.scrollToRow = function(row) {\n        this.renderer.scrollToRow(row);\n    };\n    this.scrollToLine = function(line, center, animate, callback) {\n        this.renderer.scrollToLine(line, center, animate, callback);\n    };\n    this.centerSelection = function() {\n        var range = this.getSelectionRange();\n        var pos = {\n            row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),\n            column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)\n        };\n        this.renderer.alignCursor(pos, 0.5);\n    };\n    this.getCursorPosition = function() {\n        return this.selection.getCursor();\n    };\n    this.getCursorPositionScreen = function() {\n        return this.session.documentToScreenPosition(this.getCursorPosition());\n    };\n    this.getSelectionRange = function() {\n        return this.selection.getRange();\n    };\n    this.selectAll = function() {\n        this.selection.selectAll();\n    };\n    this.clearSelection = function() {\n        this.selection.clearSelection();\n    };\n    this.moveCursorTo = function(row, column) {\n        this.selection.moveCursorTo(row, column);\n    };\n    this.moveCursorToPosition = function(pos) {\n        this.selection.moveCursorToPosition(pos);\n    };\n    this.jumpToMatching = function(select, expand) {\n        var cursor = this.getCursorPosition();\n        var iterator = new TokenIterator(this.session, cursor.row, cursor.column);\n        var prevToken = iterator.getCurrentToken();\n        var token = prevToken || iterator.stepForward();\n\n        if (!token) return;\n        var matchType;\n        var found = false;\n        var depth = {};\n        var i = cursor.column - token.start;\n        var bracketType;\n        var brackets = {\n            \")\": \"(\",\n            \"(\": \"(\",\n            \"]\": \"[\",\n            \"[\": \"[\",\n            \"{\": \"{\",\n            \"}\": \"{\"\n        };\n        \n        do {\n            if (token.value.match(/[{}()\\[\\]]/g)) {\n                for (; i < token.value.length && !found; i++) {\n                    if (!brackets[token.value[i]]) {\n                        continue;\n                    }\n\n                    bracketType = brackets[token.value[i]] + '.' + token.type.replace(\"rparen\", \"lparen\");\n\n                    if (isNaN(depth[bracketType])) {\n                        depth[bracketType] = 0;\n                    }\n\n                    switch (token.value[i]) {\n                        case '(':\n                        case '[':\n                        case '{':\n                            depth[bracketType]++;\n                            break;\n                        case ')':\n                        case ']':\n                        case '}':\n                            depth[bracketType]--;\n\n                            if (depth[bracketType] === -1) {\n                                matchType = 'bracket';\n                                found = true;\n                            }\n                        break;\n                    }\n                }\n            }\n            else if (token.type.indexOf('tag-name') !== -1) {\n                if (isNaN(depth[token.value])) {\n                    depth[token.value] = 0;\n                }\n                \n                if (prevToken.value === '<') {\n                    depth[token.value]++;\n                }\n                else if (prevToken.value === '</') {\n                    depth[token.value]--;\n                }\n                \n                if (depth[token.value] === -1) {\n                    matchType = 'tag';\n                    found = true;\n                }\n            }\n\n            if (!found) {\n                prevToken = token;\n                token = iterator.stepForward();\n                i = 0;\n            }\n        } while (token && !found);\n        if (!matchType)\n            return;\n\n        var range, pos;\n        if (matchType === 'bracket') {\n            range = this.session.getBracketRange(cursor);\n            if (!range) {\n                range = new Range(\n                    iterator.getCurrentTokenRow(),\n                    iterator.getCurrentTokenColumn() + i - 1,\n                    iterator.getCurrentTokenRow(),\n                    iterator.getCurrentTokenColumn() + i - 1\n                );\n                pos = range.start;\n                if (expand || pos.row === cursor.row && Math.abs(pos.column - cursor.column) < 2)\n                    range = this.session.getBracketRange(pos);\n            }\n        }\n        else if (matchType === 'tag') {\n            if (token && token.type.indexOf('tag-name') !== -1) \n                var tag = token.value;\n            else\n                return;\n\n            range = new Range(\n                iterator.getCurrentTokenRow(),\n                iterator.getCurrentTokenColumn() - 2,\n                iterator.getCurrentTokenRow(),\n                iterator.getCurrentTokenColumn() - 2\n            );\n            if (range.compare(cursor.row, cursor.column) === 0) {\n                found = false;\n                do {\n                    token = prevToken;\n                    prevToken = iterator.stepBackward();\n                    \n                    if (prevToken) {\n                        if (prevToken.type.indexOf('tag-close') !== -1) {\n                            range.setEnd(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);\n                        }\n\n                        if (token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                            if (prevToken.value === '<') {\n                                depth[tag]++;\n                            }\n                            else if (prevToken.value === '</') {\n                                depth[tag]--;\n                            }\n                            \n                            if (depth[tag] === 0)\n                                found = true;\n                        }\n                    }\n                } while (prevToken && !found);\n            }\n            if (token && token.type.indexOf('tag-name')) {\n                pos = range.start;\n                if (pos.row == cursor.row && Math.abs(pos.column - cursor.column) < 2)\n                    pos = range.end;\n            }\n        }\n\n        pos = range && range.cursor || pos;\n        if (pos) {\n            if (select) {\n                if (range && expand) {\n                    this.selection.setRange(range);\n                } else if (range && range.isEqual(this.getSelectionRange())) {\n                    this.clearSelection();\n                } else {\n                    this.selection.selectTo(pos.row, pos.column);\n                }\n            } else {\n                this.selection.moveTo(pos.row, pos.column);\n            }\n        }\n    };\n    this.gotoLine = function(lineNumber, column, animate) {\n        this.selection.clearSelection();\n        this.session.unfold({row: lineNumber - 1, column: column || 0});\n        this.exitMultiSelectMode && this.exitMultiSelectMode();\n        this.moveCursorTo(lineNumber - 1, column || 0);\n\n        if (!this.isRowFullyVisible(lineNumber - 1))\n            this.scrollToLine(lineNumber - 1, true, animate);\n    };\n    this.navigateTo = function(row, column) {\n        this.selection.moveTo(row, column);\n    };\n    this.navigateUp = function(times) {\n        if (this.selection.isMultiLine() && !this.selection.isBackwards()) {\n            var selectionStart = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionStart);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(-times || -1, 0);\n    };\n    this.navigateDown = function(times) {\n        if (this.selection.isMultiLine() && this.selection.isBackwards()) {\n            var selectionEnd = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionEnd);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(times || 1, 0);\n    };\n    this.navigateLeft = function(times) {\n        if (!this.selection.isEmpty()) {\n            var selectionStart = this.getSelectionRange().start;\n            this.moveCursorToPosition(selectionStart);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorLeft();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateRight = function(times) {\n        if (!this.selection.isEmpty()) {\n            var selectionEnd = this.getSelectionRange().end;\n            this.moveCursorToPosition(selectionEnd);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorRight();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateLineStart = function() {\n        this.selection.moveCursorLineStart();\n        this.clearSelection();\n    };\n    this.navigateLineEnd = function() {\n        this.selection.moveCursorLineEnd();\n        this.clearSelection();\n    };\n    this.navigateFileEnd = function() {\n        this.selection.moveCursorFileEnd();\n        this.clearSelection();\n    };\n    this.navigateFileStart = function() {\n        this.selection.moveCursorFileStart();\n        this.clearSelection();\n    };\n    this.navigateWordRight = function() {\n        this.selection.moveCursorWordRight();\n        this.clearSelection();\n    };\n    this.navigateWordLeft = function() {\n        this.selection.moveCursorWordLeft();\n        this.clearSelection();\n    };\n    this.replace = function(replacement, options) {\n        if (options)\n            this.$search.set(options);\n\n        var range = this.$search.find(this.session);\n        var replaced = 0;\n        if (!range)\n            return replaced;\n\n        if (this.$tryReplace(range, replacement)) {\n            replaced = 1;\n        }\n\n        this.selection.setSelectionRange(range);\n        this.renderer.scrollSelectionIntoView(range.start, range.end);\n\n        return replaced;\n    };\n    this.replaceAll = function(replacement, options) {\n        if (options) {\n            this.$search.set(options);\n        }\n\n        var ranges = this.$search.findAll(this.session);\n        var replaced = 0;\n        if (!ranges.length)\n            return replaced;\n\n        var selection = this.getSelectionRange();\n        this.selection.moveTo(0, 0);\n\n        for (var i = ranges.length - 1; i >= 0; --i) {\n            if(this.$tryReplace(ranges[i], replacement)) {\n                replaced++;\n            }\n        }\n\n        this.selection.setSelectionRange(selection);\n\n        return replaced;\n    };\n\n    this.$tryReplace = function(range, replacement) {\n        var input = this.session.getTextRange(range);\n        replacement = this.$search.replace(input, replacement);\n        if (replacement !== null) {\n            range.end = this.session.replace(range, replacement);\n            return range;\n        } else {\n            return null;\n        }\n    };\n    this.getLastSearchOptions = function() {\n        return this.$search.getOptions();\n    };\n    this.find = function(needle, options, animate) {\n        if (!options)\n            options = {};\n\n        if (typeof needle == \"string\" || needle instanceof RegExp)\n            options.needle = needle;\n        else if (typeof needle == \"object\")\n            oop.mixin(options, needle);\n\n        var range = this.selection.getRange();\n        if (options.needle == null) {\n            needle = this.session.getTextRange(range)\n                || this.$search.$options.needle;\n            if (!needle) {\n                range = this.session.getWordRange(range.start.row, range.start.column);\n                needle = this.session.getTextRange(range);\n            }\n            this.$search.set({needle: needle});\n        }\n\n        this.$search.set(options);\n        if (!options.start)\n            this.$search.set({start: range});\n\n        var newRange = this.$search.find(this.session);\n        if (options.preventScroll)\n            return newRange;\n        if (newRange) {\n            this.revealRange(newRange, animate);\n            return newRange;\n        }\n        if (options.backwards)\n            range.start = range.end;\n        else\n            range.end = range.start;\n        this.selection.setRange(range);\n    };\n    this.findNext = function(options, animate) {\n        this.find({skipCurrent: true, backwards: false}, options, animate);\n    };\n    this.findPrevious = function(options, animate) {\n        this.find(options, {skipCurrent: true, backwards: true}, animate);\n    };\n\n    this.revealRange = function(range, animate) {\n        this.session.unfold(range);\n        this.selection.setSelectionRange(range);\n\n        var scrollTop = this.renderer.scrollTop;\n        this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);\n        if (animate !== false)\n            this.renderer.animateScrolling(scrollTop);\n    };\n    this.undo = function() {\n        this.session.getUndoManager().undo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.redo = function() {\n        this.session.getUndoManager().redo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.destroy = function() {\n        this.renderer.destroy();\n        this._signal(\"destroy\", this);\n        if (this.session)\n            this.session.destroy();\n        if (this._$emitInputEvent)\n            this._$emitInputEvent.cancel();\n        this.session = null;\n    };\n    this.setAutoScrollEditorIntoView = function(enable) {\n        if (!enable)\n            return;\n        var rect;\n        var self = this;\n        var shouldScroll = false;\n        if (!this.$scrollAnchor)\n            this.$scrollAnchor = document.createElement(\"div\");\n        var scrollAnchor = this.$scrollAnchor;\n        scrollAnchor.style.cssText = \"position:absolute\";\n        this.container.insertBefore(scrollAnchor, this.container.firstChild);\n        var onChangeSelection = this.on(\"changeSelection\", function() {\n            shouldScroll = true;\n        });\n        var onBeforeRender = this.renderer.on(\"beforeRender\", function() {\n            if (shouldScroll)\n                rect = self.renderer.container.getBoundingClientRect();\n        });\n        var onAfterRender = this.renderer.on(\"afterRender\", function() {\n            if (shouldScroll && rect && (self.isFocused()\n                || self.searchBox && self.searchBox.isFocused())\n            ) {\n                var renderer = self.renderer;\n                var pos = renderer.$cursorLayer.$pixelPos;\n                var config = renderer.layerConfig;\n                var top = pos.top - config.offset;\n                if (pos.top >= 0 && top + rect.top < 0) {\n                    shouldScroll = true;\n                } else if (pos.top < config.height &&\n                    pos.top + rect.top + config.lineHeight > window.innerHeight) {\n                    shouldScroll = false;\n                } else {\n                    shouldScroll = null;\n                }\n                if (shouldScroll != null) {\n                    scrollAnchor.style.top = top + \"px\";\n                    scrollAnchor.style.left = pos.left + \"px\";\n                    scrollAnchor.style.height = config.lineHeight + \"px\";\n                    scrollAnchor.scrollIntoView(shouldScroll);\n                }\n                shouldScroll = rect = null;\n            }\n        });\n        this.setAutoScrollEditorIntoView = function(enable) {\n            if (enable)\n                return;\n            delete this.setAutoScrollEditorIntoView;\n            this.off(\"changeSelection\", onChangeSelection);\n            this.renderer.off(\"afterRender\", onAfterRender);\n            this.renderer.off(\"beforeRender\", onBeforeRender);\n        };\n    };\n\n\n    this.$resetCursorStyle = function() {\n        var style = this.$cursorStyle || \"ace\";\n        var cursorLayer = this.renderer.$cursorLayer;\n        if (!cursorLayer)\n            return;\n        cursorLayer.setSmoothBlinking(/smooth/.test(style));\n        cursorLayer.isBlinking = !this.$readOnly && style != \"wide\";\n        dom.setCssClass(cursorLayer.element, \"ace_slim-cursors\", /slim/.test(style));\n    };\n    this.prompt = function(message, options, callback) {\n        var editor = this;\n        config.loadModule(\"./ext/prompt\", function (module) {\n            module.prompt(editor, message, options, callback);\n        });\n    };\n\n}).call(Editor.prototype);\n\n\n\nconfig.defineOptions(Editor.prototype, \"editor\", {\n    selectionStyle: {\n        set: function(style) {\n            this.onSelectionChange();\n            this._signal(\"changeSelectionStyle\", {data: style});\n        },\n        initialValue: \"line\"\n    },\n    highlightActiveLine: {\n        set: function() {this.$updateHighlightActiveLine();},\n        initialValue: true\n    },\n    highlightSelectedWord: {\n        set: function(shouldHighlight) {this.$onSelectionChange();},\n        initialValue: true\n    },\n    readOnly: {\n        set: function(readOnly) {\n            this.textInput.setReadOnly(readOnly);\n            this.$resetCursorStyle(); \n        },\n        initialValue: false\n    },\n    copyWithEmptySelection: {\n        set: function(value) {\n            this.textInput.setCopyWithEmptySelection(value);\n        },\n        initialValue: false\n    },\n    cursorStyle: {\n        set: function(val) { this.$resetCursorStyle(); },\n        values: [\"ace\", \"slim\", \"smooth\", \"wide\"],\n        initialValue: \"ace\"\n    },\n    mergeUndoDeltas: {\n        values: [false, true, \"always\"],\n        initialValue: true\n    },\n    behavioursEnabled: {initialValue: true},\n    wrapBehavioursEnabled: {initialValue: true},\n    autoScrollEditorIntoView: {\n        set: function(val) {this.setAutoScrollEditorIntoView(val);}\n    },\n    keyboardHandler: {\n        set: function(val) { this.setKeyboardHandler(val); },\n        get: function() { return this.$keybindingId; },\n        handlesSet: true\n    },\n    value: {\n        set: function(val) { this.session.setValue(val); },\n        get: function() { return this.getValue(); },\n        handlesSet: true,\n        hidden: true\n    },\n    session: {\n        set: function(val) { this.setSession(val); },\n        get: function() { return this.session; },\n        handlesSet: true,\n        hidden: true\n    },\n    \n    showLineNumbers: {\n        set: function(show) {\n            this.renderer.$gutterLayer.setShowLineNumbers(show);\n            this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER);\n            if (show && this.$relativeLineNumbers)\n                relativeNumberRenderer.attach(this);\n            else\n                relativeNumberRenderer.detach(this);\n        },\n        initialValue: true\n    },\n    relativeLineNumbers: {\n        set: function(value) {\n            if (this.$showLineNumbers && value)\n                relativeNumberRenderer.attach(this);\n            else\n                relativeNumberRenderer.detach(this);\n        }\n    },\n    placeholder: {\n        set: function(message) {\n            if (!this.$updatePlaceholder) {\n                this.$updatePlaceholder = function() {\n                    var value = this.renderer.$composition || this.getValue();\n                    if (value && this.renderer.placeholderNode) {\n                        this.renderer.off(\"afterRender\", this.$updatePlaceholder);\n                        dom.removeCssClass(this.container, \"ace_hasPlaceholder\");\n                        this.renderer.placeholderNode.remove();\n                        this.renderer.placeholderNode = null;\n                    } else if (!value && !this.renderer.placeholderNode) {\n                        this.renderer.on(\"afterRender\", this.$updatePlaceholder);\n                        dom.addCssClass(this.container, \"ace_hasPlaceholder\");\n                        var el = dom.createElement(\"div\");\n                        el.className = \"ace_placeholder\";\n                        el.textContent = this.$placeholder || \"\";\n                        this.renderer.placeholderNode = el;\n                        this.renderer.content.appendChild(this.renderer.placeholderNode);\n                    }\n                }.bind(this);\n                this.on(\"input\", this.$updatePlaceholder);\n            }\n            this.$updatePlaceholder();\n        }\n    },\n\n    hScrollBarAlwaysVisible: \"renderer\",\n    vScrollBarAlwaysVisible: \"renderer\",\n    highlightGutterLine: \"renderer\",\n    animatedScroll: \"renderer\",\n    showInvisibles: \"renderer\",\n    showPrintMargin: \"renderer\",\n    printMarginColumn: \"renderer\",\n    printMargin: \"renderer\",\n    fadeFoldWidgets: \"renderer\",\n    showFoldWidgets: \"renderer\",\n    displayIndentGuides: \"renderer\",\n    showGutter: \"renderer\",\n    fontSize: \"renderer\",\n    fontFamily: \"renderer\",\n    maxLines: \"renderer\",\n    minLines: \"renderer\",\n    scrollPastEnd: \"renderer\",\n    fixedWidthGutter: \"renderer\",\n    theme: \"renderer\",\n    hasCssTransforms: \"renderer\",\n    maxPixelHeight: \"renderer\",\n    useTextareaForIME: \"renderer\",\n\n    scrollSpeed: \"$mouseHandler\",\n    dragDelay: \"$mouseHandler\",\n    dragEnabled: \"$mouseHandler\",\n    focusTimeout: \"$mouseHandler\",\n    tooltipFollowsMouse: \"$mouseHandler\",\n\n    firstLineNumber: \"session\",\n    overwrite: \"session\",\n    newLineMode: \"session\",\n    useWorker: \"session\",\n    useSoftTabs: \"session\",\n    navigateWithinSoftTabs: \"session\",\n    tabSize: \"session\",\n    wrap: \"session\",\n    indentedSoftWrap: \"session\",\n    foldStyle: \"session\",\n    mode: \"session\"\n});\n\n\nvar relativeNumberRenderer = {\n    getText: function(session, row) {\n        return (Math.abs(session.selection.lead.row - row) || (row + 1 + (row < 9 ? \"\\xb7\" : \"\"))) + \"\";\n    },\n    getWidth: function(session, lastLineNumber, config) {\n        return Math.max(\n            lastLineNumber.toString().length,\n            (config.lastRow + 1).toString().length,\n            2\n        ) * config.characterWidth;\n    },\n    update: function(e, editor) {\n        editor.renderer.$loop.schedule(editor.renderer.CHANGE_GUTTER);\n    },\n    attach: function(editor) {\n        editor.renderer.$gutterLayer.$renderer = this;\n        editor.on(\"changeSelection\", this.update);\n        this.update(null, editor);\n    },\n    detach: function(editor) {\n        if (editor.renderer.$gutterLayer.$renderer == this)\n            editor.renderer.$gutterLayer.$renderer = null;\n        editor.off(\"changeSelection\", this.update);\n        this.update(null, editor);\n    }\n};\n\nexports.Editor = Editor;\n});\n\ndefine(\"ace/undomanager\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar UndoManager = function() {\n    this.$maxRev = 0;\n    this.$fromUndo = false;\n    this.reset();\n};\n\n(function() {\n    \n    this.addSession = function(session) {\n        this.$session = session;\n    };\n    this.add = function(delta, allowMerge, session) {\n        if (this.$fromUndo) return;\n        if (delta == this.$lastDelta) return;\n        if (!this.$keepRedoStack) this.$redoStack.length = 0;\n        if (allowMerge === false || !this.lastDeltas) {\n            this.lastDeltas = [];\n            this.$undoStack.push(this.lastDeltas);\n            delta.id = this.$rev = ++this.$maxRev;\n        }\n        if (delta.action == \"remove\" || delta.action == \"insert\")\n            this.$lastDelta = delta;\n        this.lastDeltas.push(delta);\n    };\n    \n    this.addSelection = function(selection, rev) {\n        this.selections.push({\n            value: selection,\n            rev: rev || this.$rev\n        });\n    };\n    \n    this.startNewGroup = function() {\n        this.lastDeltas = null;\n        return this.$rev;\n    };\n    \n    this.markIgnored = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        var stack = this.$undoStack;\n        for (var i = stack.length; i--;) {\n            var delta = stack[i][0];\n            if (delta.id <= from)\n                break;\n            if (delta.id < to)\n                delta.ignore = true;\n        }\n        this.lastDeltas = null;\n    };\n    \n    this.getSelection = function(rev, after) {\n        var stack = this.selections;\n        for (var i = stack.length; i--;) {\n            var selection = stack[i];\n            if (selection.rev < rev) {\n                if (after)\n                    selection = stack[i + 1];\n                return selection;\n            }\n        }\n    };\n    \n    this.getRevision = function() {\n        return this.$rev;\n    };\n    \n    this.getDeltas = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        var stack = this.$undoStack;\n        var end = null, start = 0;\n        for (var i = stack.length; i--;) {\n            var delta = stack[i][0];\n            if (delta.id < to && !end)\n                end = i+1;\n            if (delta.id <= from) {\n                start = i + 1;\n                break;\n            }\n        }\n        return stack.slice(start, end);\n    };\n    \n    this.getChangedRanges = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        \n    };\n    \n    this.getChangedLines = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        \n    };\n\n    this.validateDeltaBoundaries = function(deltaSet, docLength, invertAction) {\n        if (!deltaSet) {\n            return false;\n        }\n        return deltaSet.every(function(delta) {\n            var action = delta.action;\n            if (invertAction && delta.action === \"insert\") action = \"remove\";\n            if (invertAction && delta.action === \"remove\") action = \"insert\";\n            switch(action) {\n                case \"insert\":\n                    return delta.start.row <= docLength;\n                case \"remove\":\n                    return delta.start.row < docLength && delta.end.row < docLength;\n                default:\n                    return true;\n            }\n        });\n    };\n    this.undo = function(session, dontSelect) {\n        this.lastDeltas = null;\n        var stack = this.$undoStack;\n        \n        if (!rearrangeUndoStack(stack, stack.length))\n            return;\n        \n        if (!session)\n            session = this.$session;\n        \n        if (this.$redoStackBaseRev !== this.$rev && this.$redoStack.length)\n            this.$redoStack = [];\n        \n        this.$fromUndo = true;\n        \n        var deltaSet = stack.pop();\n        var undoSelectionRange = null;\n        if (this.validateDeltaBoundaries(deltaSet, session.getLength(), true)) {\n            undoSelectionRange = session.undoChanges(deltaSet, dontSelect);\n            this.$redoStack.push(deltaSet);\n            this.$syncRev();\n        }\n        \n        this.$fromUndo = false;\n\n        return undoSelectionRange;\n    };\n    this.redo = function(session, dontSelect) {\n        this.lastDeltas = null;\n        \n        if (!session)\n            session = this.$session;\n        \n        this.$fromUndo = true;\n        if (this.$redoStackBaseRev != this.$rev) {\n            var diff = this.getDeltas(this.$redoStackBaseRev, this.$rev + 1);\n            rebaseRedoStack(this.$redoStack, diff);\n            this.$redoStackBaseRev = this.$rev;\n            this.$redoStack.forEach(function(x) {\n                x[0].id = ++this.$maxRev;\n            }, this);\n        }\n        var deltaSet = this.$redoStack.pop();\n        var redoSelectionRange = null;\n        \n        if (this.validateDeltaBoundaries(deltaSet, session.getLength(), false)) {\n            redoSelectionRange = session.redoChanges(deltaSet, dontSelect);\n            this.$undoStack.push(deltaSet);\n            this.$syncRev();\n        }\n        this.$fromUndo = false;\n        \n        return redoSelectionRange;\n    };\n    \n    this.$syncRev = function() {\n        var stack = this.$undoStack;\n        var nextDelta = stack[stack.length - 1];\n        var id = nextDelta && nextDelta[0].id || 0;\n        this.$redoStackBaseRev = id;\n        this.$rev = id;\n    };\n    this.reset = function() {\n        this.lastDeltas = null;\n        this.$lastDelta = null;\n        this.$undoStack = [];\n        this.$redoStack = [];\n        this.$rev = 0;\n        this.mark = 0;\n        this.$redoStackBaseRev = this.$rev;\n        this.selections = [];\n    };\n    this.canUndo = function() {\n        return this.$undoStack.length > 0;\n    };\n    this.canRedo = function() {\n        return this.$redoStack.length > 0;\n    };\n    this.bookmark = function(rev) {\n        if (rev == undefined)\n            rev = this.$rev;\n        this.mark = rev;\n    };\n    this.isAtBookmark = function() {\n        return this.$rev === this.mark;\n    };\n    \n    this.toJSON = function() {\n        \n    };\n    \n    this.fromJSON = function() {\n        \n    };\n    \n    this.hasUndo = this.canUndo;\n    this.hasRedo = this.canRedo;\n    this.isClean = this.isAtBookmark;\n    this.markClean = this.bookmark;\n    \n    this.$prettyPrint = function(delta) {\n        if (delta) return stringifyDelta(delta);\n        return stringifyDelta(this.$undoStack) + \"\\n---\\n\" + stringifyDelta(this.$redoStack);\n    };\n}).call(UndoManager.prototype);\n\nfunction rearrangeUndoStack(stack, pos) {\n    for (var i = pos; i--; ) {\n        var deltaSet = stack[i];\n        if (deltaSet && !deltaSet[0].ignore) {\n            while(i < pos - 1) {\n                var swapped = swapGroups(stack[i], stack[i + 1]);\n                stack[i] = swapped[0];\n                stack[i + 1] = swapped[1];\n                i++;\n            }\n            return true;\n        }\n    }\n}\n\nvar Range = require(\"./range\").Range;\nvar cmp = Range.comparePoints;\nvar comparePoints = Range.comparePoints;\n\nfunction $updateMarkers(delta) {\n    var isInsert = delta.action == \"insert\";\n    var start = delta.start;\n    var end = delta.end;\n    var rowShift = (end.row - start.row) * (isInsert ? 1 : -1);\n    var colShift = (end.column - start.column) * (isInsert ? 1 : -1);\n    if (isInsert) end = start;\n\n    for (var i in this.marks) {\n        var point = this.marks[i];\n        var cmp = comparePoints(point, start);\n        if (cmp < 0) {\n            continue; // delta starts after the range\n        }\n        if (cmp === 0) {\n            if (isInsert) {\n                if (point.bias == 1) {\n                    cmp = 1;\n                }\n                else {\n                    point.bias == -1;\n                    continue;\n                }\n            }\n        }\n        var cmp2 = isInsert ? cmp : comparePoints(point, end);\n        if (cmp2 > 0) {\n            point.row += rowShift;\n            point.column += point.row == end.row ? colShift : 0;\n            continue;\n        }\n        if (!isInsert && cmp2 <= 0) {\n            point.row = start.row;\n            point.column = start.column;\n            if (cmp2 === 0)\n                point.bias = 1;\n        }\n    }\n}\n\n\n\nfunction clonePos(pos) {\n    return {row: pos.row,column: pos.column};\n}\nfunction cloneDelta(d) {\n    return {\n        start: clonePos(d.start),\n        end: clonePos(d.end),\n        action: d.action,\n        lines: d.lines.slice()\n    };\n}\nfunction stringifyDelta(d) {\n    d = d || this;\n    if (Array.isArray(d)) {\n        return d.map(stringifyDelta).join(\"\\n\");\n    }\n    var type = \"\";\n    if (d.action) {\n        type = d.action == \"insert\" ? \"+\" : \"-\";\n        type += \"[\" + d.lines + \"]\";\n    } else if (d.value) {\n        if (Array.isArray(d.value)) {\n            type = d.value.map(stringifyRange).join(\"\\n\");\n        } else {\n            type = stringifyRange(d.value);\n        }\n    }\n    if (d.start) {\n        type += stringifyRange(d);\n    }\n    if (d.id || d.rev) {\n        type += \"\\t(\" + (d.id || d.rev) + \")\";\n    }\n    return type;\n}\nfunction stringifyRange(r) {\n    return r.start.row + \":\" + r.start.column \n        + \"=>\" + r.end.row + \":\" + r.end.column;\n}\n\nfunction swap(d1, d2) {\n    var i1 = d1.action == \"insert\";\n    var i2 = d2.action == \"insert\";\n    \n    if (i1 && i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n            shift(d2, d1, -1);\n        } else if (cmp(d2.start, d1.start) <= 0) {\n            shift(d1, d2, +1);\n        } else {\n            return null;\n        }\n    } else if (i1 && !i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n            shift(d2, d1, -1);\n        } else if (cmp(d2.end, d1.start) <= 0) {\n            shift(d1, d2, -1);\n        } else {\n            return null;\n        }\n    } else if (!i1 && i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n            shift(d2, d1, +1);\n        } else if (cmp(d2.start, d1.start) <= 0) {\n            shift(d1, d2, +1);\n        } else {\n            return null;\n        }\n    } else if (!i1 && !i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n            shift(d2, d1, +1);\n        } else if (cmp(d2.end, d1.start) <= 0) {\n            shift(d1, d2, -1);\n        } else {\n            return null;\n        }\n    }\n    return [d2, d1];\n}\nfunction swapGroups(ds1, ds2) {\n    for (var i = ds1.length; i--; ) {\n        for (var j = 0; j < ds2.length; j++) {\n            if (!swap(ds1[i], ds2[j])) {\n                while (i < ds1.length) {\n                    while (j--) {\n                        swap(ds2[j], ds1[i]);\n                    }\n                    j = ds2.length;\n                    i++;\n                }                \n                return [ds1, ds2];\n            }\n        }\n    }\n    ds1.selectionBefore = ds2.selectionBefore = \n    ds1.selectionAfter = ds2.selectionAfter = null;\n    return [ds2, ds1];\n}\nfunction xform(d1, c1) {\n    var i1 = d1.action == \"insert\";\n    var i2 = c1.action == \"insert\";\n    \n    if (i1 && i2) {\n        if (cmp(d1.start, c1.start) < 0) {\n            shift(c1, d1, 1);\n        } else {\n            shift(d1, c1, 1);\n        }\n    } else if (i1 && !i2) {\n        if (cmp(d1.start, c1.end) >= 0) {\n            shift(d1, c1, -1);\n        } else if (cmp(d1.start, c1.start) <= 0) {\n            shift(c1, d1, +1);\n        } else {\n            shift(d1, Range.fromPoints(c1.start, d1.start), -1);\n            shift(c1, d1, +1);\n        }\n    } else if (!i1 && i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n            shift(c1, d1, -1);\n        } else if (cmp(c1.start, d1.start) <= 0) {\n            shift(d1, c1, +1);\n        } else {\n            shift(c1, Range.fromPoints(d1.start, c1.start), -1);\n            shift(d1, c1, +1);\n        }\n    } else if (!i1 && !i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n            shift(c1, d1, -1);\n        } else if (cmp(c1.end, d1.start) <= 0) {\n            shift(d1, c1, -1);\n        } else {\n            var before, after;\n            if (cmp(d1.start, c1.start) < 0) {\n                before = d1;\n                d1 = splitDelta(d1, c1.start);\n            }\n            if (cmp(d1.end, c1.end) > 0) {\n                after = splitDelta(d1, c1.end);\n            }\n\n            shiftPos(c1.end, d1.start, d1.end, -1);\n            if (after && !before) {\n                d1.lines = after.lines;\n                d1.start = after.start;\n                d1.end = after.end;\n                after = d1;\n            }\n\n            return [c1, before, after].filter(Boolean);\n        }\n    }\n    return [c1, d1];\n}\n    \nfunction shift(d1, d2, dir) {\n    shiftPos(d1.start, d2.start, d2.end, dir);\n    shiftPos(d1.end, d2.start, d2.end, dir);\n}\nfunction shiftPos(pos, start, end, dir) {\n    if (pos.row == (dir == 1 ? start : end).row) {\n        pos.column += dir * (end.column - start.column);\n    }\n    pos.row += dir * (end.row - start.row);\n}\nfunction splitDelta(c, pos) {\n    var lines = c.lines;\n    var end = c.end;\n    c.end = clonePos(pos);    \n    var rowsBefore = c.end.row - c.start.row;\n    var otherLines = lines.splice(rowsBefore, lines.length);\n    \n    var col = rowsBefore ? pos.column : pos.column - c.start.column;\n    lines.push(otherLines[0].substring(0, col));\n    otherLines[0] = otherLines[0].substr(col)   ; \n    var rest = {\n        start: clonePos(pos),\n        end: end,\n        lines: otherLines,\n        action: c.action\n    };\n    return rest;\n}\n\nfunction moveDeltasByOne(redoStack, d) {\n    d = cloneDelta(d);\n    for (var j = redoStack.length; j--;) {\n        var deltaSet = redoStack[j];\n        for (var i = 0; i < deltaSet.length; i++) {\n            var x = deltaSet[i];\n            var xformed = xform(x, d);\n            d = xformed[0];\n            if (xformed.length != 2) {\n                if (xformed[2]) {\n                    deltaSet.splice(i + 1, 1, xformed[1], xformed[2]);\n                    i++;\n                } else if (!xformed[1]) {\n                    deltaSet.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        if (!deltaSet.length) {\n            redoStack.splice(j, 1); \n        }\n    }\n    return redoStack;\n}\nfunction rebaseRedoStack(redoStack, deltaSets) {\n    for (var i = 0; i < deltaSets.length; i++) {\n        var deltas = deltaSets[i];\n        for (var j = 0; j < deltas.length; j++) {\n            moveDeltasByOne(redoStack, deltas[j]);\n        }\n    }\n}\n\nexports.UndoManager = UndoManager;\n\n});\n\ndefine(\"ace/layer/lines\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\n\nvar Lines = function(element, canvasHeight) {\n    this.element = element;\n    this.canvasHeight = canvasHeight || 500000;\n    this.element.style.height = (this.canvasHeight * 2) + \"px\";\n    \n    this.cells = [];\n    this.cellCache = [];\n    this.$offsetCoefficient = 0;\n};\n\n(function() {\n    \n    this.moveContainer = function(config) {\n        dom.translate(this.element, 0, -((config.firstRowScreen * config.lineHeight) % this.canvasHeight) - config.offset * this.$offsetCoefficient);\n    };    \n    \n    this.pageChanged = function(oldConfig, newConfig) {\n        return (\n            Math.floor((oldConfig.firstRowScreen * oldConfig.lineHeight) / this.canvasHeight) !==\n            Math.floor((newConfig.firstRowScreen * newConfig.lineHeight) / this.canvasHeight)\n        );\n    };\n    \n    this.computeLineTop = function(row, config, session) {\n        var screenTop = config.firstRowScreen * config.lineHeight;\n        var screenPage = Math.floor(screenTop / this.canvasHeight);\n        var lineTop = session.documentToScreenRow(row, 0) * config.lineHeight;\n        return lineTop - (screenPage * this.canvasHeight);\n    };\n    \n    this.computeLineHeight = function(row, config, session) {\n        return config.lineHeight * session.getRowLineCount(row);\n    };\n    \n    this.getLength = function() {\n        return this.cells.length;\n    };\n    \n    this.get = function(index) {\n        return this.cells[index];\n    };\n    \n    this.shift = function() {\n        this.$cacheCell(this.cells.shift());\n    };\n    \n    this.pop = function() {\n        this.$cacheCell(this.cells.pop());\n    };\n    \n    this.push = function(cell) {\n        if (Array.isArray(cell)) {\n            this.cells.push.apply(this.cells, cell);\n            var fragment = dom.createFragment(this.element);\n            for (var i=0; i<cell.length; i++) {\n                fragment.appendChild(cell[i].element);\n            }\n            this.element.appendChild(fragment);\n        } else {\n            this.cells.push(cell);\n            this.element.appendChild(cell.element);\n        }\n    };\n    \n    this.unshift = function(cell) {\n        if (Array.isArray(cell)) {\n            this.cells.unshift.apply(this.cells, cell);\n            var fragment = dom.createFragment(this.element);\n            for (var i=0; i<cell.length; i++) {\n                fragment.appendChild(cell[i].element);\n            }\n            if (this.element.firstChild)\n                this.element.insertBefore(fragment, this.element.firstChild);\n            else\n                this.element.appendChild(fragment);\n        } else {\n            this.cells.unshift(cell);\n            this.element.insertAdjacentElement(\"afterbegin\", cell.element);\n        }\n    };\n    \n    this.last = function() {\n        if (this.cells.length)\n            return this.cells[this.cells.length-1];\n        else\n            return null;\n    };\n    \n    this.$cacheCell = function(cell) {\n        if (!cell)\n            return;\n            \n        cell.element.remove();\n        this.cellCache.push(cell);\n    };\n    \n    this.createCell = function(row, config, session, initElement) {\n        var cell = this.cellCache.pop();\n        if (!cell) {\n            var element = dom.createElement(\"div\");\n            if (initElement)\n                initElement(element);\n            \n            this.element.appendChild(element);\n            \n            cell = {\n                element: element,\n                text: \"\",\n                row: row\n            };\n        }\n        cell.row = row;\n        \n        return cell;\n    };\n    \n}).call(Lines.prototype);\n\nexports.Lines = Lines;\n\n});\n\ndefine(\"ace/layer/gutter\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/layer/lines\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar Lines = require(\"./lines\").Lines;\n\nvar Gutter = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_gutter-layer\";\n    parentEl.appendChild(this.element);\n    this.setShowFoldWidgets(this.$showFoldWidgets);\n    \n    this.gutterWidth = 0;\n\n    this.$annotations = [];\n    this.$updateAnnotations = this.$updateAnnotations.bind(this);\n    \n    this.$lines = new Lines(this.element);\n    this.$lines.$offsetCoefficient = 1;\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.setSession = function(session) {\n        if (this.session)\n            this.session.removeEventListener(\"change\", this.$updateAnnotations);\n        this.session = session;\n        if (session)\n            session.on(\"change\", this.$updateAnnotations);\n    };\n\n    this.addGutterDecoration = function(row, className) {\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.addGutterDecoration\");\n        this.session.addGutterDecoration(row, className);\n    };\n\n    this.removeGutterDecoration = function(row, className) {\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.removeGutterDecoration\");\n        this.session.removeGutterDecoration(row, className);\n    };\n\n    this.setAnnotations = function(annotations) {\n        this.$annotations = [];\n        for (var i = 0; i < annotations.length; i++) {\n            var annotation = annotations[i];\n            var row = annotation.row;\n            var rowInfo = this.$annotations[row];\n            if (!rowInfo)\n                rowInfo = this.$annotations[row] = {text: []};\n           \n            var annoText = annotation.text;\n            annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || \"\";\n\n            if (rowInfo.text.indexOf(annoText) === -1)\n                rowInfo.text.push(annoText);\n\n            var type = annotation.type;\n            if (type == \"error\")\n                rowInfo.className = \" ace_error\";\n            else if (type == \"warning\" && rowInfo.className != \" ace_error\")\n                rowInfo.className = \" ace_warning\";\n            else if (type == \"info\" && (!rowInfo.className))\n                rowInfo.className = \" ace_info\";\n        }\n    };\n\n    this.$updateAnnotations = function (delta) {\n        if (!this.$annotations.length)\n            return;\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n        if (len === 0) {\n        } else if (delta.action == 'remove') {\n            this.$annotations.splice(firstRow, len + 1, null);\n        } else {\n            var args = new Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.$annotations.splice.apply(this.$annotations, args);\n        }\n    };\n\n    this.update = function(config) {\n        this.config = config;\n        \n        var session = this.session;\n        var firstRow = config.firstRow;\n        var lastRow = Math.min(config.lastRow + config.gutterOffset,  // needed to compensate for hor scollbar\n            session.getLength() - 1);\n            \n        this.oldLastRow = lastRow;\n        this.config = config;\n        \n        this.$lines.moveContainer(config);\n        this.$updateCursorRow();\n            \n        var fold = session.getNextFoldLine(firstRow);\n        var foldStart = fold ? fold.start.row : Infinity;\n\n        var cell = null;\n        var index = -1;\n        var row = firstRow;\n        \n        while (true) {\n            if (row > foldStart) {\n                row = fold.end.row + 1;\n                fold = session.getNextFoldLine(row, fold);\n                foldStart = fold ? fold.start.row : Infinity;\n            }\n            if (row > lastRow) {\n                while (this.$lines.getLength() > index + 1)\n                    this.$lines.pop();\n                    \n                break;\n            }\n\n            cell = this.$lines.get(++index);\n            if (cell) {\n                cell.row = row;\n            } else {\n                cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n                this.$lines.push(cell);\n            }\n\n            this.$renderCell(cell, config, fold, row);\n            row++;\n        }\n        \n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n    };\n\n    this.$updateGutterWidth = function(config) {\n        var session = this.session;\n        \n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        \n        var firstLineNumber = session.$firstLineNumber;\n        var lastLineText = this.$lines.last() ? this.$lines.last().text : \"\";\n        \n        if (this.$fixedWidth || session.$useWrapMode)\n            lastLineText = session.getLength() + firstLineNumber - 1;\n\n        var gutterWidth = gutterRenderer \n            ? gutterRenderer.getWidth(session, lastLineText, config)\n            : lastLineText.toString().length * config.characterWidth;\n        \n        var padding = this.$padding || this.$computePadding();\n        gutterWidth += padding.left + padding.right;\n        if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {\n            this.gutterWidth = gutterWidth;\n            this.element.parentNode.style.width = \n            this.element.style.width = Math.ceil(this.gutterWidth) + \"px\";\n            this._signal(\"changeGutterWidth\", gutterWidth);\n        }\n    };\n    \n    this.$updateCursorRow = function() {\n        if (!this.$highlightGutterLine)\n            return;\n            \n        var position = this.session.selection.getCursor();\n        if (this.$cursorRow === position.row)\n            return;\n        \n        this.$cursorRow = position.row;\n    };\n    \n    this.updateLineHighlight = function() {\n        if (!this.$highlightGutterLine)\n            return;\n        var row = this.session.selection.cursor.row;\n        this.$cursorRow = row;\n\n        if (this.$cursorCell && this.$cursorCell.row == row)\n            return;\n        if (this.$cursorCell)\n            this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n        var cells = this.$lines.cells;\n        this.$cursorCell = null;\n        for (var i = 0; i < cells.length; i++) {\n            var cell = cells[i];\n            if (cell.row >= this.$cursorRow) {\n                if (cell.row > this.$cursorRow) {\n                    var fold = this.session.getFoldLine(this.$cursorRow);\n                    if (i > 0 && fold && fold.start.row == cells[i - 1].row)\n                        cell = cells[i - 1];\n                    else\n                        break;\n                }\n                cell.element.className = \"ace_gutter-active-line \" + cell.element.className;\n                this.$cursorCell = cell;\n                break;\n            }\n        }\n    };\n    \n    this.scrollLines = function(config) {\n        var oldConfig = this.config;\n        this.config = config;\n        \n        this.$updateCursorRow();\n        if (this.$lines.pageChanged(oldConfig, config))\n            return this.update(config);\n        \n        this.$lines.moveContainer(config);\n\n        var lastRow = Math.min(config.lastRow + config.gutterOffset,  // needed to compensate for hor scollbar\n            this.session.getLength() - 1);\n        var oldLastRow = this.oldLastRow;\n        this.oldLastRow = lastRow;\n        \n        if (!oldConfig || oldLastRow < config.firstRow)\n            return this.update(config);\n\n        if (lastRow < oldConfig.firstRow)\n            return this.update(config);\n\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row=this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row>0; row--)\n                this.$lines.shift();\n\n        if (oldLastRow > lastRow)\n            for (var row=this.session.getFoldedRowCount(lastRow + 1, oldLastRow); row>0; row--)\n                this.$lines.pop();\n\n        if (config.firstRow < oldConfig.firstRow) {\n            this.$lines.unshift(this.$renderLines(config, config.firstRow, oldConfig.firstRow - 1));\n        }\n\n        if (lastRow > oldLastRow) {\n            this.$lines.push(this.$renderLines(config, oldLastRow + 1, lastRow));\n        }\n        \n        this.updateLineHighlight();\n        \n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n    };\n\n    this.$renderLines = function(config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n\n            var cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n            this.$renderCell(cell, config, foldLine, row);\n            fragment.push(cell);\n\n            row++;\n        }\n        return fragment;\n    };\n    \n    this.$renderCell = function(cell, config, fold, row) {\n        var element = cell.element;\n        \n        var session = this.session;\n        \n        var textNode = element.childNodes[0];\n        var foldWidget = element.childNodes[1];\n\n        var firstLineNumber = session.$firstLineNumber;\n        \n        var breakpoints = session.$breakpoints;\n        var decorations = session.$decorations;\n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        var foldWidgets = this.$showFoldWidgets && session.foldWidgets;\n        var foldStart = fold ? fold.start.row : Number.MAX_VALUE;\n        \n        var className = \"ace_gutter-cell \";\n        if (this.$highlightGutterLine) {\n            if (row == this.$cursorRow || (fold && row < this.$cursorRow && row >= foldStart &&  this.$cursorRow <= fold.end.row)) {\n                className += \"ace_gutter-active-line \";\n                if (this.$cursorCell != cell) {\n                    if (this.$cursorCell)\n                        this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n                    this.$cursorCell = cell;\n                }\n            }\n        }\n        \n        if (breakpoints[row])\n            className += breakpoints[row];\n        if (decorations[row])\n            className += decorations[row];\n        if (this.$annotations[row])\n            className += this.$annotations[row].className;\n        if (element.className != className)\n            element.className = className;\n\n        if (foldWidgets) {\n            var c = foldWidgets[row];\n            if (c == null)\n                c = foldWidgets[row] = session.getFoldWidget(row);\n        }\n\n        if (c) {\n            var className = \"ace_fold-widget ace_\" + c;\n            if (c == \"start\" && row == foldStart && row < fold.end.row)\n                className += \" ace_closed\";\n            else\n                className += \" ace_open\";\n            if (foldWidget.className != className)\n                foldWidget.className = className;\n\n            var foldHeight = config.lineHeight + \"px\";\n            dom.setStyle(foldWidget.style, \"height\", foldHeight);\n            dom.setStyle(foldWidget.style, \"display\", \"inline-block\");\n        } else {\n            if (foldWidget) {\n                dom.setStyle(foldWidget.style, \"display\", \"none\");\n            }\n        }\n        \n        var text = (gutterRenderer\n            ? gutterRenderer.getText(session, row)\n            : row + firstLineNumber).toString();\n            \n        if (text !== textNode.data) {\n            textNode.data = text;\n        }\n        \n        dom.setStyle(cell.element.style, \"height\", this.$lines.computeLineHeight(row, config, session) + \"px\");\n        dom.setStyle(cell.element.style, \"top\", this.$lines.computeLineTop(row, config, session) + \"px\");\n        \n        cell.text = text;\n        return cell;\n    };\n\n    this.$fixedWidth = false;\n    \n    this.$highlightGutterLine = true;\n    this.$renderer = \"\";\n    this.setHighlightGutterLine = function(highlightGutterLine) {\n        this.$highlightGutterLine = highlightGutterLine;\n    };\n    \n    this.$showLineNumbers = true;\n    this.$renderer = \"\";\n    this.setShowLineNumbers = function(show) {\n        this.$renderer = !show && {\n            getWidth: function() {return 0;},\n            getText: function() {return \"\";}\n        };\n    };\n    \n    this.getShowLineNumbers = function() {\n        return this.$showLineNumbers;\n    };\n    \n    this.$showFoldWidgets = true;\n    this.setShowFoldWidgets = function(show) {\n        if (show)\n            dom.addCssClass(this.element, \"ace_folding-enabled\");\n        else\n            dom.removeCssClass(this.element, \"ace_folding-enabled\");\n\n        this.$showFoldWidgets = show;\n        this.$padding = null;\n    };\n    \n    this.getShowFoldWidgets = function() {\n        return this.$showFoldWidgets;\n    };\n\n    this.$computePadding = function() {\n        if (!this.element.firstChild)\n            return {left: 0, right: 0};\n        var style = dom.computedStyle(this.element.firstChild);\n        this.$padding = {};\n        this.$padding.left = (parseInt(style.borderLeftWidth) || 0)\n            + (parseInt(style.paddingLeft) || 0) + 1;\n        this.$padding.right = (parseInt(style.borderRightWidth) || 0)\n            + (parseInt(style.paddingRight) || 0);\n        return this.$padding;\n    };\n\n    this.getRegion = function(point) {\n        var padding = this.$padding || this.$computePadding();\n        var rect = this.element.getBoundingClientRect();\n        if (point.x < padding.left + rect.left)\n            return \"markers\";\n        if (this.$showFoldWidgets && point.x > rect.right - padding.right)\n            return \"foldWidgets\";\n    };\n\n}).call(Gutter.prototype);\n\nfunction onCreateCell(element) {\n    var textNode = document.createTextNode('');\n    element.appendChild(textNode);\n    \n    var foldWidget = dom.createElement(\"span\");\n    element.appendChild(foldWidget);\n    \n    return element;\n}\n\nexports.Gutter = Gutter;\n\n});\n\ndefine(\"ace/layer/marker\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nvar dom = require(\"../lib/dom\");\n\nvar Marker = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_marker-layer\";\n    parentEl.appendChild(this.element);\n};\n\n(function() {\n\n    this.$padding = 0;\n\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n    };\n    this.setSession = function(session) {\n        this.session = session;\n    };\n    \n    this.setMarkers = function(markers) {\n        this.markers = markers;\n    };\n    \n    this.elt = function(className, css) {\n        var x = this.i != -1 && this.element.childNodes[this.i];\n        if (!x) {\n            x = document.createElement(\"div\");\n            this.element.appendChild(x);\n            this.i = -1;\n        } else {\n            this.i++;\n        }\n        x.style.cssText = css;\n        x.className = className;\n    };\n\n    this.update = function(config) {\n        if (!config) return;\n\n        this.config = config;\n\n        this.i = 0;\n        var html;\n        for (var key in this.markers) {\n            var marker = this.markers[key];\n\n            if (!marker.range) {\n                marker.update(html, this, this.session, config);\n                continue;\n            }\n\n            var range = marker.range.clipRows(config.firstRow, config.lastRow);\n            if (range.isEmpty()) continue;\n\n            range = range.toScreenRange(this.session);\n            if (marker.renderer) {\n                var top = this.$getTop(range.start.row, config);\n                var left = this.$padding + range.start.column * config.characterWidth;\n                marker.renderer(html, range, left, top, config);\n            } else if (marker.type == \"fullLine\") {\n                this.drawFullLineMarker(html, range, marker.clazz, config);\n            } else if (marker.type == \"screenLine\") {\n                this.drawScreenLineMarker(html, range, marker.clazz, config);\n            } else if (range.isMultiLine()) {\n                if (marker.type == \"text\")\n                    this.drawTextMarker(html, range, marker.clazz, config);\n                else\n                    this.drawMultiLineMarker(html, range, marker.clazz, config);\n            } else {\n                this.drawSingleLineMarker(html, range, marker.clazz + \" ace_start\" + \" ace_br15\", config);\n            }\n        }\n        if (this.i !=-1) {\n            while (this.i < this.element.childElementCount)\n                this.element.removeChild(this.element.lastChild);\n        }\n    };\n\n    this.$getTop = function(row, layerConfig) {\n        return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;\n    };\n\n    function getBorderClass(tl, tr, br, bl) {\n        return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);\n    }\n    this.drawTextMarker = function(stringBuilder, range, clazz, layerConfig, extraStyle) {\n        var session = this.session;\n        var start = range.start.row;\n        var end = range.end.row;\n        var row = start;\n        var prev = 0; \n        var curr = 0;\n        var next = session.getScreenLastRowColumn(row);\n        var lineRange = new Range(row, range.start.column, row, curr);\n        for (; row <= end; row++) {\n            lineRange.start.row = lineRange.end.row = row;\n            lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);\n            lineRange.end.column = next;\n            prev = curr;\n            curr = next;\n            next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;\n            this.drawSingleLineMarker(stringBuilder, lineRange, \n                clazz + (row == start  ? \" ace_start\" : \"\") + \" ace_br\"\n                    + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end),\n                layerConfig, row == end ? 0 : 1, extraStyle);\n        }\n    };\n    this.drawMultiLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var padding = this.$padding;\n        var height = config.lineHeight;\n        var top = this.$getTop(range.start.row, config);\n        var left = padding + range.start.column * config.characterWidth;\n        extraStyle = extraStyle || \"\";\n\n        if (this.session.$bidiHandler.isBidiRow(range.start.row)) {\n           var range1 = range.clone();\n           range1.end.row = range1.start.row;\n           range1.end.column = this.session.getLine(range1.start.row).length;\n           this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br1 ace_start\", config, null, extraStyle);\n        } else {\n            this.elt(\n                clazz + \" ace_br1 ace_start\",\n                \"height:\"+ height+ \"px;\"+ \"right:0;\"+ \"top:\"+top+ \"px;left:\"+ left+ \"px;\" + (extraStyle || \"\")\n            );\n        }\n        if (this.session.$bidiHandler.isBidiRow(range.end.row)) {\n           var range1 = range.clone();\n           range1.start.row = range1.end.row;\n           range1.start.column = 0;\n           this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br12\", config, null, extraStyle);\n        } else {\n            top = this.$getTop(range.end.row, config);\n            var width = range.end.column * config.characterWidth;\n\n            this.elt(\n                clazz + \" ace_br12\",\n                \"height:\"+ height+ \"px;\"+\n                \"width:\"+ width+ \"px;\"+\n                \"top:\"+ top+ \"px;\"+\n                \"left:\"+ padding+ \"px;\"+ (extraStyle || \"\")\n            );\n        }\n        height = (range.end.row - range.start.row - 1) * config.lineHeight;\n        if (height <= 0)\n            return;\n        top = this.$getTop(range.start.row + 1, config);\n        \n        var radiusClass = (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);\n\n        this.elt(\n            clazz + (radiusClass ? \" ace_br\" + radiusClass : \"\"),\n            \"height:\"+ height+ \"px;\"+\n            \"right:0;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:\"+ padding+ \"px;\"+ (extraStyle || \"\")\n        );\n    };\n    this.drawSingleLineMarker = function(stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        if (this.session.$bidiHandler.isBidiRow(range.start.row))\n            return this.drawBidiSingleLineMarker(stringBuilder, range, clazz, config, extraLength, extraStyle);\n        var height = config.lineHeight;\n        var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;\n\n        var top = this.$getTop(range.start.row, config);\n        var left = this.$padding + range.start.column * config.characterWidth;\n\n        this.elt(\n            clazz,\n            \"height:\"+ height+ \"px;\"+\n            \"width:\"+ width+ \"px;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:\"+ left+ \"px;\"+ (extraStyle || \"\")\n        );\n    };\n    this.drawBidiSingleLineMarker = function(stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        var height = config.lineHeight, top = this.$getTop(range.start.row, config), padding = this.$padding;\n        var selections = this.session.$bidiHandler.getSelections(range.start.column, range.end.column);\n\n        selections.forEach(function(selection) {\n            this.elt(\n                clazz,\n                \"height:\" + height + \"px;\" +\n                \"width:\" + selection.width + (extraLength || 0) + \"px;\" +\n                \"top:\" + top + \"px;\" +\n                \"left:\" + (padding + selection.left) + \"px;\" + (extraStyle || \"\")\n            );\n        }, this);\n    };\n\n    this.drawFullLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n        if (range.start.row != range.end.row)\n            height += this.$getTop(range.end.row, config) - top;\n\n        this.elt(\n            clazz,\n            \"height:\"+ height+ \"px;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:0;right:0;\"+ (extraStyle || \"\")\n        );\n    };\n    \n    this.drawScreenLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n\n        this.elt(\n            clazz,\n            \"height:\"+ height+ \"px;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:0;right:0;\"+ (extraStyle || \"\")\n        );\n    };\n\n}).call(Marker.prototype);\n\nexports.Marker = Marker;\n\n});\n\ndefine(\"ace/layer/text\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/layer/lines\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar Lines = require(\"./lines\").Lines;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar Text = function(parentEl) {\n    this.dom = dom; \n    this.element = this.dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_text-layer\";\n    parentEl.appendChild(this.element);\n    this.$updateEolChar = this.$updateEolChar.bind(this);\n    this.$lines = new Lines(this.element);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.EOF_CHAR = \"\\xB6\";\n    this.EOL_CHAR_LF = \"\\xAC\";\n    this.EOL_CHAR_CRLF = \"\\xa4\";\n    this.EOL_CHAR = this.EOL_CHAR_LF;\n    this.TAB_CHAR = \"\\u2014\"; //\"\\u21E5\";\n    this.SPACE_CHAR = \"\\xB7\";\n    this.$padding = 0;\n    this.MAX_LINE_LENGTH = 10000;\n\n    this.$updateEolChar = function() {\n        var doc = this.session.doc;\n        var unixMode = doc.getNewLineCharacter() == \"\\n\" && doc.getNewLineMode() != \"windows\";\n        var EOL_CHAR = unixMode ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;\n        if (this.EOL_CHAR != EOL_CHAR) {\n            this.EOL_CHAR = EOL_CHAR;\n            return true;\n        }\n    };\n\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n        this.element.style.margin = \"0 \" + padding + \"px\";\n    };\n\n    this.getLineHeight = function() {\n        return this.$fontMetrics.$characterSize.height || 0;\n    };\n\n    this.getCharacterWidth = function() {\n        return this.$fontMetrics.$characterSize.width || 0;\n    };\n    \n    this.$setFontMetrics = function(measure) {\n        this.$fontMetrics = measure;\n        this.$fontMetrics.on(\"changeCharacterSize\", function(e) {\n            this._signal(\"changeCharacterSize\", e);\n        }.bind(this));\n        this.$pollSizeChanges();\n    };\n\n    this.checkForSizeChanges = function() {\n        this.$fontMetrics.checkForSizeChanges();\n    };\n    this.$pollSizeChanges = function() {\n        return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();\n    };\n    this.setSession = function(session) {\n        this.session = session;\n        if (session)\n            this.$computeTabString();\n    };\n\n    this.showInvisibles = false;\n    this.setShowInvisibles = function(showInvisibles) {\n        if (this.showInvisibles == showInvisibles)\n            return false;\n\n        this.showInvisibles = showInvisibles;\n        this.$computeTabString();\n        return true;\n    };\n\n    this.displayIndentGuides = true;\n    this.setDisplayIndentGuides = function(display) {\n        if (this.displayIndentGuides == display)\n            return false;\n\n        this.displayIndentGuides = display;\n        this.$computeTabString();\n        return true;\n    };\n\n    this.$tabStrings = [];\n    this.onChangeTabSize =\n    this.$computeTabString = function() {\n        var tabSize = this.session.getTabSize();\n        this.tabSize = tabSize;\n        var tabStr = this.$tabStrings = [0];\n        for (var i = 1; i < tabSize + 1; i++) {\n            if (this.showInvisibles) {\n                var span = this.dom.createElement(\"span\");\n                span.className = \"ace_invisible ace_invisible_tab\";\n                span.textContent = lang.stringRepeat(this.TAB_CHAR, i);\n                tabStr.push(span);\n            } else {\n                tabStr.push(this.dom.createTextNode(lang.stringRepeat(\" \", i), this.element));\n            }\n        }\n        if (this.displayIndentGuides) {\n            this.$indentGuideRe =  /\\s\\S| \\t|\\t |\\s$/;\n            var className = \"ace_indent-guide\";\n            var spaceClass = \"\";\n            var tabClass = \"\";\n            if (this.showInvisibles) {\n                className += \" ace_invisible\";\n                spaceClass = \" ace_invisible_space\";\n                tabClass = \" ace_invisible_tab\";\n                var spaceContent = lang.stringRepeat(this.SPACE_CHAR, this.tabSize);\n                var tabContent = lang.stringRepeat(this.TAB_CHAR, this.tabSize);\n            } else {\n                var spaceContent = lang.stringRepeat(\" \", this.tabSize);\n                var tabContent = spaceContent;\n            }\n\n            var span = this.dom.createElement(\"span\");\n            span.className = className + spaceClass;\n            span.textContent = spaceContent;\n            this.$tabStrings[\" \"] = span;\n            \n            var span = this.dom.createElement(\"span\");\n            span.className = className + tabClass;\n            span.textContent = tabContent;\n            this.$tabStrings[\"\\t\"] = span;\n        }\n    };\n\n    this.updateLines = function(config, firstRow, lastRow) {\n        if (this.config.lastRow != config.lastRow ||\n            this.config.firstRow != config.firstRow) {\n            return this.update(config);\n        }\n        \n        this.config = config;\n\n        var first = Math.max(firstRow, config.firstRow);\n        var last = Math.min(lastRow, config.lastRow);\n\n        var lineElements = this.element.childNodes;\n        var lineElementsIdx = 0;\n\n        for (var row = config.firstRow; row < first; row++) {\n            var foldLine = this.session.getFoldLine(row);\n            if (foldLine) {\n                if (foldLine.containsRow(first)) {\n                    first = foldLine.start.row;\n                    break;\n                } else {\n                    row = foldLine.end.row;\n                }\n            }\n            lineElementsIdx ++;\n        }\n\n        var heightChanged = false;\n        var row = first;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row :Infinity;\n            }\n            if (row > last)\n                break;\n\n            var lineElement = lineElements[lineElementsIdx++];\n            if (lineElement) {\n                this.dom.removeChildren(lineElement);\n                this.$renderLine(\n                    lineElement, row, row == foldStart ? foldLine : false\n                );\n\n                if (heightChanged)\n                    lineElement.style.top = this.$lines.computeLineTop(row, config, this.session) + \"px\";\n\n                var height = (config.lineHeight * this.session.getRowLength(row)) + \"px\";\n                if (lineElement.style.height != height) {\n                    heightChanged = true;\n                    lineElement.style.height = height;\n                }\n            }\n            row++;\n        }\n        if (heightChanged) {\n            while (lineElementsIdx < this.$lines.cells.length) {\n                var cell = this.$lines.cells[lineElementsIdx++];\n                cell.element.style.top = this.$lines.computeLineTop(cell.row, config, this.session) + \"px\";\n            }\n        }\n    };\n\n    this.scrollLines = function(config) {\n        var oldConfig = this.config;\n        this.config = config;\n\n        if (this.$lines.pageChanged(oldConfig, config))\n            return this.update(config);\n            \n        this.$lines.moveContainer(config);\n        \n        var lastRow = config.lastRow;\n        var oldLastRow = oldConfig ? oldConfig.lastRow : -1;\n\n        if (!oldConfig || oldLastRow < config.firstRow)\n            return this.update(config);\n\n        if (lastRow < oldConfig.firstRow)\n            return this.update(config);\n\n        if (!oldConfig || oldConfig.lastRow < config.firstRow)\n            return this.update(config);\n\n        if (config.lastRow < oldConfig.firstRow)\n            return this.update(config);\n\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row=this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row>0; row--)\n                this.$lines.shift();\n\n        if (oldConfig.lastRow > config.lastRow)\n            for (var row=this.session.getFoldedRowCount(config.lastRow + 1, oldConfig.lastRow); row>0; row--)\n                this.$lines.pop();\n\n        if (config.firstRow < oldConfig.firstRow) {\n            this.$lines.unshift(this.$renderLinesFragment(config, config.firstRow, oldConfig.firstRow - 1));\n        }\n\n        if (config.lastRow > oldConfig.lastRow) {\n            this.$lines.push(this.$renderLinesFragment(config, oldConfig.lastRow + 1, config.lastRow));\n        }\n    };\n\n    this.$renderLinesFragment = function(config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n\n            var line = this.$lines.createCell(row, config, this.session);\n            \n            var lineEl = line.element;\n            this.dom.removeChildren(lineEl);\n            dom.setStyle(lineEl.style, \"height\", this.$lines.computeLineHeight(row, config, this.session) + \"px\");\n            dom.setStyle(lineEl.style, \"top\", this.$lines.computeLineTop(row, config, this.session) + \"px\");\n            this.$renderLine(lineEl, row, row == foldStart ? foldLine : false);\n\n            if (this.$useLineGroups()) {\n                lineEl.className = \"ace_line_group\";\n            } else {\n                lineEl.className = \"ace_line\";\n            }\n            fragment.push(line);\n\n            row++;\n        }\n        return fragment;\n    };\n\n    this.update = function(config) {\n        this.$lines.moveContainer(config);\n        \n        this.config = config;\n\n        var firstRow = config.firstRow;\n        var lastRow = config.lastRow;\n\n        var lines = this.$lines;\n        while (lines.getLength())\n            lines.pop();\n            \n        lines.push(this.$renderLinesFragment(config, firstRow, lastRow));\n    };\n\n    this.$textToken = {\n        \"text\": true,\n        \"rparen\": true,\n        \"lparen\": true\n    };\n\n    this.$renderToken = function(parent, screenColumn, token, value) {\n        var self = this;\n        var re = /(\\t)|( +)|([\\x00-\\x1f\\x80-\\xa0\\xad\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\uFEFF\\uFFF9-\\uFFFC]+)|(\\u3000)|([\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3001-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/g;\n        \n        var valueFragment = this.dom.createFragment(this.element);\n\n        var m;\n        var i = 0;\n        while (m = re.exec(value)) {\n            var tab = m[1];\n            var simpleSpace = m[2];\n            var controlCharacter = m[3];\n            var cjkSpace = m[4];\n            var cjk = m[5];\n            \n            if (!self.showInvisibles && simpleSpace)\n                continue;\n\n            var before = i != m.index ? value.slice(i, m.index) : \"\";\n\n            i = m.index + m[0].length;\n            \n            if (before) {\n                valueFragment.appendChild(this.dom.createTextNode(before, this.element));\n            }\n                \n            if (tab) {\n                var tabSize = self.session.getScreenTabSize(screenColumn + m.index);\n                valueFragment.appendChild(self.$tabStrings[tabSize].cloneNode(true));\n                screenColumn += tabSize - 1;\n            } else if (simpleSpace) {\n                if (self.showInvisibles) {\n                    var span = this.dom.createElement(\"span\");\n                    span.className = \"ace_invisible ace_invisible_space\";\n                    span.textContent = lang.stringRepeat(self.SPACE_CHAR, simpleSpace.length);\n                    valueFragment.appendChild(span);\n                } else {\n                    valueFragment.appendChild(this.com.createTextNode(simpleSpace, this.element));\n                }\n            } else if (controlCharacter) {\n                var span = this.dom.createElement(\"span\");\n                span.className = \"ace_invisible ace_invisible_space ace_invalid\";\n                span.textContent = lang.stringRepeat(self.SPACE_CHAR, controlCharacter.length);\n                valueFragment.appendChild(span);\n            } else if (cjkSpace) {\n                screenColumn += 1;\n                \n                var span = this.dom.createElement(\"span\");\n                span.style.width = (self.config.characterWidth * 2) + \"px\";\n                span.className = self.showInvisibles ? \"ace_cjk ace_invisible ace_invisible_space\" : \"ace_cjk\";\n                span.textContent = self.showInvisibles ? self.SPACE_CHAR : cjkSpace;\n                valueFragment.appendChild(span);\n            } else if (cjk) {\n                screenColumn += 1;\n                var span = this.dom.createElement(\"span\");\n                span.style.width = (self.config.characterWidth * 2) + \"px\";\n                span.className = \"ace_cjk\";\n                span.textContent = cjk;\n                valueFragment.appendChild(span);\n            }\n        }\n        \n        valueFragment.appendChild(this.dom.createTextNode(i ? value.slice(i) : value, this.element));\n\n        if (!this.$textToken[token.type]) {\n            var classes = \"ace_\" + token.type.replace(/\\./g, \" ace_\");\n            var span = this.dom.createElement(\"span\");\n            if (token.type == \"fold\")\n                span.style.width = (token.value.length * this.config.characterWidth) + \"px\";\n                \n            span.className = classes;\n            span.appendChild(valueFragment);\n            \n            parent.appendChild(span);\n        }\n        else {\n            parent.appendChild(valueFragment);\n        }\n        \n        return screenColumn + value.length;\n    };\n\n    this.renderIndentGuide = function(parent, value, max) {\n        var cols = value.search(this.$indentGuideRe);\n        if (cols <= 0 || cols >= max)\n            return value;\n        if (value[0] == \" \") {\n            cols -= cols % this.tabSize;\n            var count = cols/this.tabSize;\n            for (var i=0; i<count; i++) {\n                parent.appendChild(this.$tabStrings[\" \"].cloneNode(true));\n            }\n            return value.substr(cols);\n        } else if (value[0] == \"\\t\") {\n            for (var i=0; i<cols; i++) {\n                parent.appendChild(this.$tabStrings[\"\\t\"].cloneNode(true));\n            }\n            return value.substr(cols);\n        }\n        return value;\n    };\n\n    this.$createLineElement = function(parent) {\n        var lineEl = this.dom.createElement(\"div\");\n        lineEl.className = \"ace_line\";\n        lineEl.style.height = this.config.lineHeight + \"px\";\n        \n        return lineEl;\n    };\n\n    this.$renderWrappedLine = function(parent, tokens, splits) {\n        var chars = 0;\n        var split = 0;\n        var splitChars = splits[0];\n        var screenColumn = 0;\n\n        var lineEl = this.$createLineElement();\n        parent.appendChild(lineEl);\n        \n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            var value = token.value;\n            if (i == 0 && this.displayIndentGuides) {\n                chars = value.length;\n                value = this.renderIndentGuide(lineEl, value, splitChars);\n                if (!value)\n                    continue;\n                chars -= value.length;\n            }\n\n            if (chars + value.length < splitChars) {\n                screenColumn = this.$renderToken(lineEl, screenColumn, token, value);\n                chars += value.length;\n            } else {\n                while (chars + value.length >= splitChars) {\n                    screenColumn = this.$renderToken(\n                        lineEl, screenColumn,\n                        token, value.substring(0, splitChars - chars)\n                    );\n                    value = value.substring(splitChars - chars);\n                    chars = splitChars;\n\n                    lineEl = this.$createLineElement();\n                    parent.appendChild(lineEl);\n\n                    lineEl.appendChild(this.dom.createTextNode(lang.stringRepeat(\"\\xa0\", splits.indent), this.element));\n\n                    split ++;\n                    screenColumn = 0;\n                    splitChars = splits[split] || Number.MAX_VALUE;\n                }\n                if (value.length != 0) {\n                    chars += value.length;\n                    screenColumn = this.$renderToken(\n                        lineEl, screenColumn, token, value\n                    );\n                }\n            }\n        }\n        \n        if (splits[splits.length - 1] > this.MAX_LINE_LENGTH)\n            this.$renderOverflowMessage(lineEl, screenColumn, null, \"\", true);\n    };\n\n    this.$renderSimpleLine = function(parent, tokens) {\n        var screenColumn = 0;\n        var token = tokens[0];\n        var value = token.value;\n        if (this.displayIndentGuides)\n            value = this.renderIndentGuide(parent, value);\n        if (value)\n            screenColumn = this.$renderToken(parent, screenColumn, token, value);\n        for (var i = 1; i < tokens.length; i++) {\n            token = tokens[i];\n            value = token.value;\n            if (screenColumn + value.length > this.MAX_LINE_LENGTH)\n                return this.$renderOverflowMessage(parent, screenColumn, token, value);\n            screenColumn = this.$renderToken(parent, screenColumn, token, value);\n        }\n    };\n    \n    this.$renderOverflowMessage = function(parent, screenColumn, token, value, hide) {\n        token && this.$renderToken(parent, screenColumn, token,\n            value.slice(0, this.MAX_LINE_LENGTH - screenColumn));\n            \n        var overflowEl = this.dom.createElement(\"span\");\n        overflowEl.className = \"ace_inline_button ace_keyword ace_toggle_wrap\";\n        overflowEl.textContent = hide ? \"<hide>\" : \"<click to see more...>\";\n        \n        parent.appendChild(overflowEl);        \n    };\n    this.$renderLine = function(parent, row, foldLine) {\n        if (!foldLine && foldLine != false)\n            foldLine = this.session.getFoldLine(row);\n\n        if (foldLine)\n            var tokens = this.$getFoldLineTokens(row, foldLine);\n        else\n            var tokens = this.session.getTokens(row);\n\n        var lastLineEl = parent;\n        if (tokens.length) {\n            var splits = this.session.getRowSplitData(row);\n            if (splits && splits.length) {\n                this.$renderWrappedLine(parent, tokens, splits);\n                var lastLineEl = parent.lastChild;\n            } else {\n                var lastLineEl = parent;\n                if (this.$useLineGroups()) {\n                    lastLineEl = this.$createLineElement();\n                    parent.appendChild(lastLineEl);\n                }\n                this.$renderSimpleLine(lastLineEl, tokens);\n            }\n        } else if (this.$useLineGroups()) {\n            lastLineEl = this.$createLineElement();\n            parent.appendChild(lastLineEl);\n        }\n\n        if (this.showInvisibles && lastLineEl) {\n            if (foldLine)\n                row = foldLine.end.row;\n\n            var invisibleEl = this.dom.createElement(\"span\");\n            invisibleEl.className = \"ace_invisible ace_invisible_eol\";\n            invisibleEl.textContent = row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR;\n            \n            lastLineEl.appendChild(invisibleEl);\n        }\n    };\n\n    this.$getFoldLineTokens = function(row, foldLine) {\n        var session = this.session;\n        var renderTokens = [];\n\n        function addTokens(tokens, from, to) {\n            var idx = 0, col = 0;\n            while ((col + tokens[idx].value.length) < from) {\n                col += tokens[idx].value.length;\n                idx++;\n\n                if (idx == tokens.length)\n                    return;\n            }\n            if (col != from) {\n                var value = tokens[idx].value.substring(from - col);\n                if (value.length > (to - from))\n                    value = value.substring(0, to - from);\n\n                renderTokens.push({\n                    type: tokens[idx].type,\n                    value: value\n                });\n\n                col = from + value.length;\n                idx += 1;\n            }\n\n            while (col < to && idx < tokens.length) {\n                var value = tokens[idx].value;\n                if (value.length + col > to) {\n                    renderTokens.push({\n                        type: tokens[idx].type,\n                        value: value.substring(0, to - col)\n                    });\n                } else\n                    renderTokens.push(tokens[idx]);\n                col += value.length;\n                idx += 1;\n            }\n        }\n\n        var tokens = session.getTokens(row);\n        foldLine.walk(function(placeholder, row, column, lastColumn, isNewRow) {\n            if (placeholder != null) {\n                renderTokens.push({\n                    type: \"fold\",\n                    value: placeholder\n                });\n            } else {\n                if (isNewRow)\n                    tokens = session.getTokens(row);\n\n                if (tokens.length)\n                    addTokens(tokens, lastColumn, column);\n            }\n        }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);\n\n        return renderTokens;\n    };\n\n    this.$useLineGroups = function() {\n        return this.session.getUseWrapMode();\n    };\n\n    this.destroy = function() {};\n}).call(Text.prototype);\n\nexports.Text = Text;\n\n});\n\ndefine(\"ace/layer/cursor\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\n\nvar Cursor = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_cursor-layer\";\n    parentEl.appendChild(this.element);\n    \n    this.isVisible = false;\n    this.isBlinking = true;\n    this.blinkInterval = 1000;\n    this.smoothBlinking = false;\n\n    this.cursors = [];\n    this.cursor = this.addCursor();\n    dom.addCssClass(this.element, \"ace_hidden-cursors\");\n    this.$updateCursors = this.$updateOpacity.bind(this);\n};\n\n(function() {\n    \n    this.$updateOpacity = function(val) {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--; )\n            dom.setStyle(cursors[i].style, \"opacity\", val ? \"\" : \"0\");\n    };\n\n    this.$startCssAnimation = function() {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--; )\n            cursors[i].style.animationDuration = this.blinkInterval + \"ms\";\n\n        setTimeout(function() {\n            dom.addCssClass(this.element, \"ace_animate-blinking\");\n        }.bind(this));\n    };\n    \n    this.$stopCssAnimation = function() {\n        dom.removeCssClass(this.element, \"ace_animate-blinking\");\n    };\n\n    this.$padding = 0;\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n    };\n\n    this.setSession = function(session) {\n        this.session = session;\n    };\n\n    this.setBlinking = function(blinking) {\n        if (blinking != this.isBlinking) {\n            this.isBlinking = blinking;\n            this.restartTimer();\n        }\n    };\n\n    this.setBlinkInterval = function(blinkInterval) {\n        if (blinkInterval != this.blinkInterval) {\n            this.blinkInterval = blinkInterval;\n            this.restartTimer();\n        }\n    };\n\n    this.setSmoothBlinking = function(smoothBlinking) {\n        if (smoothBlinking != this.smoothBlinking) {\n            this.smoothBlinking = smoothBlinking;\n            dom.setCssClass(this.element, \"ace_smooth-blinking\", smoothBlinking);\n            this.$updateCursors(true);\n            this.restartTimer();\n        }\n    };\n\n    this.addCursor = function() {\n        var el = dom.createElement(\"div\");\n        el.className = \"ace_cursor\";\n        this.element.appendChild(el);\n        this.cursors.push(el);\n        return el;\n    };\n\n    this.removeCursor = function() {\n        if (this.cursors.length > 1) {\n            var el = this.cursors.pop();\n            el.parentNode.removeChild(el);\n            return el;\n        }\n    };\n\n    this.hideCursor = function() {\n        this.isVisible = false;\n        dom.addCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n\n    this.showCursor = function() {\n        this.isVisible = true;\n        dom.removeCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n\n    this.restartTimer = function() {\n        var update = this.$updateCursors;\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n        this.$stopCssAnimation();\n\n        if (this.smoothBlinking) {\n            dom.removeCssClass(this.element, \"ace_smooth-blinking\");\n        }\n        \n        update(true);\n\n        if (!this.isBlinking || !this.blinkInterval || !this.isVisible) {\n            this.$stopCssAnimation();\n            return;\n        }\n\n        if (this.smoothBlinking) {\n            setTimeout(function(){\n                dom.addCssClass(this.element, \"ace_smooth-blinking\");\n            }.bind(this));\n        }\n        \n        if (dom.HAS_CSS_ANIMATION) {\n            this.$startCssAnimation();\n        } else {\n            var blink = function(){\n                this.timeoutId = setTimeout(function() {\n                    update(false);\n                }, 0.6 * this.blinkInterval);\n            }.bind(this);\n    \n            this.intervalId = setInterval(function() {\n                update(true);\n                blink();\n            }, this.blinkInterval);\n            blink();\n        }\n    };\n\n    this.getPixelPosition = function(position, onScreen) {\n        if (!this.config || !this.session)\n            return {left : 0, top : 0};\n\n        if (!position)\n            position = this.session.selection.getCursor();\n        var pos = this.session.documentToScreenPosition(position);\n        var cursorLeft = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, position.row)\n            ? this.session.$bidiHandler.getPosLeft(pos.column)\n            : pos.column * this.config.characterWidth);\n\n        var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) *\n            this.config.lineHeight;\n\n        return {left : cursorLeft, top : cursorTop};\n    };\n\n    this.isCursorInView = function(pixelPos, config) {\n        return pixelPos.top >= 0 && pixelPos.top < config.maxHeight;\n    };\n\n    this.update = function(config) {\n        this.config = config;\n\n        var selections = this.session.$selectionMarkers;\n        var i = 0, cursorIndex = 0;\n\n        if (selections === undefined || selections.length === 0){\n            selections = [{cursor: null}];\n        }\n\n        for (var i = 0, n = selections.length; i < n; i++) {\n            var pixelPos = this.getPixelPosition(selections[i].cursor, true);\n            if ((pixelPos.top > config.height + config.offset ||\n                 pixelPos.top < 0) && i > 1) {\n                continue;\n            }\n\n            var element = this.cursors[cursorIndex++] || this.addCursor();\n            var style = element.style;\n            \n            if (!this.drawCursor) {\n                if (!this.isCursorInView(pixelPos, config)) {\n                    dom.setStyle(style, \"display\", \"none\");\n                } else {\n                    dom.setStyle(style, \"display\", \"block\");\n                    dom.translate(element, pixelPos.left, pixelPos.top);\n                    dom.setStyle(style, \"width\", Math.round(config.characterWidth) + \"px\");\n                    dom.setStyle(style, \"height\", config.lineHeight + \"px\");\n                }\n            } else {\n                this.drawCursor(element, pixelPos, config, selections[i], this.session);\n            }\n        }\n        while (this.cursors.length > cursorIndex)\n            this.removeCursor();\n\n        var overwrite = this.session.getOverwrite();\n        this.$setOverwrite(overwrite);\n        this.$pixelPos = pixelPos;\n        this.restartTimer();\n    };\n    \n    this.drawCursor = null;\n\n    this.$setOverwrite = function(overwrite) {\n        if (overwrite != this.overwrite) {\n            this.overwrite = overwrite;\n            if (overwrite)\n                dom.addCssClass(this.element, \"ace_overwrite-cursors\");\n            else\n                dom.removeCssClass(this.element, \"ace_overwrite-cursors\");\n        }\n    };\n\n    this.destroy = function() {\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n    };\n\n}).call(Cursor.prototype);\n\nexports.Cursor = Cursor;\n\n});\n\ndefine(\"ace/scrollbar\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar MAX_SCROLL_H = 0x8000;\nvar ScrollBar = function(parent) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_scrollbar ace_scrollbar\" + this.classSuffix;\n\n    this.inner = dom.createElement(\"div\");\n    this.inner.className = \"ace_scrollbar-inner\";\n    this.inner.textContent = \"\\xa0\";\n    this.element.appendChild(this.inner);\n\n    parent.appendChild(this.element);\n\n    this.setVisible(false);\n    this.skipEvent = false;\n\n    event.addListener(this.element, \"scroll\", this.onScroll.bind(this));\n    event.addListener(this.element, \"mousedown\", event.preventDefault);\n};\n\n(function() {\n    oop.implement(this, EventEmitter);\n\n    this.setVisible = function(isVisible) {\n        this.element.style.display = isVisible ? \"\" : \"none\";\n        this.isVisible = isVisible;\n        this.coeff = 1;\n    };\n}).call(ScrollBar.prototype);\nvar VScrollBar = function(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollTop = 0;\n    this.scrollHeight = 0;\n    renderer.$scrollbarWidth = \n    this.width = dom.scrollbarWidth(parent.ownerDocument);\n    this.inner.style.width =\n    this.element.style.width = (this.width || 15) + 5 + \"px\";\n    this.$minWidth = 0;\n};\n\noop.inherits(VScrollBar, ScrollBar);\n\n(function() {\n\n    this.classSuffix = '-v';\n    this.onScroll = function() {\n        if (!this.skipEvent) {\n            this.scrollTop = this.element.scrollTop;\n            if (this.coeff != 1) {\n                var h = this.element.clientHeight / this.scrollHeight;\n                this.scrollTop = this.scrollTop * (1 - h) / (this.coeff - h);\n            }\n            this._emit(\"scroll\", {data: this.scrollTop});\n        }\n        this.skipEvent = false;\n    };\n    this.getWidth = function() {\n        return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);\n    };\n    this.setHeight = function(height) {\n        this.element.style.height = height + \"px\";\n    };\n    this.setInnerHeight = \n    this.setScrollHeight = function(height) {\n        this.scrollHeight = height;\n        if (height > MAX_SCROLL_H) {\n            this.coeff = MAX_SCROLL_H / height;\n            height = MAX_SCROLL_H;\n        } else if (this.coeff != 1) {\n            this.coeff = 1;\n        }\n        this.inner.style.height = height + \"px\";\n    };\n    this.setScrollTop = function(scrollTop) {\n        if (this.scrollTop != scrollTop) {\n            this.skipEvent = true;\n            this.scrollTop = scrollTop;\n            this.element.scrollTop = scrollTop * this.coeff;\n        }\n    };\n\n}).call(VScrollBar.prototype);\nvar HScrollBar = function(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollLeft = 0;\n    this.height = renderer.$scrollbarWidth;\n    this.inner.style.height =\n    this.element.style.height = (this.height || 15) + 5 + \"px\";\n};\n\noop.inherits(HScrollBar, ScrollBar);\n\n(function() {\n\n    this.classSuffix = '-h';\n    this.onScroll = function() {\n        if (!this.skipEvent) {\n            this.scrollLeft = this.element.scrollLeft;\n            this._emit(\"scroll\", {data: this.scrollLeft});\n        }\n        this.skipEvent = false;\n    };\n    this.getHeight = function() {\n        return this.isVisible ? this.height : 0;\n    };\n    this.setWidth = function(width) {\n        this.element.style.width = width + \"px\";\n    };\n    this.setInnerWidth = function(width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollWidth = function(width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollLeft = function(scrollLeft) {\n        if (this.scrollLeft != scrollLeft) {\n            this.skipEvent = true;\n            this.scrollLeft = this.element.scrollLeft = scrollLeft;\n        }\n    };\n\n}).call(HScrollBar.prototype);\n\n\nexports.ScrollBar = VScrollBar; // backward compatibility\nexports.ScrollBarV = VScrollBar; // backward compatibility\nexports.ScrollBarH = HScrollBar; // backward compatibility\n\nexports.VScrollBar = VScrollBar;\nexports.HScrollBar = HScrollBar;\n});\n\ndefine(\"ace/renderloop\",[\"require\",\"exports\",\"module\",\"ace/lib/event\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"./lib/event\");\n\n\nvar RenderLoop = function(onRender, win) {\n    this.onRender = onRender;\n    this.pending = false;\n    this.changes = 0;\n    this.$recursionLimit = 2;\n    this.window = win || window;\n    var _self = this;\n    this._flush = function(ts) {\n        _self.pending = false;\n        var changes = _self.changes;\n\n        if (changes) {\n            event.blockIdle(100);\n            _self.changes = 0;\n            _self.onRender(changes);\n        }\n        \n        if (_self.changes) {\n            if (_self.$recursionLimit-- < 0) return;\n            _self.schedule();\n        } else {\n            _self.$recursionLimit = 2;\n        }\n    };\n};\n\n(function() {\n\n    this.schedule = function(change) {\n        this.changes = this.changes | change;\n        if (this.changes && !this.pending) {\n            event.nextFrame(this._flush);\n            this.pending = true;\n        }\n    };\n\n    this.clear = function(change) {\n        var changes = this.changes;\n        this.changes = 0;\n        return changes;\n    };\n\n}).call(RenderLoop.prototype);\n\nexports.RenderLoop = RenderLoop;\n});\n\ndefine(\"ace/layer/font_metrics\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar CHAR_COUNT = 256;\nvar USE_OBSERVER = typeof ResizeObserver == \"function\";\nvar L = 200;\n\nvar FontMetrics = exports.FontMetrics = function(parentEl) {\n    this.el = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.el.style, true);\n    \n    this.$main = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$main.style);\n    \n    this.$measureNode = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$measureNode.style);\n    \n    \n    this.el.appendChild(this.$main);\n    this.el.appendChild(this.$measureNode);\n    parentEl.appendChild(this.el);\n    \n    this.$measureNode.innerHTML = lang.stringRepeat(\"X\", CHAR_COUNT);\n    \n    this.$characterSize = {width: 0, height: 0};\n    \n    \n    if (USE_OBSERVER)\n        this.$addObserver();\n    else\n        this.checkForSizeChanges();\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n        \n    this.$characterSize = {width: 0, height: 0};\n    \n    this.$setMeasureNodeStyles = function(style, isRoot) {\n        style.width = style.height = \"auto\";\n        style.left = style.top = \"0px\";\n        style.visibility = \"hidden\";\n        style.position = \"absolute\";\n        style.whiteSpace = \"pre\";\n\n        if (useragent.isIE < 8) {\n            style[\"font-family\"] = \"inherit\";\n        } else {\n            style.font = \"inherit\";\n        }\n        style.overflow = isRoot ? \"hidden\" : \"visible\";\n    };\n\n    this.checkForSizeChanges = function(size) {\n        if (size === undefined)\n            size = this.$measureSizes();\n        if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {\n            this.$measureNode.style.fontWeight = \"bold\";\n            var boldSize = this.$measureSizes();\n            this.$measureNode.style.fontWeight = \"\";\n            this.$characterSize = size;\n            this.charSizes = Object.create(null);\n            this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;\n            this._emit(\"changeCharacterSize\", {data: size});\n        }\n    };\n    \n    this.$addObserver = function() {\n        var self = this;\n        this.$observer = new window.ResizeObserver(function(e) {\n            var rect = e[0].contentRect;\n            self.checkForSizeChanges({\n                height: rect.height,\n                width: rect.width / CHAR_COUNT\n            });\n        });\n        this.$observer.observe(this.$measureNode);\n    };\n\n    this.$pollSizeChanges = function() {\n        if (this.$pollSizeChangesTimer || this.$observer)\n            return this.$pollSizeChangesTimer;\n        var self = this;\n        \n        return this.$pollSizeChangesTimer = event.onIdle(function cb() {\n            self.checkForSizeChanges();\n            event.onIdle(cb, 500);\n        }, 500);\n    };\n    \n    this.setPolling = function(val) {\n        if (val) {\n            this.$pollSizeChanges();\n        } else if (this.$pollSizeChangesTimer) {\n            clearInterval(this.$pollSizeChangesTimer);\n            this.$pollSizeChangesTimer = 0;\n        }\n    };\n\n    this.$measureSizes = function(node) {\n        var size = {\n            height: (node || this.$measureNode).clientHeight,\n            width: (node || this.$measureNode).clientWidth / CHAR_COUNT\n        };\n        if (size.width === 0 || size.height === 0)\n            return null;\n        return size;\n    };\n\n    this.$measureCharWidth = function(ch) {\n        this.$main.innerHTML = lang.stringRepeat(ch, CHAR_COUNT);\n        var rect = this.$main.getBoundingClientRect();\n        return rect.width / CHAR_COUNT;\n    };\n    \n    this.getCharacterWidth = function(ch) {\n        var w = this.charSizes[ch];\n        if (w === undefined) {\n            w = this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;\n        }\n        return w;\n    };\n\n    this.destroy = function() {\n        clearInterval(this.$pollSizeChangesTimer);\n        if (this.$observer)\n            this.$observer.disconnect();\n        if (this.el && this.el.parentNode)\n            this.el.parentNode.removeChild(this.el);\n    };\n\n    \n    this.$getZoom = function getZoom(element) {\n        if (!element) return 1;\n        return (window.getComputedStyle(element).zoom || 1) * getZoom(element.parentElement);\n    };\n    this.$initTransformMeasureNodes = function() {\n        var t = function(t, l) {\n            return [\"div\", {\n                style: \"position: absolute;top:\" + t + \"px;left:\" + l + \"px;\"\n            }];\n        };\n        this.els = dom.buildDom([t(0, 0), t(L, 0), t(0, L), t(L, L)], this.el);\n    };\n    this.transformCoordinates = function(clientPos, elPos) {\n        if (clientPos) {\n            var zoom = this.$getZoom(this.el);\n            clientPos = mul(1 / zoom, clientPos);\n        }\n        function solve(l1, l2, r) {\n            var det = l1[1] * l2[0] - l1[0] * l2[1];\n            return [\n                (-l2[1] * r[0] + l2[0] * r[1]) / det,\n                (+l1[1] * r[0] - l1[0] * r[1]) / det\n            ];\n        }\n        function sub(a, b) { return [a[0] - b[0], a[1] - b[1]]; }\n        function add(a, b) { return [a[0] + b[0], a[1] + b[1]]; }\n        function mul(a, b) { return [a * b[0], a * b[1]]; }\n\n        if (!this.els)\n            this.$initTransformMeasureNodes();\n        \n        function p(el) {\n            var r = el.getBoundingClientRect();\n            return [r.left, r.top];\n        }\n\n        var a = p(this.els[0]);\n        var b = p(this.els[1]);\n        var c = p(this.els[2]);\n        var d = p(this.els[3]);\n\n        var h = solve(sub(d, b), sub(d, c), sub(add(b, c), add(d, a)));\n\n        var m1 = mul(1 + h[0], sub(b, a));\n        var m2 = mul(1 + h[1], sub(c, a));\n        \n        if (elPos) {\n            var x = elPos;\n            var k = h[0] * x[0] / L + h[1] * x[1] / L + 1;\n            var ut = add(mul(x[0], m1), mul(x[1], m2));\n            return  add(mul(1 / k / L, ut), a);\n        }\n        var u = sub(clientPos, a);\n        var f = solve(sub(m1, mul(h[0], u)), sub(m2, mul(h[1], u)), u);\n        return mul(L, f);\n    };\n    \n}).call(FontMetrics.prototype);\n\n});\n\ndefine(\"ace/virtual_renderer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/config\",\"ace/layer/gutter\",\"ace/layer/marker\",\"ace/layer/text\",\"ace/layer/cursor\",\"ace/scrollbar\",\"ace/scrollbar\",\"ace/renderloop\",\"ace/layer/font_metrics\",\"ace/lib/event_emitter\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar config = require(\"./config\");\nvar GutterLayer = require(\"./layer/gutter\").Gutter;\nvar MarkerLayer = require(\"./layer/marker\").Marker;\nvar TextLayer = require(\"./layer/text\").Text;\nvar CursorLayer = require(\"./layer/cursor\").Cursor;\nvar HScrollBar = require(\"./scrollbar\").HScrollBar;\nvar VScrollBar = require(\"./scrollbar\").VScrollBar;\nvar RenderLoop = require(\"./renderloop\").RenderLoop;\nvar FontMetrics = require(\"./layer/font_metrics\").FontMetrics;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar editorCss = \"\\\n.ace_br1 {border-top-left-radius    : 3px;}\\\n.ace_br2 {border-top-right-radius   : 3px;}\\\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\\\n.ace_br4 {border-bottom-right-radius: 3px;}\\\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\\\n.ace_br8 {border-bottom-left-radius : 3px;}\\\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\\\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\\\n.ace_editor {\\\nposition: relative;\\\noverflow: hidden;\\\nfont: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;\\\ndirection: ltr;\\\ntext-align: left;\\\n-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\\n}\\\n.ace_scroller {\\\nposition: absolute;\\\noverflow: hidden;\\\ntop: 0;\\\nbottom: 0;\\\nbackground-color: inherit;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\ncursor: text;\\\n}\\\n.ace_content {\\\nposition: absolute;\\\nbox-sizing: border-box;\\\nmin-width: 100%;\\\ncontain: style size layout;\\\nfont-variant-ligatures: no-common-ligatures;\\\n}\\\n.ace_dragging .ace_scroller:before{\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\nbottom: 0;\\\ncontent: '';\\\nbackground: rgba(250, 250, 250, 0.01);\\\nz-index: 1000;\\\n}\\\n.ace_dragging.ace_dark .ace_scroller:before{\\\nbackground: rgba(0, 0, 0, 0.01);\\\n}\\\n.ace_selecting, .ace_selecting * {\\\ncursor: text !important;\\\n}\\\n.ace_gutter {\\\nposition: absolute;\\\noverflow : hidden;\\\nwidth: auto;\\\ntop: 0;\\\nbottom: 0;\\\nleft: 0;\\\ncursor: default;\\\nz-index: 4;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\ncontain: style size layout;\\\n}\\\n.ace_gutter-active-line {\\\nposition: absolute;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_scroller.ace_scroll-left {\\\nbox-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\\\n}\\\n.ace_gutter-cell {\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\npadding-left: 19px;\\\npadding-right: 6px;\\\nbackground-repeat: no-repeat;\\\n}\\\n.ace_gutter-cell.ace_error {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_warning {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_dark .ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_scrollbar {\\\ncontain: strict;\\\nposition: absolute;\\\nright: 0;\\\nbottom: 0;\\\nz-index: 6;\\\n}\\\n.ace_scrollbar-inner {\\\nposition: absolute;\\\ncursor: text;\\\nleft: 0;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-v{\\\noverflow-x: hidden;\\\noverflow-y: scroll;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-h {\\\noverflow-x: scroll;\\\noverflow-y: hidden;\\\nleft: 0;\\\n}\\\n.ace_print-margin {\\\nposition: absolute;\\\nheight: 100%;\\\n}\\\n.ace_text-input {\\\nposition: absolute;\\\nz-index: 0;\\\nwidth: 0.5em;\\\nheight: 1em;\\\nopacity: 0;\\\nbackground: transparent;\\\n-moz-appearance: none;\\\nappearance: none;\\\nborder: none;\\\nresize: none;\\\noutline: none;\\\noverflow: hidden;\\\nfont: inherit;\\\npadding: 0 1px;\\\nmargin: 0 -1px;\\\ncontain: strict;\\\n-ms-user-select: text;\\\n-moz-user-select: text;\\\n-webkit-user-select: text;\\\nuser-select: text;\\\nwhite-space: pre!important;\\\n}\\\n.ace_text-input.ace_composition {\\\nbackground: transparent;\\\ncolor: inherit;\\\nz-index: 1000;\\\nopacity: 1;\\\n}\\\n.ace_composition_placeholder { color: transparent }\\\n.ace_composition_marker { \\\nborder-bottom: 1px solid;\\\nposition: absolute;\\\nborder-radius: 0;\\\nmargin-top: 1px;\\\n}\\\n[ace_nocontext=true] {\\\ntransform: none!important;\\\nfilter: none!important;\\\nclip-path: none!important;\\\nmask : none!important;\\\ncontain: none!important;\\\nperspective: none!important;\\\nmix-blend-mode: initial!important;\\\nz-index: auto;\\\n}\\\n.ace_layer {\\\nz-index: 1;\\\nposition: absolute;\\\noverflow: hidden;\\\nword-wrap: normal;\\\nwhite-space: pre;\\\nheight: 100%;\\\nwidth: 100%;\\\nbox-sizing: border-box;\\\npointer-events: none;\\\n}\\\n.ace_gutter-layer {\\\nposition: relative;\\\nwidth: auto;\\\ntext-align: right;\\\npointer-events: auto;\\\nheight: 1000000px;\\\ncontain: style size layout;\\\n}\\\n.ace_text-layer {\\\nfont: inherit !important;\\\nposition: absolute;\\\nheight: 1000000px;\\\nwidth: 1000000px;\\\ncontain: style size layout;\\\n}\\\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\\\ncontain: style size layout;\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_hidpi .ace_text-layer,\\\n.ace_hidpi .ace_gutter-layer,\\\n.ace_hidpi .ace_content,\\\n.ace_hidpi .ace_gutter {\\\ncontain: strict;\\\nwill-change: transform;\\\n}\\\n.ace_hidpi .ace_text-layer > .ace_line, \\\n.ace_hidpi .ace_text-layer > .ace_line_group {\\\ncontain: strict;\\\n}\\\n.ace_cjk {\\\ndisplay: inline-block;\\\ntext-align: center;\\\n}\\\n.ace_cursor-layer {\\\nz-index: 4;\\\n}\\\n.ace_cursor {\\\nz-index: 4;\\\nposition: absolute;\\\nbox-sizing: border-box;\\\nborder-left: 2px solid;\\\ntransform: translatez(0);\\\n}\\\n.ace_multiselect .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_slim-cursors .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_overwrite-cursors .ace_cursor {\\\nborder-left-width: 0;\\\nborder-bottom: 1px solid;\\\n}\\\n.ace_hidden-cursors .ace_cursor {\\\nopacity: 0.2;\\\n}\\\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\\\nopacity: 0;\\\n}\\\n.ace_smooth-blinking .ace_cursor {\\\ntransition: opacity 0.18s;\\\n}\\\n.ace_animate-blinking .ace_cursor {\\\nanimation-duration: 1000ms;\\\nanimation-timing-function: step-end;\\\nanimation-name: blink-ace-animate;\\\nanimation-iteration-count: infinite;\\\n}\\\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\\\nanimation-duration: 1000ms;\\\nanimation-timing-function: ease-in-out;\\\nanimation-name: blink-ace-animate-smooth;\\\n}\\\n@keyframes blink-ace-animate {\\\nfrom, to { opacity: 1; }\\\n60% { opacity: 0; }\\\n}\\\n@keyframes blink-ace-animate-smooth {\\\nfrom, to { opacity: 1; }\\\n45% { opacity: 1; }\\\n60% { opacity: 0; }\\\n85% { opacity: 0; }\\\n}\\\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\\\nposition: absolute;\\\nz-index: 3;\\\n}\\\n.ace_marker-layer .ace_selection {\\\nposition: absolute;\\\nz-index: 5;\\\n}\\\n.ace_marker-layer .ace_bracket {\\\nposition: absolute;\\\nz-index: 6;\\\n}\\\n.ace_marker-layer .ace_error_bracket {\\\nposition: absolute;\\\nborder-bottom: 1px solid #DE5555;\\\nborder-radius: 0;\\\n}\\\n.ace_marker-layer .ace_active-line {\\\nposition: absolute;\\\nz-index: 2;\\\n}\\\n.ace_marker-layer .ace_selected-word {\\\nposition: absolute;\\\nz-index: 4;\\\nbox-sizing: border-box;\\\n}\\\n.ace_line .ace_fold {\\\nbox-sizing: border-box;\\\ndisplay: inline-block;\\\nheight: 11px;\\\nmargin-top: -2px;\\\nvertical-align: middle;\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\\\");\\\nbackground-repeat: no-repeat, repeat-x;\\\nbackground-position: center center, top left;\\\ncolor: transparent;\\\nborder: 1px solid black;\\\nborder-radius: 2px;\\\ncursor: pointer;\\\npointer-events: auto;\\\n}\\\n.ace_dark .ace_fold {\\\n}\\\n.ace_fold:hover{\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_tooltip {\\\nbackground-color: #FFF;\\\nbackground-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\\\nborder: 1px solid gray;\\\nborder-radius: 1px;\\\nbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\\\ncolor: black;\\\nmax-width: 100%;\\\npadding: 3px 4px;\\\nposition: fixed;\\\nz-index: 999999;\\\nbox-sizing: border-box;\\\ncursor: default;\\\nwhite-space: pre;\\\nword-wrap: break-word;\\\nline-height: normal;\\\nfont-style: normal;\\\nfont-weight: normal;\\\nletter-spacing: normal;\\\npointer-events: none;\\\n}\\\n.ace_folding-enabled > .ace_gutter-cell {\\\npadding-right: 13px;\\\n}\\\n.ace_fold-widget {\\\nbox-sizing: border-box;\\\nmargin: 0 -12px 0 1px;\\\ndisplay: none;\\\nwidth: 11px;\\\nvertical-align: top;\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: center;\\\nborder-radius: 3px;\\\nborder: 1px solid transparent;\\\ncursor: pointer;\\\n}\\\n.ace_folding-enabled .ace_fold-widget {\\\ndisplay: inline-block;   \\\n}\\\n.ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\\\");\\\n}\\\n.ace_fold-widget:hover {\\\nborder: 1px solid rgba(0, 0, 0, 0.3);\\\nbackground-color: rgba(255, 255, 255, 0.2);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\\n}\\\n.ace_fold-widget:active {\\\nborder: 1px solid rgba(0, 0, 0, 0.4);\\\nbackground-color: rgba(0, 0, 0, 0.05);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\\n}\\\n.ace_dark .ace_fold-widget {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget:hover {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\nbackground-color: rgba(255, 255, 255, 0.1);\\\n}\\\n.ace_dark .ace_fold-widget:active {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\n}\\\n.ace_inline_button {\\\nborder: 1px solid lightgray;\\\ndisplay: inline-block;\\\nmargin: -1px 8px;\\\npadding: 0 5px;\\\npointer-events: auto;\\\ncursor: pointer;\\\n}\\\n.ace_inline_button:hover {\\\nborder-color: gray;\\\nbackground: rgba(200,200,200,0.2);\\\ndisplay: inline-block;\\\npointer-events: auto;\\\n}\\\n.ace_fold-widget.ace_invalid {\\\nbackground-color: #FFB4B4;\\\nborder-color: #DE5555;\\\n}\\\n.ace_fade-fold-widgets .ace_fold-widget {\\\ntransition: opacity 0.4s ease 0.05s;\\\nopacity: 0;\\\n}\\\n.ace_fade-fold-widgets:hover .ace_fold-widget {\\\ntransition: opacity 0.05s ease 0.05s;\\\nopacity:1;\\\n}\\\n.ace_underline {\\\ntext-decoration: underline;\\\n}\\\n.ace_bold {\\\nfont-weight: bold;\\\n}\\\n.ace_nobold .ace_bold {\\\nfont-weight: normal;\\\n}\\\n.ace_italic {\\\nfont-style: italic;\\\n}\\\n.ace_error-marker {\\\nbackground-color: rgba(255, 0, 0,0.2);\\\nposition: absolute;\\\nz-index: 9;\\\n}\\\n.ace_highlight-marker {\\\nbackground-color: rgba(255, 255, 0,0.2);\\\nposition: absolute;\\\nz-index: 8;\\\n}\\\n.ace_mobile-menu {\\\nposition: absolute;\\\nline-height: 1.5;\\\nborder-radius: 4px;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\nbackground: white;\\\nbox-shadow: 1px 3px 2px grey;\\\nborder: 1px solid #dcdcdc;\\\ncolor: black;\\\n}\\\n.ace_dark > .ace_mobile-menu {\\\nbackground: #333;\\\ncolor: #ccc;\\\nbox-shadow: 1px 3px 2px grey;\\\nborder: 1px solid #444;\\\n}\\\n.ace_mobile-button {\\\npadding: 2px;\\\ncursor: pointer;\\\noverflow: hidden;\\\n}\\\n.ace_mobile-button:hover {\\\nbackground-color: #eee;\\\nopacity:1;\\\n}\\\n.ace_mobile-button:active {\\\nbackground-color: #ddd;\\\n}\\\n.ace_placeholder {\\\nfont-family: arial;\\\ntransform: scale(0.9);\\\ntransform-origin: left;\\\nwhite-space: pre;\\\nopacity: 0.7;\\\nmargin: 0 10px;\\\n}\";\n\nvar useragent = require(\"./lib/useragent\");\nvar HIDE_TEXTAREA = useragent.isIE;\n\ndom.importCssString(editorCss, \"ace_editor.css\");\n\nvar VirtualRenderer = function(container, theme) {\n    var _self = this;\n\n    this.container = container || dom.createElement(\"div\");\n\n    dom.addCssClass(this.container, \"ace_editor\");\n    if (dom.HI_DPI) dom.addCssClass(this.container, \"ace_hidpi\");\n\n    this.setTheme(theme);\n\n    this.$gutter = dom.createElement(\"div\");\n    this.$gutter.className = \"ace_gutter\";\n    this.container.appendChild(this.$gutter);\n    this.$gutter.setAttribute(\"aria-hidden\", true);\n\n    this.scroller = dom.createElement(\"div\");\n    this.scroller.className = \"ace_scroller\";\n    \n    this.container.appendChild(this.scroller);\n\n    this.content = dom.createElement(\"div\");\n    this.content.className = \"ace_content\";\n    this.scroller.appendChild(this.content);\n\n    this.$gutterLayer = new GutterLayer(this.$gutter);\n    this.$gutterLayer.on(\"changeGutterWidth\", this.onGutterResize.bind(this));\n\n    this.$markerBack = new MarkerLayer(this.content);\n\n    var textLayer = this.$textLayer = new TextLayer(this.content);\n    this.canvas = textLayer.element;\n\n    this.$markerFront = new MarkerLayer(this.content);\n\n    this.$cursorLayer = new CursorLayer(this.content);\n    this.$horizScroll = false;\n    this.$vScroll = false;\n\n    this.scrollBar = \n    this.scrollBarV = new VScrollBar(this.container, this);\n    this.scrollBarH = new HScrollBar(this.container, this);\n    this.scrollBarV.addEventListener(\"scroll\", function(e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n    });\n    this.scrollBarH.addEventListener(\"scroll\", function(e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n    });\n\n    this.scrollTop = 0;\n    this.scrollLeft = 0;\n\n    this.cursorPos = {\n        row : 0,\n        column : 0\n    };\n\n    this.$fontMetrics = new FontMetrics(this.container);\n    this.$textLayer.$setFontMetrics(this.$fontMetrics);\n    this.$textLayer.addEventListener(\"changeCharacterSize\", function(e) {\n        _self.updateCharacterSize();\n        _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);\n        _self._signal(\"changeCharacterSize\", e);\n    });\n\n    this.$size = {\n        width: 0,\n        height: 0,\n        scrollerHeight: 0,\n        scrollerWidth: 0,\n        $dirty: true\n    };\n\n    this.layerConfig = {\n        width : 1,\n        padding : 0,\n        firstRow : 0,\n        firstRowScreen: 0,\n        lastRow : 0,\n        lineHeight : 0,\n        characterWidth : 0,\n        minHeight : 1,\n        maxHeight : 1,\n        offset : 0,\n        height : 1,\n        gutterOffset: 1\n    };\n    \n    this.scrollMargin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n    \n    this.margin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n    \n    this.$keepTextAreaAtCursor = !useragent.isIOS;\n\n    this.$loop = new RenderLoop(\n        this.$renderChanges.bind(this),\n        this.container.ownerDocument.defaultView\n    );\n    this.$loop.schedule(this.CHANGE_FULL);\n\n    this.updateCharacterSize();\n    this.setPadding(4);\n    config.resetOptions(this);\n    config._signal(\"renderer\", this);\n};\n\n(function() {\n\n    this.CHANGE_CURSOR = 1;\n    this.CHANGE_MARKER = 2;\n    this.CHANGE_GUTTER = 4;\n    this.CHANGE_SCROLL = 8;\n    this.CHANGE_LINES = 16;\n    this.CHANGE_TEXT = 32;\n    this.CHANGE_SIZE = 64;\n    this.CHANGE_MARKER_BACK = 128;\n    this.CHANGE_MARKER_FRONT = 256;\n    this.CHANGE_FULL = 512;\n    this.CHANGE_H_SCROLL = 1024;\n\n    oop.implement(this, EventEmitter);\n\n    this.updateCharacterSize = function() {\n        if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {\n            this.$allowBoldFonts = this.$textLayer.allowBoldFonts;\n            this.setStyle(\"ace_nobold\", !this.$allowBoldFonts);\n        }\n\n        this.layerConfig.characterWidth =\n        this.characterWidth = this.$textLayer.getCharacterWidth();\n        this.layerConfig.lineHeight =\n        this.lineHeight = this.$textLayer.getLineHeight();\n        this.$updatePrintMargin();\n        dom.setStyle(this.scroller.style, \"line-height\", this.lineHeight + \"px\");\n    };\n    this.setSession = function(session) {\n        if (this.session)\n            this.session.doc.off(\"changeNewLineMode\", this.onChangeNewLineMode);\n            \n        this.session = session;\n        if (session && this.scrollMargin.top && session.getScrollTop() <= 0)\n            session.setScrollTop(-this.scrollMargin.top);\n\n        this.$cursorLayer.setSession(session);\n        this.$markerBack.setSession(session);\n        this.$markerFront.setSession(session);\n        this.$gutterLayer.setSession(session);\n        this.$textLayer.setSession(session);\n        if (!session)\n            return;\n        \n        this.$loop.schedule(this.CHANGE_FULL);\n        this.session.$setFontMetrics(this.$fontMetrics);\n        this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;\n        \n        this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);\n        this.onChangeNewLineMode();\n        this.session.doc.on(\"changeNewLineMode\", this.onChangeNewLineMode);\n    };\n    this.updateLines = function(firstRow, lastRow, force) {\n        if (lastRow === undefined)\n            lastRow = Infinity;\n\n        if (!this.$changedLines) {\n            this.$changedLines = {\n                firstRow: firstRow,\n                lastRow: lastRow\n            };\n        }\n        else {\n            if (this.$changedLines.firstRow > firstRow)\n                this.$changedLines.firstRow = firstRow;\n\n            if (this.$changedLines.lastRow < lastRow)\n                this.$changedLines.lastRow = lastRow;\n        }\n        if (this.$changedLines.lastRow < this.layerConfig.firstRow) {\n            if (force)\n                this.$changedLines.lastRow = this.layerConfig.lastRow;\n            else\n                return;\n        }\n        if (this.$changedLines.firstRow > this.layerConfig.lastRow)\n            return;\n        this.$loop.schedule(this.CHANGE_LINES);\n    };\n\n    this.onChangeNewLineMode = function() {\n        this.$loop.schedule(this.CHANGE_TEXT);\n        this.$textLayer.$updateEolChar();\n        this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);\n    };\n    \n    this.onChangeTabSize = function() {\n        this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);\n        this.$textLayer.onChangeTabSize();\n    };\n    this.updateText = function() {\n        this.$loop.schedule(this.CHANGE_TEXT);\n    };\n    this.updateFull = function(force) {\n        if (force)\n            this.$renderChanges(this.CHANGE_FULL, true);\n        else\n            this.$loop.schedule(this.CHANGE_FULL);\n    };\n    this.updateFontSize = function() {\n        this.$textLayer.checkForSizeChanges();\n    };\n\n    this.$changes = 0;\n    this.$updateSizeAsync = function() {\n        if (this.$loop.pending)\n            this.$size.$dirty = true;\n        else\n            this.onResize();\n    };\n    this.onResize = function(force, gutterWidth, width, height) {\n        if (this.resizing > 2)\n            return;\n        else if (this.resizing > 0)\n            this.resizing++;\n        else\n            this.resizing = force ? 1 : 0;\n        var el = this.container;\n        if (!height)\n            height = el.clientHeight || el.scrollHeight;\n        if (!width)\n            width = el.clientWidth || el.scrollWidth;\n        var changes = this.$updateCachedSize(force, gutterWidth, width, height);\n\n        \n        if (!this.$size.scrollerHeight || (!width && !height))\n            return this.resizing = 0;\n\n        if (force)\n            this.$gutterLayer.$padding = null;\n\n        if (force)\n            this.$renderChanges(changes | this.$changes, true);\n        else\n            this.$loop.schedule(changes | this.$changes);\n\n        if (this.resizing)\n            this.resizing = 0;\n        this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null;\n    };\n    \n    this.$updateCachedSize = function(force, gutterWidth, width, height) {\n        height -= (this.$extraHeight || 0);\n        var changes = 0;\n        var size = this.$size;\n        var oldSize = {\n            width: size.width,\n            height: size.height,\n            scrollerHeight: size.scrollerHeight,\n            scrollerWidth: size.scrollerWidth\n        };\n        if (height && (force || size.height != height)) {\n            size.height = height;\n            changes |= this.CHANGE_SIZE;\n\n            size.scrollerHeight = size.height;\n            if (this.$horizScroll)\n                size.scrollerHeight -= this.scrollBarH.getHeight();\n            this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + \"px\";\n\n            changes = changes | this.CHANGE_SCROLL;\n        }\n\n        if (width && (force || size.width != width)) {\n            changes |= this.CHANGE_SIZE;\n            size.width = width;\n            \n            if (gutterWidth == null)\n                gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n            \n            this.gutterWidth = gutterWidth;\n            \n            dom.setStyle(this.scrollBarH.element.style, \"left\", gutterWidth + \"px\");\n            dom.setStyle(this.scroller.style, \"left\", gutterWidth + this.margin.left + \"px\");\n            size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth() - this.margin.h);\n            dom.setStyle(this.$gutter.style, \"left\", this.margin.left + \"px\");\n            \n            var right = this.scrollBarV.getWidth() + \"px\";\n            dom.setStyle(this.scrollBarH.element.style, \"right\", right);\n            dom.setStyle(this.scroller.style, \"right\", right);\n            dom.setStyle(this.scroller.style, \"bottom\", this.scrollBarH.getHeight());\n\n            if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force) {\n                changes |= this.CHANGE_FULL;\n            }\n        }\n        \n        size.$dirty = !width || !height;\n\n        if (changes)\n            this._signal(\"resize\", oldSize);\n\n        return changes;\n    };\n\n    this.onGutterResize = function(width) {\n        var gutterWidth = this.$showGutter ? width : 0;\n        if (gutterWidth != this.gutterWidth)\n            this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);\n\n        if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        } else if (this.$size.$dirty) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        } else {\n            this.$computeLayerConfig();\n        }\n    };\n    this.adjustWrapLimit = function() {\n        var availableWidth = this.$size.scrollerWidth - this.$padding * 2;\n        var limit = Math.floor(availableWidth / this.characterWidth);\n        return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);\n    };\n    this.setAnimatedScroll = function(shouldAnimate){\n        this.setOption(\"animatedScroll\", shouldAnimate);\n    };\n    this.getAnimatedScroll = function() {\n        return this.$animatedScroll;\n    };\n    this.setShowInvisibles = function(showInvisibles) {\n        this.setOption(\"showInvisibles\", showInvisibles);\n        this.session.$bidiHandler.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function() {\n        return this.getOption(\"showInvisibles\");\n    };\n    this.getDisplayIndentGuides = function() {\n        return this.getOption(\"displayIndentGuides\");\n    };\n\n    this.setDisplayIndentGuides = function(display) {\n        this.setOption(\"displayIndentGuides\", display);\n    };\n    this.setShowPrintMargin = function(showPrintMargin) {\n        this.setOption(\"showPrintMargin\", showPrintMargin);\n    };\n    this.getShowPrintMargin = function() {\n        return this.getOption(\"showPrintMargin\");\n    };\n    this.setPrintMarginColumn = function(showPrintMargin) {\n        this.setOption(\"printMarginColumn\", showPrintMargin);\n    };\n    this.getPrintMarginColumn = function() {\n        return this.getOption(\"printMarginColumn\");\n    };\n    this.getShowGutter = function(){\n        return this.getOption(\"showGutter\");\n    };\n    this.setShowGutter = function(show){\n        return this.setOption(\"showGutter\", show);\n    };\n\n    this.getFadeFoldWidgets = function(){\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n\n    this.setFadeFoldWidgets = function(show) {\n        this.setOption(\"fadeFoldWidgets\", show);\n    };\n\n    this.setHighlightGutterLine = function(shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function() {\n        return this.getOption(\"highlightGutterLine\");\n    };\n\n    this.$updatePrintMargin = function() {\n        if (!this.$showPrintMargin && !this.$printMarginEl)\n            return;\n\n        if (!this.$printMarginEl) {\n            var containerEl = dom.createElement(\"div\");\n            containerEl.className = \"ace_layer ace_print-margin-layer\";\n            this.$printMarginEl = dom.createElement(\"div\");\n            this.$printMarginEl.className = \"ace_print-margin\";\n            containerEl.appendChild(this.$printMarginEl);\n            this.content.insertBefore(containerEl, this.content.firstChild);\n        }\n\n        var style = this.$printMarginEl.style;\n        style.left = Math.round(this.characterWidth * this.$printMarginColumn + this.$padding) + \"px\";\n        style.visibility = this.$showPrintMargin ? \"visible\" : \"hidden\";\n        \n        if (this.session && this.session.$wrap == -1)\n            this.adjustWrapLimit();\n    };\n    this.getContainerElement = function() {\n        return this.container;\n    };\n    this.getMouseEventTarget = function() {\n        return this.scroller;\n    };\n    this.getTextAreaContainer = function() {\n        return this.container;\n    };\n    this.$moveTextAreaToCursor = function() {\n        if (this.$isMousePressed) return;\n        var style = this.textarea.style;\n        var composition = this.$composition;\n        if (!this.$keepTextAreaAtCursor && !composition) {\n            dom.translate(this.textarea, -100, 0);\n            return;\n        }\n        var pixelPos = this.$cursorLayer.$pixelPos;\n        if (!pixelPos)\n            return;\n        if (composition && composition.markerRange)\n            pixelPos = this.$cursorLayer.getPixelPosition(composition.markerRange.start, true);\n        \n        var config = this.layerConfig;\n        var posTop = pixelPos.top;\n        var posLeft = pixelPos.left;\n        posTop -= config.offset;\n\n        var h = composition && composition.useTextareaForIME ? this.lineHeight : HIDE_TEXTAREA ? 0 : 1;\n        if (posTop < 0 || posTop > config.height - h) {\n            dom.translate(this.textarea, 0, 0);\n            return;\n        }\n\n        var w = 1;\n        var maxTop = this.$size.height - h;\n        if (!composition) {\n            posTop += this.lineHeight;\n        }\n        else {\n            if (composition.useTextareaForIME) {\n                var val = this.textarea.value;\n                w = this.characterWidth * (this.session.$getStringScreenWidth(val)[0]);\n            }\n            else {\n                posTop += this.lineHeight + 2;\n            }\n        }\n        \n        posLeft -= this.scrollLeft;\n        if (posLeft > this.$size.scrollerWidth - w)\n            posLeft = this.$size.scrollerWidth - w;\n\n        posLeft += this.gutterWidth + this.margin.left;\n\n        dom.setStyle(style, \"height\", h + \"px\");\n        dom.setStyle(style, \"width\", w + \"px\");\n        dom.translate(this.textarea, Math.min(posLeft, this.$size.scrollerWidth - w), Math.min(posTop, maxTop));\n    };\n    this.getFirstVisibleRow = function() {\n        return this.layerConfig.firstRow;\n    };\n    this.getFirstFullyVisibleRow = function() {\n        return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);\n    };\n    this.getLastFullyVisibleRow = function() {\n        var config = this.layerConfig;\n        var lastRow = config.lastRow;\n        var top = this.session.documentToScreenRow(lastRow, 0) * config.lineHeight;\n        if (top - this.session.getScrollTop() > config.height - config.lineHeight)\n            return lastRow - 1;\n        return lastRow;\n    };\n    this.getLastVisibleRow = function() {\n        return this.layerConfig.lastRow;\n    };\n\n    this.$padding = null;\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n        this.$textLayer.setPadding(padding);\n        this.$cursorLayer.setPadding(padding);\n        this.$markerFront.setPadding(padding);\n        this.$markerBack.setPadding(padding);\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.$updatePrintMargin();\n    };\n    \n    this.setScrollMargin = function(top, bottom, left, right) {\n        var sm = this.scrollMargin;\n        sm.top = top|0;\n        sm.bottom = bottom|0;\n        sm.right = right|0;\n        sm.left = left|0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        if (sm.top && this.scrollTop <= 0 && this.session)\n            this.session.setScrollTop(-sm.top);\n        this.updateFull();\n    };\n    \n    this.setMargin = function(top, bottom, left, right) {\n        var sm = this.margin;\n        sm.top = top|0;\n        sm.bottom = bottom|0;\n        sm.right = right|0;\n        sm.left = left|0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        this.$updateCachedSize(true, this.gutterWidth, this.$size.width, this.$size.height);\n        this.updateFull();\n    };\n    this.getHScrollBarAlwaysVisible = function() {\n        return this.$hScrollBarAlwaysVisible;\n    };\n    this.setHScrollBarAlwaysVisible = function(alwaysVisible) {\n        this.setOption(\"hScrollBarAlwaysVisible\", alwaysVisible);\n    };\n    this.getVScrollBarAlwaysVisible = function() {\n        return this.$vScrollBarAlwaysVisible;\n    };\n    this.setVScrollBarAlwaysVisible = function(alwaysVisible) {\n        this.setOption(\"vScrollBarAlwaysVisible\", alwaysVisible);\n    };\n\n    this.$updateScrollBarV = function() {\n        var scrollHeight = this.layerConfig.maxHeight;\n        var scrollerHeight = this.$size.scrollerHeight;\n        if (!this.$maxLines && this.$scrollPastEnd) {\n            scrollHeight -= (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;\n            if (this.scrollTop > scrollHeight - scrollerHeight) {\n                scrollHeight = this.scrollTop + scrollerHeight;\n                this.scrollBarV.scrollTop = null;\n            }\n        }\n        this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);\n        this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);\n    };\n    this.$updateScrollBarH = function() {\n        this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);\n        this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);\n    };\n    \n    this.$frozen = false;\n    this.freeze = function() {\n        this.$frozen = true;\n    };\n    \n    this.unfreeze = function() {\n        this.$frozen = false;\n    };\n\n    this.$renderChanges = function(changes, force) {\n        if (this.$changes) {\n            changes |= this.$changes;\n            this.$changes = 0;\n        }\n        if ((!this.session || !this.container.offsetWidth || this.$frozen) || (!changes && !force)) {\n            this.$changes |= changes;\n            return; \n        } \n        if (this.$size.$dirty) {\n            this.$changes |= changes;\n            return this.onResize(true);\n        }\n        if (!this.lineHeight) {\n            this.$textLayer.checkForSizeChanges();\n        }\n        \n        this._signal(\"beforeRender\", changes);\n        \n        if (this.session && this.session.$bidiHandler)\n            this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);\n\n        var config = this.layerConfig;\n        if (changes & this.CHANGE_FULL ||\n            changes & this.CHANGE_SIZE ||\n            changes & this.CHANGE_TEXT ||\n            changes & this.CHANGE_LINES ||\n            changes & this.CHANGE_SCROLL ||\n            changes & this.CHANGE_H_SCROLL\n        ) {\n            changes |= this.$computeLayerConfig() | this.$loop.clear();\n            if (config.firstRow != this.layerConfig.firstRow && config.firstRowScreen == this.layerConfig.firstRowScreen) {\n                var st = this.scrollTop + (config.firstRow - this.layerConfig.firstRow) * this.lineHeight;\n                if (st > 0) {\n                    this.scrollTop = st;\n                    changes = changes | this.CHANGE_SCROLL;\n                    changes |= this.$computeLayerConfig() | this.$loop.clear();\n                }\n            }\n            config = this.layerConfig;\n            this.$updateScrollBarV();\n            if (changes & this.CHANGE_H_SCROLL)\n                this.$updateScrollBarH();\n            \n            dom.translate(this.content, -this.scrollLeft, -config.offset);\n            \n            var width = config.width + 2 * this.$padding + \"px\";\n            var height = config.minHeight + \"px\";\n            \n            dom.setStyle(this.content.style, \"width\", width);\n            dom.setStyle(this.content.style, \"height\", height);\n        }\n        if (changes & this.CHANGE_H_SCROLL) {\n            dom.translate(this.content, -this.scrollLeft, -config.offset);\n            this.scroller.className = this.scrollLeft <= 0 ? \"ace_scroller\" : \"ace_scroller ace_scroll-left\";\n        }\n        if (changes & this.CHANGE_FULL) {\n            this.$changedLines = null;\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\", changes);\n            return;\n        }\n        if (changes & this.CHANGE_SCROLL) {\n            this.$changedLines = null;\n            if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES)\n                this.$textLayer.update(config);\n            else\n                this.$textLayer.scrollLines(config);\n\n            if (this.$showGutter) {\n                if (changes & this.CHANGE_GUTTER || changes & this.CHANGE_LINES)\n                    this.$gutterLayer.update(config);\n                else\n                    this.$gutterLayer.scrollLines(config);\n            }\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\", changes);\n            return;\n        }\n\n        if (changes & this.CHANGE_TEXT) {\n            this.$changedLines = null;\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_LINES) {\n            if (this.$updateLines() || (changes & this.CHANGE_GUTTER) && this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_CURSOR) {\n            if (this.$highlightGutterLine)\n                this.$gutterLayer.updateLineHighlight(config);\n        }\n\n        if (changes & this.CHANGE_CURSOR) {\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n        }\n\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {\n            this.$markerFront.update(config);\n        }\n\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {\n            this.$markerBack.update(config);\n        }\n\n        this._signal(\"afterRender\", changes);\n    };\n\n    \n    this.$autosize = function() {\n        var height = this.session.getScreenLength() * this.lineHeight;\n        var maxHeight = this.$maxLines * this.lineHeight;\n        var desiredHeight = Math.min(maxHeight, \n            Math.max((this.$minLines || 1) * this.lineHeight, height)\n        ) + this.scrollMargin.v + (this.$extraHeight || 0);\n        if (this.$horizScroll)\n            desiredHeight += this.scrollBarH.getHeight();\n        if (this.$maxPixelHeight && desiredHeight > this.$maxPixelHeight)\n            desiredHeight = this.$maxPixelHeight;\n        \n        var hideScrollbars = desiredHeight <= 2 * this.lineHeight;\n        var vScroll = !hideScrollbars && height > maxHeight;\n        \n        if (desiredHeight != this.desiredHeight ||\n            this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {\n            if (vScroll != this.$vScroll) {\n                this.$vScroll = vScroll;\n                this.scrollBarV.setVisible(vScroll);\n            }\n            \n            var w = this.container.clientWidth;\n            this.container.style.height = desiredHeight + \"px\";\n            this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);\n            this.desiredHeight = desiredHeight;\n            \n            this._signal(\"autosize\");\n        }\n    };\n    \n    this.$computeLayerConfig = function() {\n        var session = this.session;\n        var size = this.$size;\n        \n        var hideScrollbars = size.height <= 2 * this.lineHeight;\n        var screenLines = this.session.getScreenLength();\n        var maxHeight = screenLines * this.lineHeight;\n\n        var longestLine = this.$getLongestLine();\n        \n        var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible ||\n            size.scrollerWidth - longestLine - 2 * this.$padding < 0);\n\n        var hScrollChanged = this.$horizScroll !== horizScroll;\n        if (hScrollChanged) {\n            this.$horizScroll = horizScroll;\n            this.scrollBarH.setVisible(horizScroll);\n        }\n        var vScrollBefore = this.$vScroll; // autosize can change vscroll value in which case we need to update longestLine\n        if (this.$maxLines && this.lineHeight > 1)\n            this.$autosize();\n\n        var minHeight = size.scrollerHeight + this.lineHeight;\n        \n        var scrollPastEnd = !this.$maxLines && this.$scrollPastEnd\n            ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd\n            : 0;\n        maxHeight += scrollPastEnd;\n        \n        var sm = this.scrollMargin;\n        this.session.setScrollTop(Math.max(-sm.top,\n            Math.min(this.scrollTop, maxHeight - size.scrollerHeight + sm.bottom)));\n\n        this.session.setScrollLeft(Math.max(-sm.left, Math.min(this.scrollLeft, \n            longestLine + 2 * this.$padding - size.scrollerWidth + sm.right)));\n        \n        var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible ||\n            size.scrollerHeight - maxHeight + scrollPastEnd < 0 || this.scrollTop > sm.top);\n        var vScrollChanged = vScrollBefore !== vScroll;\n        if (vScrollChanged) {\n            this.$vScroll = vScroll;\n            this.scrollBarV.setVisible(vScroll);\n        }\n\n        var offset = this.scrollTop % this.lineHeight;\n        var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;\n        var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));\n        var lastRow = firstRow + lineCount;\n        var firstRowScreen, firstRowHeight;\n        var lineHeight = this.lineHeight;\n        firstRow = session.screenToDocumentRow(firstRow, 0);\n        var foldLine = session.getFoldLine(firstRow);\n        if (foldLine) {\n            firstRow = foldLine.start.row;\n        }\n\n        firstRowScreen = session.documentToScreenRow(firstRow, 0);\n        firstRowHeight = session.getRowLength(firstRow) * lineHeight;\n\n        lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);\n        minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight +\n                                                firstRowHeight;\n\n        offset = this.scrollTop - firstRowScreen * lineHeight;\n\n        var changes = 0;\n        if (this.layerConfig.width != longestLine || hScrollChanged) \n            changes = this.CHANGE_H_SCROLL;\n        if (hScrollChanged || vScrollChanged) {\n            changes |= this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);\n            this._signal(\"scrollbarVisibilityChanged\");\n            if (vScrollChanged)\n                longestLine = this.$getLongestLine();\n        }\n        \n        this.layerConfig = {\n            width : longestLine,\n            padding : this.$padding,\n            firstRow : firstRow,\n            firstRowScreen: firstRowScreen,\n            lastRow : lastRow,\n            lineHeight : lineHeight,\n            characterWidth : this.characterWidth,\n            minHeight : minHeight,\n            maxHeight : maxHeight,\n            offset : offset,\n            gutterOffset : lineHeight ? Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)) : 0,\n            height : this.$size.scrollerHeight\n        };\n\n        if (this.session.$bidiHandler)\n            this.session.$bidiHandler.setContentWidth(longestLine - this.$padding);\n\n        return changes;\n    };\n\n    this.$updateLines = function() {\n        if (!this.$changedLines) return;\n        var firstRow = this.$changedLines.firstRow;\n        var lastRow = this.$changedLines.lastRow;\n        this.$changedLines = null;\n\n        var layerConfig = this.layerConfig;\n\n        if (firstRow > layerConfig.lastRow + 1) { return; }\n        if (lastRow < layerConfig.firstRow) { return; }\n        if (lastRow === Infinity) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(layerConfig);\n            this.$textLayer.update(layerConfig);\n            return;\n        }\n        this.$textLayer.updateLines(layerConfig, firstRow, lastRow);\n        return true;\n    };\n\n    this.$getLongestLine = function() {\n        var charCount = this.session.getScreenWidth();\n        if (this.showInvisibles && !this.session.$useWrapMode)\n            charCount += 1;\n            \n        if (this.$textLayer && charCount > this.$textLayer.MAX_LINE_LENGTH)\n            charCount = this.$textLayer.MAX_LINE_LENGTH + 30;\n\n        return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));\n    };\n    this.updateFrontMarkers = function() {\n        this.$markerFront.setMarkers(this.session.getMarkers(true));\n        this.$loop.schedule(this.CHANGE_MARKER_FRONT);\n    };\n    this.updateBackMarkers = function() {\n        this.$markerBack.setMarkers(this.session.getMarkers());\n        this.$loop.schedule(this.CHANGE_MARKER_BACK);\n    };\n    this.addGutterDecoration = function(row, className){\n        this.$gutterLayer.addGutterDecoration(row, className);\n    };\n    this.removeGutterDecoration = function(row, className){\n        this.$gutterLayer.removeGutterDecoration(row, className);\n    };\n    this.updateBreakpoints = function(rows) {\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.setAnnotations = function(annotations) {\n        this.$gutterLayer.setAnnotations(annotations);\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.updateCursor = function() {\n        this.$loop.schedule(this.CHANGE_CURSOR);\n    };\n    this.hideCursor = function() {\n        this.$cursorLayer.hideCursor();\n    };\n    this.showCursor = function() {\n        this.$cursorLayer.showCursor();\n    };\n\n    this.scrollSelectionIntoView = function(anchor, lead, offset) {\n        this.scrollCursorIntoView(anchor, offset);\n        this.scrollCursorIntoView(lead, offset);\n    };\n    this.scrollCursorIntoView = function(cursor, offset, $viewMargin) {\n        if (this.$size.scrollerHeight === 0)\n            return;\n\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n\n        var left = pos.left;\n        var top = pos.top;\n        \n        var topMargin = $viewMargin && $viewMargin.top || 0;\n        var bottomMargin = $viewMargin && $viewMargin.bottom || 0;\n        \n        var scrollTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;\n        \n        if (scrollTop + topMargin > top) {\n            if (offset && scrollTop + topMargin > top + this.lineHeight)\n                top -= offset * this.$size.scrollerHeight;\n            if (top === 0)\n                top = -this.scrollMargin.top;\n            this.session.setScrollTop(top);\n        } else if (scrollTop + this.$size.scrollerHeight - bottomMargin < top + this.lineHeight) {\n            if (offset && scrollTop + this.$size.scrollerHeight - bottomMargin < top -  this.lineHeight)\n                top += offset * this.$size.scrollerHeight;\n            this.session.setScrollTop(top + this.lineHeight + bottomMargin - this.$size.scrollerHeight);\n        }\n\n        var scrollLeft = this.scrollLeft;\n\n        if (scrollLeft > left) {\n            if (left < this.$padding + 2 * this.layerConfig.characterWidth)\n                left = -this.scrollMargin.left;\n            this.session.setScrollLeft(left);\n        } else if (scrollLeft + this.$size.scrollerWidth < left + this.characterWidth) {\n            this.session.setScrollLeft(Math.round(left + this.characterWidth - this.$size.scrollerWidth));\n        } else if (scrollLeft <= this.$padding && left - scrollLeft < this.characterWidth) {\n            this.session.setScrollLeft(0);\n        }\n    };\n    this.getScrollTop = function() {\n        return this.session.getScrollTop();\n    };\n    this.getScrollLeft = function() {\n        return this.session.getScrollLeft();\n    };\n    this.getScrollTopRow = function() {\n        return this.scrollTop / this.lineHeight;\n    };\n    this.getScrollBottomRow = function() {\n        return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);\n    };\n    this.scrollToRow = function(row) {\n        this.session.setScrollTop(row * this.lineHeight);\n    };\n\n    this.alignCursor = function(cursor, alignment) {\n        if (typeof cursor == \"number\")\n            cursor = {row: cursor, column: 0};\n\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n        var h = this.$size.scrollerHeight - this.lineHeight;\n        var offset = pos.top - h * (alignment || 0);\n\n        this.session.setScrollTop(offset);\n        return offset;\n    };\n\n    this.STEPS = 8;\n    this.$calcSteps = function(fromValue, toValue){\n        var i = 0;\n        var l = this.STEPS;\n        var steps = [];\n\n        var func  = function(t, x_min, dx) {\n            return dx * (Math.pow(t - 1, 3) + 1) + x_min;\n        };\n\n        for (i = 0; i < l; ++i)\n            steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));\n\n        return steps;\n    };\n    this.scrollToLine = function(line, center, animate, callback) {\n        var pos = this.$cursorLayer.getPixelPosition({row: line, column: 0});\n        var offset = pos.top;\n        if (center)\n            offset -= this.$size.scrollerHeight / 2;\n\n        var initialScroll = this.scrollTop;\n        this.session.setScrollTop(offset);\n        if (animate !== false)\n            this.animateScrolling(initialScroll, callback);\n    };\n\n    this.animateScrolling = function(fromValue, callback) {\n        var toValue = this.scrollTop;\n        if (!this.$animatedScroll)\n            return;\n        var _self = this;\n        \n        if (fromValue == toValue)\n            return;\n        \n        if (this.$scrollAnimation) {\n            var oldSteps = this.$scrollAnimation.steps;\n            if (oldSteps.length) {\n                fromValue = oldSteps[0];\n                if (fromValue == toValue)\n                    return;\n            }\n        }\n        \n        var steps = _self.$calcSteps(fromValue, toValue);\n        this.$scrollAnimation = {from: fromValue, to: toValue, steps: steps};\n\n        clearInterval(this.$timer);\n\n        _self.session.setScrollTop(steps.shift());\n        _self.session.$scrollTop = toValue;\n        this.$timer = setInterval(function() {\n            if (steps.length) {\n                _self.session.setScrollTop(steps.shift());\n                _self.session.$scrollTop = toValue;\n            } else if (toValue != null) {\n                _self.session.$scrollTop = -1;\n                _self.session.setScrollTop(toValue);\n                toValue = null;\n            } else {\n                _self.$timer = clearInterval(_self.$timer);\n                _self.$scrollAnimation = null;\n                callback && callback();\n            }\n        }, 10);\n    };\n    this.scrollToY = function(scrollTop) {\n        if (this.scrollTop !== scrollTop) {\n            this.$loop.schedule(this.CHANGE_SCROLL);\n            this.scrollTop = scrollTop;\n        }\n    };\n    this.scrollToX = function(scrollLeft) {\n        if (this.scrollLeft !== scrollLeft)\n            this.scrollLeft = scrollLeft;\n        this.$loop.schedule(this.CHANGE_H_SCROLL);\n    };\n    this.scrollTo = function(x, y) {\n        this.session.setScrollTop(y);\n        this.session.setScrollLeft(y);\n    };\n    this.scrollBy = function(deltaX, deltaY) {\n        deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);\n        deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);\n    };\n    this.isScrollableBy = function(deltaX, deltaY) {\n        if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top)\n           return true;\n        if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight\n            - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom)\n           return true;\n        if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left)\n            return true;\n        if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth\n            - this.layerConfig.width < -1 + this.scrollMargin.right)\n           return true;\n    };\n\n    this.pixelToScreenCoordinates = function(x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n            canvasPos = {top:0, left: 0};\n            var p = this.$fontMetrics.transformCoordinates([x, y]);\n            x = p[1] - this.gutterWidth - this.margin.left;\n            y = p[0];\n        } else {\n            canvasPos = this.scroller.getBoundingClientRect();\n        }\n        \n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n\n        return {row: row, column: col, side: offset - col > 0 ? 1 : -1, offsetX:  offsetX};\n    };\n\n    this.screenToTextCoordinates = function(x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n            canvasPos = {top:0, left: 0};\n            var p = this.$fontMetrics.transformCoordinates([x, y]);\n            x = p[1] - this.gutterWidth - this.margin.left;\n            y = p[0];\n        } else {\n            canvasPos = this.scroller.getBoundingClientRect();\n        }\n\n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n\n        return this.session.screenToDocumentPosition(row, Math.max(col, 0), offsetX);\n    };\n    this.textToScreenCoordinates = function(row, column) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n        var pos = this.session.documentToScreenPosition(row, column);\n\n        var x = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, row)\n             ? this.session.$bidiHandler.getPosLeft(pos.column)\n             : Math.round(pos.column * this.characterWidth));\n        \n        var y = pos.row * this.lineHeight;\n\n        return {\n            pageX: canvasPos.left + x - this.scrollLeft,\n            pageY: canvasPos.top + y - this.scrollTop\n        };\n    };\n    this.visualizeFocus = function() {\n        dom.addCssClass(this.container, \"ace_focus\");\n    };\n    this.visualizeBlur = function() {\n        dom.removeCssClass(this.container, \"ace_focus\");\n    };\n    this.showComposition = function(composition) {\n        this.$composition = composition;\n        if (!composition.cssText) {\n            composition.cssText = this.textarea.style.cssText;\n        }\n        composition.useTextareaForIME = this.$useTextareaForIME;\n        \n        if (this.$useTextareaForIME) {\n            dom.addCssClass(this.textarea, \"ace_composition\");\n            this.textarea.style.cssText = \"\";\n            this.$moveTextAreaToCursor();\n            this.$cursorLayer.element.style.display = \"none\";\n        }\n        else {\n            composition.markerId = this.session.addMarker(composition.markerRange, \"ace_composition_marker\", \"text\");\n        }\n    };\n    this.setCompositionText = function(text) {\n        var cursor = this.session.selection.cursor;\n        this.addToken(text, \"composition_placeholder\", cursor.row, cursor.column);\n        this.$moveTextAreaToCursor();\n    };\n    this.hideComposition = function() {\n        if (!this.$composition)\n            return;\n        \n        if (this.$composition.markerId)\n            this.session.removeMarker(this.$composition.markerId);\n\n        dom.removeCssClass(this.textarea, \"ace_composition\");\n        this.textarea.style.cssText = this.$composition.cssText;\n        this.$composition = null;\n        this.$cursorLayer.element.style.display = \"\";\n    };\n    \n    this.addToken = function(text, type, row, column) {\n        var session = this.session;\n        session.bgTokenizer.lines[row] = null;\n        var newToken = {type: type, value: text};\n        var tokens = session.getTokens(row);\n        if (column == null) {\n            tokens.push(newToken);\n        } else {\n            var l = 0;\n            for (var i =0; i < tokens.length; i++) {\n                var token = tokens[i];\n                l += token.value.length;\n                if (column <= l) {\n                    var diff = token.value.length - (l - column);\n                    var before = token.value.slice(0, diff);\n                    var after = token.value.slice(diff);\n    \n                    tokens.splice(i, 1, {type: token.type, value: before},  newToken,  {type: token.type, value: after});\n                    break;\n                }\n            }\n        }\n        this.updateLines(row, row);\n    };\n    this.setTheme = function(theme, cb) {\n        var _self = this;\n        this.$themeId = theme;\n        _self._dispatchEvent('themeChange',{theme:theme});\n\n        if (!theme || typeof theme == \"string\") {\n            var moduleName = theme || this.$options.theme.initialValue;\n            config.loadModule([\"theme\", moduleName], afterLoad);\n        } else {\n            afterLoad(theme);\n        }\n\n        function afterLoad(module) {\n            if (_self.$themeId != theme)\n                return cb && cb();\n            if (!module || !module.cssClass)\n                throw new Error(\"couldn't load module \" + theme + \" or it didn't call define\");\n            if (module.$id)\n                _self.$themeId = module.$id;\n            dom.importCssString(\n                module.cssText,\n                module.cssClass,\n                _self.container\n            );\n\n            if (_self.theme)\n                dom.removeCssClass(_self.container, _self.theme.cssClass);\n\n            var padding = \"padding\" in module ? module.padding \n                : \"padding\" in (_self.theme || {}) ? 4 : _self.$padding;\n            if (_self.$padding && padding != _self.$padding)\n                _self.setPadding(padding);\n            _self.$theme = module.cssClass;\n\n            _self.theme = module;\n            dom.addCssClass(_self.container, module.cssClass);\n            dom.setCssClass(_self.container, \"ace_dark\", module.isDark);\n            if (_self.$size) {\n                _self.$size.width = 0;\n                _self.$updateSizeAsync();\n            }\n\n            _self._dispatchEvent('themeLoaded', {theme:module});\n            cb && cb();\n        }\n    };\n    this.getTheme = function() {\n        return this.$themeId;\n    };\n    this.setStyle = function(style, include) {\n        dom.setCssClass(this.container, style, include !== false);\n    };\n    this.unsetStyle = function(style) {\n        dom.removeCssClass(this.container, style);\n    };\n    \n    this.setCursorStyle = function(style) {\n        dom.setStyle(this.scroller.style, \"cursor\", style);\n    };\n    this.setMouseCursor = function(cursorStyle) {\n        dom.setStyle(this.scroller.style, \"cursor\", cursorStyle);\n    };\n    \n    this.attachToShadowRoot = function() {\n        dom.importCssString(editorCss, \"ace_editor.css\", this.container);\n    };\n    this.destroy = function() {\n        this.freeze();\n        this.$fontMetrics.destroy();\n        this.$cursorLayer.destroy();\n    };\n\n}).call(VirtualRenderer.prototype);\n\n\nconfig.defineOptions(VirtualRenderer.prototype, \"renderer\", {\n    animatedScroll: {initialValue: false},\n    showInvisibles: {\n        set: function(value) {\n            if (this.$textLayer.setShowInvisibles(value))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: false\n    },\n    showPrintMargin: {\n        set: function() { this.$updatePrintMargin(); },\n        initialValue: true\n    },\n    printMarginColumn: {\n        set: function() { this.$updatePrintMargin(); },\n        initialValue: 80\n    },\n    printMargin: {\n        set: function(val) {\n            if (typeof val == \"number\")\n                this.$printMarginColumn = val;\n            this.$showPrintMargin = !!val;\n            this.$updatePrintMargin();\n        },\n        get: function() {\n            return this.$showPrintMargin && this.$printMarginColumn; \n        }\n    },\n    showGutter: {\n        set: function(show){\n            this.$gutter.style.display = show ? \"block\" : \"none\";\n            this.$loop.schedule(this.CHANGE_FULL);\n            this.onGutterResize();\n        },\n        initialValue: true\n    },\n    fadeFoldWidgets: {\n        set: function(show) {\n            dom.setCssClass(this.$gutter, \"ace_fade-fold-widgets\", show);\n        },\n        initialValue: false\n    },\n    showFoldWidgets: {\n        set: function(show) {\n            this.$gutterLayer.setShowFoldWidgets(show);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    displayIndentGuides: {\n        set: function(show) {\n            if (this.$textLayer.setDisplayIndentGuides(show))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: true\n    },\n    highlightGutterLine: {\n        set: function(shouldHighlight) {\n            this.$gutterLayer.setHighlightGutterLine(shouldHighlight);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    hScrollBarAlwaysVisible: {\n        set: function(val) {\n            if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    vScrollBarAlwaysVisible: {\n        set: function(val) {\n            if (!this.$vScrollBarAlwaysVisible || !this.$vScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    fontSize: {\n        set: function(size) {\n            if (typeof size == \"number\")\n                size = size + \"px\";\n            this.container.style.fontSize = size;\n            this.updateFontSize();\n        },\n        initialValue: 12\n    },\n    fontFamily: {\n        set: function(name) {\n            this.container.style.fontFamily = name;\n            this.updateFontSize();\n        }\n    },\n    maxLines: {\n        set: function(val) {\n            this.updateFull();\n        }\n    },\n    minLines: {\n        set: function(val) {\n            if (!(this.$minLines < 0x1ffffffffffff))\n                this.$minLines = 0;\n            this.updateFull();\n        }\n    },\n    maxPixelHeight: {\n        set: function(val) {\n            this.updateFull();\n        },\n        initialValue: 0\n    },\n    scrollPastEnd: {\n        set: function(val) {\n            val = +val || 0;\n            if (this.$scrollPastEnd == val)\n                return;\n            this.$scrollPastEnd = val;\n            this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: 0,\n        handlesSet: true\n    },\n    fixedWidthGutter: {\n        set: function(val) {\n            this.$gutterLayer.$fixedWidth = !!val;\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        }\n    },\n    theme: {\n        set: function(val) { this.setTheme(val); },\n        get: function() { return this.$themeId || this.theme; },\n        initialValue: \"./theme/textmate\",\n        handlesSet: true\n    },\n    hasCssTransforms: {\n    },\n    useTextareaForIME: {\n        initialValue: !useragent.isMobile && !useragent.isIE\n    }\n});\n\nexports.VirtualRenderer = VirtualRenderer;\n});\n\ndefine(\"ace/worker/worker_client\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/event_emitter\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar net = require(\"../lib/net\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar config = require(\"../config\");\n\nfunction $workerBlob(workerUrl) {\n    var script = \"importScripts('\" + net.qualifyURL(workerUrl) + \"');\";\n    try {\n        return new Blob([script], {\"type\": \"application/javascript\"});\n    } catch (e) { // Backwards-compatibility\n        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n        var blobBuilder = new BlobBuilder();\n        blobBuilder.append(script);\n        return blobBuilder.getBlob(\"application/javascript\");\n    }\n}\n\nfunction createWorker(workerUrl) {\n    if (typeof Worker == \"undefined\")\n        return { postMessage: function() {}, terminate: function() {} };\n    if (config.get(\"loadWorkerFromBlob\")) {\n        var blob = $workerBlob(workerUrl);\n        var URL = window.URL || window.webkitURL;\n        var blobURL = URL.createObjectURL(blob);\n        return new Worker(blobURL);\n    }\n    return new Worker(workerUrl);\n}\n\nvar WorkerClient = function(worker) {\n    if (!worker.postMessage)\n        worker = this.$createWorkerFromOldConfig.apply(this, arguments);\n\n    this.$worker = worker;\n    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.onMessage = this.onMessage.bind(this);\n\n    this.callbackId = 1;\n    this.callbacks = {};\n\n    this.$worker.onmessage = this.onMessage;\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$createWorkerFromOldConfig = function(topLevelNamespaces, mod, classname, workerUrl, importScripts) {\n        if (require.nameToUrl && !require.toUrl)\n            require.toUrl = require.nameToUrl;\n\n        if (config.get(\"packaged\") || !require.toUrl) {\n            workerUrl = workerUrl || config.moduleUrl(mod, \"worker\");\n        } else {\n            var normalizePath = this.$normalizePath;\n            workerUrl = workerUrl || normalizePath(require.toUrl(\"ace/worker/worker.js\", null, \"_\"));\n\n            var tlns = {};\n            topLevelNamespaces.forEach(function(ns) {\n                tlns[ns] = normalizePath(require.toUrl(ns, null, \"_\").replace(/(\\.js)?(\\?.*)?$/, \"\"));\n            });\n        }\n\n        this.$worker = createWorker(workerUrl);\n        if (importScripts) {\n            this.send(\"importScripts\", importScripts);\n        }\n        this.$worker.postMessage({\n            init : true,\n            tlns : tlns,\n            module : mod,\n            classname : classname\n        });\n        return this.$worker;\n    };\n\n    this.onMessage = function(e) {\n        var msg = e.data;\n        switch (msg.type) {\n            case \"event\":\n                this._signal(msg.name, {data: msg.data});\n                break;\n            case \"call\":\n                var callback = this.callbacks[msg.id];\n                if (callback) {\n                    callback(msg.data);\n                    delete this.callbacks[msg.id];\n                }\n                break;\n            case \"error\":\n                this.reportError(msg.data);\n                break;\n            case \"log\":\n                window.console && console.log && console.log.apply(console, msg.data);\n                break;\n        }\n    };\n    \n    this.reportError = function(err) {\n        window.console && console.error && console.error(err);\n    };\n\n    this.$normalizePath = function(path) {\n        return net.qualifyURL(path);\n    };\n\n    this.terminate = function() {\n        this._signal(\"terminate\", {});\n        this.deltaQueue = null;\n        this.$worker.terminate();\n        this.$worker = null;\n        if (this.$doc)\n            this.$doc.off(\"change\", this.changeListener);\n        this.$doc = null;\n    };\n\n    this.send = function(cmd, args) {\n        this.$worker.postMessage({command: cmd, args: args});\n    };\n\n    this.call = function(cmd, args, callback) {\n        if (callback) {\n            var id = this.callbackId++;\n            this.callbacks[id] = callback;\n            args.push(id);\n        }\n        this.send(cmd, args);\n    };\n\n    this.emit = function(event, data) {\n        try {\n            if (data.data && data.data.err)\n                data.data.err = {message: data.data.err.message, stack: data.data.err.stack, code: data.data.err.code};\n            this.$worker.postMessage({event: event, data: {data: data.data}});\n        }\n        catch(ex) {\n            console.error(ex.stack);\n        }\n    };\n\n    this.attachToDocument = function(doc) {\n        if (this.$doc)\n            this.terminate();\n\n        this.$doc = doc;\n        this.call(\"setValue\", [doc.getValue()]);\n        doc.on(\"change\", this.changeListener);\n    };\n\n    this.changeListener = function(delta) {\n        if (!this.deltaQueue) {\n            this.deltaQueue = [];\n            setTimeout(this.$sendDeltaQueue, 0);\n        }\n        if (delta.action == \"insert\")\n            this.deltaQueue.push(delta.start, delta.lines);\n        else\n            this.deltaQueue.push(delta.start, delta.end);\n    };\n\n    this.$sendDeltaQueue = function() {\n        var q = this.deltaQueue;\n        if (!q) return;\n        this.deltaQueue = null;\n        if (q.length > 50 && q.length > this.$doc.getLength() >> 1) {\n            this.call(\"setValue\", [this.$doc.getValue()]);\n        } else\n            this.emit(\"change\", {data: q});\n    };\n\n}).call(WorkerClient.prototype);\n\n\nvar UIWorkerClient = function(topLevelNamespaces, mod, classname) {\n    var main = null;\n    var emitSync = false;\n    var sender = Object.create(EventEmitter);\n\n    var messageBuffer = [];\n    var workerClient = new WorkerClient({\n        messageBuffer: messageBuffer,\n        terminate: function() {},\n        postMessage: function(e) {\n            messageBuffer.push(e);\n            if (!main) return;\n            if (emitSync)\n                setTimeout(processNext);\n            else\n                processNext();\n        }\n    });\n\n    workerClient.setEmitSync = function(val) { emitSync = val; };\n\n    var processNext = function() {\n        var msg = messageBuffer.shift();\n        if (msg.command)\n            main[msg.command].apply(main, msg.args);\n        else if (msg.event)\n            sender._signal(msg.event, msg.data);\n    };\n\n    sender.postMessage = function(msg) {\n        workerClient.onMessage({data: msg});\n    };\n    sender.callback = function(data, callbackId) {\n        this.postMessage({type: \"call\", id: callbackId, data: data});\n    };\n    sender.emit = function(name, data) {\n        this.postMessage({type: \"event\", name: name, data: data});\n    };\n\n    config.loadModule([\"worker\", mod], function(Main) {\n        main = new Main[classname](sender);\n        while (messageBuffer.length)\n            processNext();\n    });\n\n    return workerClient;\n};\n\nexports.UIWorkerClient = UIWorkerClient;\nexports.WorkerClient = WorkerClient;\nexports.createWorker = createWorker;\n\n\n});\n\ndefine(\"ace/placeholder\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/lib/oop\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar oop = require(\"./lib/oop\");\n\nvar PlaceHolder = function(session, length, pos, others, mainClass, othersClass) {\n    var _self = this;\n    this.length = length;\n    this.session = session;\n    this.doc = session.getDocument();\n    this.mainClass = mainClass;\n    this.othersClass = othersClass;\n    this.$onUpdate = this.onUpdate.bind(this);\n    this.doc.on(\"change\", this.$onUpdate);\n    this.$others = others;\n    \n    this.$onCursorChange = function() {\n        setTimeout(function() {\n            _self.onCursorChange();\n        });\n    };\n    \n    this.$pos = pos;\n    var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || {length: -1};\n    this.$undoStackDepth = undoStack.length;\n    this.setup();\n\n    session.selection.on(\"changeCursor\", this.$onCursorChange);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setup = function() {\n        var _self = this;\n        var doc = this.doc;\n        var session = this.session;\n        \n        this.selectionBefore = session.selection.toJSON();\n        if (session.selection.inMultiSelectMode)\n            session.selection.toSingleRange();\n\n        this.pos = doc.createAnchor(this.$pos.row, this.$pos.column);\n        var pos = this.pos;\n        pos.$insertRight = true;\n        pos.detach();\n        pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);\n        this.others = [];\n        this.$others.forEach(function(other) {\n            var anchor = doc.createAnchor(other.row, other.column);\n            anchor.$insertRight = true;\n            anchor.detach();\n            _self.others.push(anchor);\n        });\n        session.setUndoSelect(false);\n    };\n    this.showOtherMarkers = function() {\n        if (this.othersActive) return;\n        var session = this.session;\n        var _self = this;\n        this.othersActive = true;\n        this.others.forEach(function(anchor) {\n            anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column+_self.length), _self.othersClass, null, false);\n        });\n    };\n    this.hideOtherMarkers = function() {\n        if (!this.othersActive) return;\n        this.othersActive = false;\n        for (var i = 0; i < this.others.length; i++) {\n            this.session.removeMarker(this.others[i].markerId);\n        }\n    };\n    this.onUpdate = function(delta) {\n        if (this.$updating)\n            return this.updateAnchors(delta);\n            \n        var range = delta;\n        if (range.start.row !== range.end.row) return;\n        if (range.start.row !== this.pos.row) return;\n        this.$updating = true;\n        var lengthDiff = delta.action === \"insert\" ? range.end.column - range.start.column : range.start.column - range.end.column;\n        var inMainRange = range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1;\n        var distanceFromStart = range.start.column - this.pos.column;\n        \n        this.updateAnchors(delta);\n        \n        if (inMainRange)\n            this.length += lengthDiff;\n\n        if (inMainRange && !this.session.$fromUndo) {\n            if (delta.action === 'insert') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};\n                    this.doc.insertMergedLines(newPos, delta.lines);\n                }\n            } else if (delta.action === 'remove') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};\n                    this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));\n                }\n            }\n        }\n        \n        this.$updating = false;\n        this.updateMarkers();\n    };\n    \n    this.updateAnchors = function(delta) {\n        this.pos.onChange(delta);\n        for (var i = this.others.length; i--;)\n            this.others[i].onChange(delta);\n        this.updateMarkers();\n    };\n    \n    this.updateMarkers = function() {\n        if (this.$updating)\n            return;\n        var _self = this;\n        var session = this.session;\n        var updateMarker = function(pos, className) {\n            session.removeMarker(pos.markerId);\n            pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column+_self.length), className, null, false);\n        };\n        updateMarker(this.pos, this.mainClass);\n        for (var i = this.others.length; i--;)\n            updateMarker(this.others[i], this.othersClass);\n    };\n\n    this.onCursorChange = function(event) {\n        if (this.$updating || !this.session) return;\n        var pos = this.session.selection.getCursor();\n        if (pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {\n            this.showOtherMarkers();\n            this._emit(\"cursorEnter\", event);\n        } else {\n            this.hideOtherMarkers();\n            this._emit(\"cursorLeave\", event);\n        }\n    };    \n    this.detach = function() {\n        this.session.removeMarker(this.pos && this.pos.markerId);\n        this.hideOtherMarkers();\n        this.doc.removeEventListener(\"change\", this.$onUpdate);\n        this.session.selection.removeEventListener(\"changeCursor\", this.$onCursorChange);\n        this.session.setUndoSelect(true);\n        this.session = null;\n    };\n    this.cancel = function() {\n        if (this.$undoStackDepth === -1)\n            return;\n        var undoManager = this.session.getUndoManager();\n        var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;\n        for (var i = 0; i < undosRequired; i++) {\n            undoManager.undo(this.session, true);\n        }\n        if (this.selectionBefore)\n            this.session.selection.fromJSON(this.selectionBefore);\n    };\n}).call(PlaceHolder.prototype);\n\n\nexports.PlaceHolder = PlaceHolder;\n});\n\ndefine(\"ace/mouse/multi_select_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module) {\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\n\nfunction onMouseDown(e) {\n    var ev = e.domEvent;\n    var alt = ev.altKey;\n    var shift = ev.shiftKey;\n    var ctrl = ev.ctrlKey;\n    var accel = e.getAccelKey();\n    var button = e.getButton();\n    \n    if (ctrl && useragent.isMac)\n        button = ev.button;\n\n    if (e.editor.inMultiSelectMode && button == 2) {\n        e.editor.textInput.onContextMenu(e.domEvent);\n        return;\n    }\n    \n    if (!ctrl && !alt && !accel) {\n        if (button === 0 && e.editor.inMultiSelectMode)\n            e.editor.exitMultiSelectMode();\n        return;\n    }\n    \n    if (button !== 0)\n        return;\n\n    var editor = e.editor;\n    var selection = editor.selection;\n    var isMultiSelect = editor.inMultiSelectMode;\n    var pos = e.getDocumentPosition();\n    var cursor = selection.getCursor();\n    var inSelection = e.inSelection() || (selection.isEmpty() && isSamePoint(pos, cursor));\n\n    var mouseX = e.x, mouseY = e.y;\n    var onMouseSelection = function(e) {\n        mouseX = e.clientX;\n        mouseY = e.clientY;\n    };\n    \n    var session = editor.session;\n    var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n    var screenCursor = screenAnchor;\n    \n    var selectionMode;\n    if (editor.$mouseHandler.$enableJumpToDef) {\n        if (ctrl && alt || accel && alt)\n            selectionMode = shift ? \"block\" : \"add\";\n        else if (alt && editor.$blockSelectEnabled)\n            selectionMode = \"block\";\n    } else {\n        if (accel && !alt) {\n            selectionMode = \"add\";\n            if (!isMultiSelect && shift)\n                return;\n        } else if (alt && editor.$blockSelectEnabled) {\n            selectionMode = \"block\";\n        }\n    }\n    \n    if (selectionMode && useragent.isMac && ev.ctrlKey) {\n        editor.$mouseHandler.cancelContextMenu();\n    }\n\n    if (selectionMode == \"add\") {\n        if (!isMultiSelect && inSelection)\n            return; // dragging\n\n        if (!isMultiSelect) {\n            var range = selection.toOrientedRange();\n            editor.addSelectionMarker(range);\n        }\n\n        var oldRange = selection.rangeList.rangeAtPoint(pos);\n        \n        editor.inVirtualSelectionMode = true;\n        \n        if (shift) {\n            oldRange = null;\n            range = selection.ranges[0] || range;\n            editor.removeSelectionMarker(range);\n        }\n        editor.once(\"mouseup\", function() {\n            var tmpSel = selection.toOrientedRange();\n\n            if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor))\n                selection.substractPoint(tmpSel.cursor);\n            else {\n                if (shift) {\n                    selection.substractPoint(range.cursor);\n                } else if (range) {\n                    editor.removeSelectionMarker(range);\n                    selection.addRange(range);\n                }\n                selection.addRange(tmpSel);\n            }\n            editor.inVirtualSelectionMode = false;\n        });\n\n    } else if (selectionMode == \"block\") {\n        e.stop();\n        editor.inVirtualSelectionMode = true;        \n        var initialRange;\n        var rectSel = [];\n        var blockSelect = function() {\n            var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n            var cursor = session.screenToDocumentPosition(newCursor.row, newCursor.column, newCursor.offsetX);\n\n            if (isSamePoint(screenCursor, newCursor) && isSamePoint(cursor, selection.lead))\n                return;\n            screenCursor = newCursor;\n            \n            editor.selection.moveToPosition(cursor);\n            editor.renderer.scrollCursorIntoView();\n\n            editor.removeSelectionMarkers(rectSel);\n            rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);\n            if (editor.$mouseHandler.$clickSelection && rectSel.length == 1 && rectSel[0].isEmpty())\n                rectSel[0] = editor.$mouseHandler.$clickSelection.clone();\n            rectSel.forEach(editor.addSelectionMarker, editor);\n            editor.updateSelectionMarkers();\n        };\n        if (isMultiSelect && !accel) {\n            selection.toSingleRange();\n        } else if (!isMultiSelect && accel) {\n            initialRange = selection.toOrientedRange();\n            editor.addSelectionMarker(initialRange);\n        }\n        \n        if (shift)\n            screenAnchor = session.documentToScreenPosition(selection.lead);            \n        else\n            selection.moveToPosition(pos);\n        \n        screenCursor = {row: -1, column: -1};\n\n        var onMouseSelectionEnd = function(e) {\n            blockSelect();\n            clearInterval(timerId);\n            editor.removeSelectionMarkers(rectSel);\n            if (!rectSel.length)\n                rectSel = [selection.toOrientedRange()];\n            if (initialRange) {\n                editor.removeSelectionMarker(initialRange);\n                selection.toSingleRange(initialRange);\n            }\n            for (var i = 0; i < rectSel.length; i++)\n                selection.addRange(rectSel[i]);\n            editor.inVirtualSelectionMode = false;\n            editor.$mouseHandler.$clickSelection = null;\n        };\n\n        var onSelectionInterval = blockSelect;\n\n        event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);\n        var timerId = setInterval(function() {onSelectionInterval();}, 20);\n\n        return e.preventDefault();\n    }\n}\n\n\nexports.onMouseDown = onMouseDown;\n\n});\n\ndefine(\"ace/commands/multi_select_commands\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\"], function(require, exports, module) {\nexports.defaultCommands = [{\n    name: \"addCursorAbove\",\n    description: \"Add cursor above\",\n    exec: function(editor) { editor.selectMoreLines(-1); },\n    bindKey: {win: \"Ctrl-Alt-Up\", mac: \"Ctrl-Alt-Up\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorBelow\",\n    description: \"Add cursor below\",\n    exec: function(editor) { editor.selectMoreLines(1); },\n    bindKey: {win: \"Ctrl-Alt-Down\", mac: \"Ctrl-Alt-Down\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorAboveSkipCurrent\",\n    description: \"Add cursor above (skip current)\",\n    exec: function(editor) { editor.selectMoreLines(-1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Up\", mac: \"Ctrl-Alt-Shift-Up\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorBelowSkipCurrent\",\n    description: \"Add cursor below (skip current)\",\n    exec: function(editor) { editor.selectMoreLines(1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Down\", mac: \"Ctrl-Alt-Shift-Down\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectMoreBefore\",\n    description: \"Select more before\",\n    exec: function(editor) { editor.selectMore(-1); },\n    bindKey: {win: \"Ctrl-Alt-Left\", mac: \"Ctrl-Alt-Left\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectMoreAfter\",\n    description: \"Select more after\",\n    exec: function(editor) { editor.selectMore(1); },\n    bindKey: {win: \"Ctrl-Alt-Right\", mac: \"Ctrl-Alt-Right\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectNextBefore\",\n    description: \"Select next before\",\n    exec: function(editor) { editor.selectMore(-1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Left\", mac: \"Ctrl-Alt-Shift-Left\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectNextAfter\",\n    description: \"Select next after\",\n    exec: function(editor) { editor.selectMore(1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Right\", mac: \"Ctrl-Alt-Shift-Right\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"toggleSplitSelectionIntoLines\",\n    description: \"Split into lines\",\n    exec: function(editor) {\n        if (editor.multiSelect.rangeCount > 1)\n            editor.multiSelect.joinSelections();\n        else\n            editor.multiSelect.splitIntoLines();\n    },\n    bindKey: {win: \"Ctrl-Alt-L\", mac: \"Ctrl-Alt-L\"},\n    readOnly: true\n}, {\n    name: \"splitSelectionIntoLines\",\n    description: \"Split into lines\",\n    exec: function(editor) { editor.multiSelect.splitIntoLines(); },\n    readOnly: true\n}, {\n    name: \"alignCursors\",\n    description: \"Align cursors\",\n    exec: function(editor) { editor.alignCursors(); },\n    bindKey: {win: \"Ctrl-Alt-A\", mac: \"Ctrl-Alt-A\"},\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"findAll\",\n    description: \"Find all\",\n    exec: function(editor) { editor.findAll(); },\n    bindKey: {win: \"Ctrl-Alt-K\", mac: \"Ctrl-Alt-G\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}];\nexports.multiSelectCommands = [{\n    name: \"singleSelection\",\n    description: \"Single selection\",\n    bindKey: \"esc\",\n    exec: function(editor) { editor.exitMultiSelectMode(); },\n    scrollIntoView: \"cursor\",\n    readOnly: true,\n    isAvailable: function(editor) {return editor && editor.inMultiSelectMode;}\n}];\n\nvar HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\nexports.keyboardHandler = new HashHandler(exports.multiSelectCommands);\n\n});\n\ndefine(\"ace/multi_select\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/range\",\"ace/selection\",\"ace/mouse/multi_select_handler\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/commands/multi_select_commands\",\"ace/search\",\"ace/edit_session\",\"ace/editor\",\"ace/config\"], function(require, exports, module) {\n\nvar RangeList = require(\"./range_list\").RangeList;\nvar Range = require(\"./range\").Range;\nvar Selection = require(\"./selection\").Selection;\nvar onMouseDown = require(\"./mouse/multi_select_handler\").onMouseDown;\nvar event = require(\"./lib/event\");\nvar lang = require(\"./lib/lang\");\nvar commands = require(\"./commands/multi_select_commands\");\nexports.commands = commands.defaultCommands.concat(commands.multiSelectCommands);\nvar Search = require(\"./search\").Search;\nvar search = new Search();\n\nfunction find(session, needle, dir) {\n    search.$options.wrap = true;\n    search.$options.needle = needle;\n    search.$options.backwards = dir == -1;\n    return search.find(session);\n}\nvar EditSession = require(\"./edit_session\").EditSession;\n(function() {\n    this.getSelectionMarkers = function() {\n        return this.$selectionMarkers;\n    };\n}).call(EditSession.prototype);\n(function() {\n    this.ranges = null;\n    this.rangeList = null;\n    this.addRange = function(range, $blockChangeEvents) {\n        if (!range)\n            return;\n\n        if (!this.inMultiSelectMode && this.rangeCount === 0) {\n            var oldRange = this.toOrientedRange();\n            this.rangeList.add(oldRange);\n            this.rangeList.add(range);\n            if (this.rangeList.ranges.length != 2) {\n                this.rangeList.removeAll();\n                return $blockChangeEvents || this.fromOrientedRange(range);\n            }\n            this.rangeList.removeAll();\n            this.rangeList.add(oldRange);\n            this.$onAddRange(oldRange);\n        }\n\n        if (!range.cursor)\n            range.cursor = range.end;\n\n        var removed = this.rangeList.add(range);\n\n        this.$onAddRange(range);\n\n        if (removed.length)\n            this.$onRemoveRange(removed);\n\n        if (this.rangeCount > 1 && !this.inMultiSelectMode) {\n            this._signal(\"multiSelect\");\n            this.inMultiSelectMode = true;\n            this.session.$undoSelect = false;\n            this.rangeList.attach(this.session);\n        }\n\n        return $blockChangeEvents || this.fromOrientedRange(range);\n    };\n    this.toSingleRange = function(range) {\n        range = range || this.ranges[0];\n        var removed = this.rangeList.removeAll();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n\n        range && this.fromOrientedRange(range);\n    };\n    this.substractPoint = function(pos) {\n        var removed = this.rangeList.substractPoint(pos);\n        if (removed) {\n            this.$onRemoveRange(removed);\n            return removed[0];\n        }\n    };\n    this.mergeOverlappingRanges = function() {\n        var removed = this.rangeList.merge();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n    };\n\n    this.$onAddRange = function(range) {\n        this.rangeCount = this.rangeList.ranges.length;\n        this.ranges.unshift(range);\n        this._signal(\"addRange\", {range: range});\n    };\n\n    this.$onRemoveRange = function(removed) {\n        this.rangeCount = this.rangeList.ranges.length;\n        if (this.rangeCount == 1 && this.inMultiSelectMode) {\n            var lastRange = this.rangeList.ranges.pop();\n            removed.push(lastRange);\n            this.rangeCount = 0;\n        }\n\n        for (var i = removed.length; i--; ) {\n            var index = this.ranges.indexOf(removed[i]);\n            this.ranges.splice(index, 1);\n        }\n\n        this._signal(\"removeRange\", {ranges: removed});\n\n        if (this.rangeCount === 0 && this.inMultiSelectMode) {\n            this.inMultiSelectMode = false;\n            this._signal(\"singleSelect\");\n            this.session.$undoSelect = true;\n            this.rangeList.detach(this.session);\n        }\n\n        lastRange = lastRange || this.ranges[0];\n        if (lastRange && !lastRange.isEqual(this.getRange()))\n            this.fromOrientedRange(lastRange);\n    };\n    this.$initRangeList = function() {\n        if (this.rangeList)\n            return;\n\n        this.rangeList = new RangeList();\n        this.ranges = [];\n        this.rangeCount = 0;\n    };\n    this.getAllRanges = function() {\n        return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];\n    };\n    this.splitIntoLines = function () {\n        var ranges = this.ranges.length ? this.ranges : [this.getRange()];\n        var newRanges = [];\n        for (var i = 0; i < ranges.length; i++) {\n            var range = ranges[i];\n            var row = range.start.row;\n            var endRow = range.end.row;\n            if (row === endRow) {\n                newRanges.push(range.clone());\n            } else {\n                newRanges.push(new Range(row, range.start.column, row, this.session.getLine(row).length));\n                while (++row < endRow)\n                    newRanges.push(this.getLineRange(row, true));\n                newRanges.push(new Range(endRow, 0, endRow, range.end.column));\n            }\n            if (i == 0 && !this.isBackwards())\n                newRanges = newRanges.reverse();\n        }\n        this.toSingleRange();\n        for (var i = newRanges.length; i--;)\n            this.addRange(newRanges[i]);\n    };\n    \n    this.joinSelections = function () {\n        var ranges = this.rangeList.ranges;\n        var lastRange = ranges[ranges.length - 1];\n        var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n        this.toSingleRange();\n        this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n    };\n    this.toggleBlockSelection = function () {\n        if (this.rangeCount > 1) {\n            var ranges = this.rangeList.ranges;\n            var lastRange = ranges[ranges.length - 1];\n            var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n            this.toSingleRange();\n            this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n        } else {\n            var cursor = this.session.documentToScreenPosition(this.cursor);\n            var anchor = this.session.documentToScreenPosition(this.anchor);\n\n            var rectSel = this.rectangularRangeBlock(cursor, anchor);\n            rectSel.forEach(this.addRange, this);\n        }\n    };\n    this.rectangularRangeBlock = function(screenCursor, screenAnchor, includeEmptyLines) {\n        var rectSel = [];\n\n        var xBackwards = screenCursor.column < screenAnchor.column;\n        if (xBackwards) {\n            var startColumn = screenCursor.column;\n            var endColumn = screenAnchor.column;\n            var startOffsetX = screenCursor.offsetX;\n            var endOffsetX = screenAnchor.offsetX;\n        } else {\n            var startColumn = screenAnchor.column;\n            var endColumn = screenCursor.column;\n            var startOffsetX = screenAnchor.offsetX;\n            var endOffsetX = screenCursor.offsetX;\n        }\n\n        var yBackwards = screenCursor.row < screenAnchor.row;\n        if (yBackwards) {\n            var startRow = screenCursor.row;\n            var endRow = screenAnchor.row;\n        } else {\n            var startRow = screenAnchor.row;\n            var endRow = screenCursor.row;\n        }\n\n        if (startColumn < 0)\n            startColumn = 0;\n        if (startRow < 0)\n            startRow = 0;\n\n        if (startRow == endRow)\n            includeEmptyLines = true;\n\n        var docEnd;\n        for (var row = startRow; row <= endRow; row++) {\n            var range = Range.fromPoints(\n                this.session.screenToDocumentPosition(row, startColumn, startOffsetX),\n                this.session.screenToDocumentPosition(row, endColumn, endOffsetX)\n            );\n            if (range.isEmpty()) {\n                if (docEnd && isSamePoint(range.end, docEnd))\n                    break;\n                docEnd = range.end;\n            }\n            range.cursor = xBackwards ? range.start : range.end;\n            rectSel.push(range);\n        }\n\n        if (yBackwards)\n            rectSel.reverse();\n\n        if (!includeEmptyLines) {\n            var end = rectSel.length - 1;\n            while (rectSel[end].isEmpty() && end > 0)\n                end--;\n            if (end > 0) {\n                var start = 0;\n                while (rectSel[start].isEmpty())\n                    start++;\n            }\n            for (var i = end; i >= start; i--) {\n                if (rectSel[i].isEmpty())\n                    rectSel.splice(i, 1);\n            }\n        }\n\n        return rectSel;\n    };\n}).call(Selection.prototype);\nvar Editor = require(\"./editor\").Editor;\n(function() {\n    this.updateSelectionMarkers = function() {\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.addSelectionMarker = function(orientedRange) {\n        if (!orientedRange.cursor)\n            orientedRange.cursor = orientedRange.end;\n\n        var style = this.getSelectionStyle();\n        orientedRange.marker = this.session.addMarker(orientedRange, \"ace_selection\", style);\n\n        this.session.$selectionMarkers.push(orientedRange);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n        return orientedRange;\n    };\n    this.removeSelectionMarker = function(range) {\n        if (!range.marker)\n            return;\n        this.session.removeMarker(range.marker);\n        var index = this.session.$selectionMarkers.indexOf(range);\n        if (index != -1)\n            this.session.$selectionMarkers.splice(index, 1);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n    };\n\n    this.removeSelectionMarkers = function(ranges) {\n        var markerList = this.session.$selectionMarkers;\n        for (var i = ranges.length; i--; ) {\n            var range = ranges[i];\n            if (!range.marker)\n                continue;\n            this.session.removeMarker(range.marker);\n            var index = markerList.indexOf(range);\n            if (index != -1)\n                markerList.splice(index, 1);\n        }\n        this.session.selectionMarkerCount = markerList.length;\n    };\n\n    this.$onAddRange = function(e) {\n        this.addSelectionMarker(e.range);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onRemoveRange = function(e) {\n        this.removeSelectionMarkers(e.ranges);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onMultiSelect = function(e) {\n        if (this.inMultiSelectMode)\n            return;\n        this.inMultiSelectMode = true;\n\n        this.setStyle(\"ace_multiselect\");\n        this.keyBinding.addKeyboardHandler(commands.keyboardHandler);\n        this.commands.setDefaultHandler(\"exec\", this.$onMultiSelectExec);\n\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onSingleSelect = function(e) {\n        if (this.session.multiSelect.inVirtualMode)\n            return;\n        this.inMultiSelectMode = false;\n\n        this.unsetStyle(\"ace_multiselect\");\n        this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);\n\n        this.commands.removeDefaultHandler(\"exec\", this.$onMultiSelectExec);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n        this._emit(\"changeSelection\");\n    };\n\n    this.$onMultiSelectExec = function(e) {\n        var command = e.command;\n        var editor = e.editor;\n        if (!editor.multiSelect)\n            return;\n        if (!command.multiSelectAction) {\n            var result = command.exec(editor, e.args || {});\n            editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());\n            editor.multiSelect.mergeOverlappingRanges();\n        } else if (command.multiSelectAction == \"forEach\") {\n            result = editor.forEachSelection(command, e.args);\n        } else if (command.multiSelectAction == \"forEachLine\") {\n            result = editor.forEachSelection(command, e.args, true);\n        } else if (command.multiSelectAction == \"single\") {\n            editor.exitMultiSelectMode();\n            result = command.exec(editor, e.args || {});\n        } else {\n            result = command.multiSelectAction(editor, e.args || {});\n        }\n        return result;\n    }; \n    this.forEachSelection = function(cmd, args, options) {\n        if (this.inVirtualSelectionMode)\n            return;\n        var keepOrder = options && options.keepOrder;\n        var $byLines = options == true || options && options.$byLines;\n        var session = this.session;\n        var selection = this.selection;\n        var rangeList = selection.rangeList;\n        var ranges = (keepOrder ? selection : rangeList).ranges;\n        var result;\n        \n        if (!ranges.length)\n            return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n        \n        var reg = selection._eventRegistry;\n        selection._eventRegistry = {};\n\n        var tmpSel = new Selection(session);\n        this.inVirtualSelectionMode = true;\n        for (var i = ranges.length; i--;) {\n            if ($byLines) {\n                while (i > 0 && ranges[i].start.row == ranges[i - 1].end.row)\n                    i--;\n            }\n            tmpSel.fromOrientedRange(ranges[i]);\n            tmpSel.index = i;\n            this.selection = session.selection = tmpSel;\n            var cmdResult = cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n            if (!result && cmdResult !== undefined)\n                result = cmdResult;\n            tmpSel.toOrientedRange(ranges[i]);\n        }\n        tmpSel.detach();\n\n        this.selection = session.selection = selection;\n        this.inVirtualSelectionMode = false;\n        selection._eventRegistry = reg;\n        selection.mergeOverlappingRanges();\n        if (selection.ranges[0])\n            selection.fromOrientedRange(selection.ranges[0]);\n        \n        var anim = this.renderer.$scrollAnimation;\n        this.onCursorChange();\n        this.onSelectionChange();\n        if (anim && anim.from == anim.to)\n            this.renderer.animateScrolling(anim.from);\n        \n        return result;\n    };\n    this.exitMultiSelectMode = function() {\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode)\n            return;\n        this.multiSelect.toSingleRange();\n    };\n\n    this.getSelectedText = function() {\n        var text = \"\";\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var ranges = this.multiSelect.rangeList.ranges;\n            var buf = [];\n            for (var i = 0; i < ranges.length; i++) {\n                buf.push(this.session.getTextRange(ranges[i]));\n            }\n            var nl = this.session.getDocument().getNewLineCharacter();\n            text = buf.join(nl);\n            if (text.length == (buf.length - 1) * nl.length)\n                text = \"\";\n        } else if (!this.selection.isEmpty()) {\n            text = this.session.getTextRange(this.getSelectionRange());\n        }\n        return text;\n    };\n    \n    this.$checkMultiselectChange = function(e, anchor) {\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var range = this.multiSelect.ranges[0];\n            if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor)\n                return;\n            var pos = anchor == this.multiSelect.anchor\n                ? range.cursor == range.start ? range.end : range.start\n                : range.cursor;\n            if (pos.row != anchor.row \n                || this.session.$clipPositionToDocument(pos.row, pos.column).column != anchor.column)\n                this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());\n            else\n                this.multiSelect.mergeOverlappingRanges();\n        }\n    };\n    this.findAll = function(needle, options, additive) {\n        options = options || {};\n        options.needle = needle || options.needle;\n        if (options.needle == undefined) {\n            var range = this.selection.isEmpty()\n                ? this.selection.getWordRange()\n                : this.selection.getRange();\n            options.needle = this.session.getTextRange(range);\n        }    \n        this.$search.set(options);\n        \n        var ranges = this.$search.findAll(this.session);\n        if (!ranges.length)\n            return 0;\n\n        var selection = this.multiSelect;\n\n        if (!additive)\n            selection.toSingleRange(ranges[0]);\n\n        for (var i = ranges.length; i--; )\n            selection.addRange(ranges[i], true);\n        if (range && selection.rangeList.rangeAtPoint(range.start))\n            selection.addRange(range, true);\n        \n        return ranges.length;\n    };\n    this.selectMoreLines = function(dir, skip) {\n        var range = this.selection.toOrientedRange();\n        var isBackwards = range.cursor == range.end;\n\n        var screenLead = this.session.documentToScreenPosition(range.cursor);\n        if (this.selection.$desiredColumn)\n            screenLead.column = this.selection.$desiredColumn;\n\n        var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);\n\n        if (!range.isEmpty()) {\n            var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);\n            var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);\n        } else {\n            var anchor = lead;\n        }\n\n        if (isBackwards) {\n            var newRange = Range.fromPoints(lead, anchor);\n            newRange.cursor = newRange.start;\n        } else {\n            var newRange = Range.fromPoints(anchor, lead);\n            newRange.cursor = newRange.end;\n        }\n\n        newRange.desiredColumn = screenLead.column;\n        if (!this.selection.inMultiSelectMode) {\n            this.selection.addRange(range);\n        } else {\n            if (skip)\n                var toRemove = range.cursor;\n        }\n\n        this.selection.addRange(newRange);\n        if (toRemove)\n            this.selection.substractPoint(toRemove);\n    };\n    this.transposeSelections = function(dir) {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var all = sel.ranges;\n\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            if (range.isEmpty()) {\n                var tmp = session.getWordRange(range.start.row, range.start.column);\n                range.start.row = tmp.start.row;\n                range.start.column = tmp.start.column;\n                range.end.row = tmp.end.row;\n                range.end.column = tmp.end.column;\n            }\n        }\n        sel.mergeOverlappingRanges();\n\n        var words = [];\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            words.unshift(session.getTextRange(range));\n        }\n\n        if (dir < 0)\n            words.unshift(words.pop());\n        else\n            words.push(words.shift());\n\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            var tmp = range.clone();\n            session.replace(range, words[i]);\n            range.start.row = tmp.start.row;\n            range.start.column = tmp.start.column;\n        }\n        sel.fromOrientedRange(sel.ranges[0]);\n    };\n    this.selectMore = function(dir, skip, stopAtFirst) {\n        var session = this.session;\n        var sel = session.multiSelect;\n\n        var range = sel.toOrientedRange();\n        if (range.isEmpty()) {\n            range = session.getWordRange(range.start.row, range.start.column);\n            range.cursor = dir == -1 ? range.start : range.end;\n            this.multiSelect.addRange(range);\n            if (stopAtFirst)\n                return;\n        }\n        var needle = session.getTextRange(range);\n\n        var newRange = find(session, needle, dir);\n        if (newRange) {\n            newRange.cursor = dir == -1 ? newRange.start : newRange.end;\n            this.session.unfold(newRange);\n            this.multiSelect.addRange(newRange);\n            this.renderer.scrollCursorIntoView(null, 0.5);\n        }\n        if (skip)\n            this.multiSelect.substractPoint(range.cursor);\n    };\n    this.alignCursors = function() {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var ranges = sel.ranges;\n        var row = -1;\n        var sameRowRanges = ranges.filter(function(r) {\n            if (r.cursor.row == row)\n                return true;\n            row = r.cursor.row;\n        });\n        \n        if (!ranges.length || sameRowRanges.length == ranges.length - 1) {\n            var range = this.selection.getRange();\n            var fr = range.start.row, lr = range.end.row;\n            var guessRange = fr == lr;\n            if (guessRange) {\n                var max = this.session.getLength();\n                var line;\n                do {\n                    line = this.session.getLine(lr);\n                } while (/[=:]/.test(line) && ++lr < max);\n                do {\n                    line = this.session.getLine(fr);\n                } while (/[=:]/.test(line) && --fr > 0);\n                \n                if (fr < 0) fr = 0;\n                if (lr >= max) lr = max - 1;\n            }\n            var lines = this.session.removeFullLines(fr, lr);\n            lines = this.$reAlignText(lines, guessRange);\n            this.session.insert({row: fr, column: 0}, lines.join(\"\\n\") + \"\\n\");\n            if (!guessRange) {\n                range.start.column = 0;\n                range.end.column = lines[lines.length - 1].length;\n            }\n            this.selection.setRange(range);\n        } else {\n            sameRowRanges.forEach(function(r) {\n                sel.substractPoint(r.cursor);\n            });\n\n            var maxCol = 0;\n            var minSpace = Infinity;\n            var spaceOffsets = ranges.map(function(r) {\n                var p = r.cursor;\n                var line = session.getLine(p.row);\n                var spaceOffset = line.substr(p.column).search(/\\S/g);\n                if (spaceOffset == -1)\n                    spaceOffset = 0;\n\n                if (p.column > maxCol)\n                    maxCol = p.column;\n                if (spaceOffset < minSpace)\n                    minSpace = spaceOffset;\n                return spaceOffset;\n            });\n            ranges.forEach(function(r, i) {\n                var p = r.cursor;\n                var l = maxCol - p.column;\n                var d = spaceOffsets[i] - minSpace;\n                if (l > d)\n                    session.insert(p, lang.stringRepeat(\" \", l - d));\n                else\n                    session.remove(new Range(p.row, p.column, p.row, p.column - l + d));\n\n                r.start.column = r.end.column = maxCol;\n                r.start.row = r.end.row = p.row;\n                r.cursor = r.end;\n            });\n            sel.fromOrientedRange(ranges[0]);\n            this.renderer.updateCursor();\n            this.renderer.updateBackMarkers();\n        }\n    };\n\n    this.$reAlignText = function(lines, forceLeft) {\n        var isLeftAligned = true, isRightAligned = true;\n        var startW, textW, endW;\n\n        return lines.map(function(line) {\n            var m = line.match(/(\\s*)(.*?)(\\s*)([=:].*)/);\n            if (!m)\n                return [line];\n\n            if (startW == null) {\n                startW = m[1].length;\n                textW = m[2].length;\n                endW = m[3].length;\n                return m;\n            }\n\n            if (startW + textW + endW != m[1].length + m[2].length + m[3].length)\n                isRightAligned = false;\n            if (startW != m[1].length)\n                isLeftAligned = false;\n\n            if (startW > m[1].length)\n                startW = m[1].length;\n            if (textW < m[2].length)\n                textW = m[2].length;\n            if (endW > m[3].length)\n                endW = m[3].length;\n\n            return m;\n        }).map(forceLeft ? alignLeft :\n            isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);\n\n        function spaces(n) {\n            return lang.stringRepeat(\" \", n);\n        }\n\n        function alignLeft(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(textW - m[2].length + endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function alignRight(m) {\n            return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function unAlign(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n    };\n}).call(Editor.prototype);\n\n\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\nexports.onSessionChange = function(e) {\n    var session = e.session;\n    if (session && !session.multiSelect) {\n        session.$selectionMarkers = [];\n        session.selection.$initRangeList();\n        session.multiSelect = session.selection;\n    }\n    this.multiSelect = session && session.multiSelect;\n\n    var oldSession = e.oldSession;\n    if (oldSession) {\n        oldSession.multiSelect.off(\"addRange\", this.$onAddRange);\n        oldSession.multiSelect.off(\"removeRange\", this.$onRemoveRange);\n        oldSession.multiSelect.off(\"multiSelect\", this.$onMultiSelect);\n        oldSession.multiSelect.off(\"singleSelect\", this.$onSingleSelect);\n        oldSession.multiSelect.lead.off(\"change\", this.$checkMultiselectChange);\n        oldSession.multiSelect.anchor.off(\"change\", this.$checkMultiselectChange);\n    }\n\n    if (session) {\n        session.multiSelect.on(\"addRange\", this.$onAddRange);\n        session.multiSelect.on(\"removeRange\", this.$onRemoveRange);\n        session.multiSelect.on(\"multiSelect\", this.$onMultiSelect);\n        session.multiSelect.on(\"singleSelect\", this.$onSingleSelect);\n        session.multiSelect.lead.on(\"change\", this.$checkMultiselectChange);\n        session.multiSelect.anchor.on(\"change\", this.$checkMultiselectChange);\n    }\n\n    if (session && this.inMultiSelectMode != session.selection.inMultiSelectMode) {\n        if (session.selection.inMultiSelectMode)\n            this.$onMultiSelect();\n        else\n            this.$onSingleSelect();\n    }\n};\nfunction MultiSelect(editor) {\n    if (editor.$multiselectOnSessionChange)\n        return;\n    editor.$onAddRange = editor.$onAddRange.bind(editor);\n    editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);\n    editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);\n    editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);\n    editor.$multiselectOnSessionChange = exports.onSessionChange.bind(editor);\n    editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(editor);\n\n    editor.$multiselectOnSessionChange(editor);\n    editor.on(\"changeSession\", editor.$multiselectOnSessionChange);\n\n    editor.on(\"mousedown\", onMouseDown);\n    editor.commands.addCommands(commands.defaultCommands);\n\n    addAltCursorListeners(editor);\n}\n\nfunction addAltCursorListeners(editor){\n    if (!editor.textInput) return;\n    var el = editor.textInput.getElement();\n    var altCursor = false;\n    event.addListener(el, \"keydown\", function(e) {\n        var altDown = e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey);\n        if (editor.$blockSelectEnabled && altDown) {\n            if (!altCursor) {\n                editor.renderer.setMouseCursor(\"crosshair\");\n                altCursor = true;\n            }\n        } else if (altCursor) {\n            reset();\n        }\n    });\n\n    event.addListener(el, \"keyup\", reset);\n    event.addListener(el, \"blur\", reset);\n    function reset(e) {\n        if (altCursor) {\n            editor.renderer.setMouseCursor(\"\");\n            altCursor = false;\n        }\n    }\n}\n\nexports.MultiSelect = MultiSelect;\n\n\nrequire(\"./config\").defineOptions(Editor.prototype, \"editor\", {\n    enableMultiselect: {\n        set: function(val) {\n            MultiSelect(this);\n            if (val) {\n                this.on(\"changeSession\", this.$multiselectOnSessionChange);\n                this.on(\"mousedown\", onMouseDown);\n            } else {\n                this.off(\"changeSession\", this.$multiselectOnSessionChange);\n                this.off(\"mousedown\", onMouseDown);\n            }\n        },\n        value: true\n    },\n    enableBlockSelect: {\n        set: function(val) {\n            this.$blockSelectEnabled = val;\n        },\n        value: true\n    }\n});\n\n\n\n});\n\ndefine(\"ace/mode/folding/fold_mode\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../../range\").Range;\n\nvar FoldMode = exports.FoldMode = function() {};\n\n(function() {\n\n    this.foldingStartMarker = null;\n    this.foldingStopMarker = null;\n    this.getFoldWidget = function(session, foldStyle, row) {\n        var line = session.getLine(row);\n        if (this.foldingStartMarker.test(line))\n            return \"start\";\n        if (foldStyle == \"markbeginend\"\n                && this.foldingStopMarker\n                && this.foldingStopMarker.test(line))\n            return \"end\";\n        return \"\";\n    };\n\n    this.getFoldWidgetRange = function(session, foldStyle, row) {\n        return null;\n    };\n\n    this.indentationBlock = function(session, row, column) {\n        var re = /\\S/;\n        var line = session.getLine(row);\n        var startLevel = line.search(re);\n        if (startLevel == -1)\n            return;\n\n        var startColumn = column || line.length;\n        var maxRow = session.getLength();\n        var startRow = row;\n        var endRow = row;\n\n        while (++row < maxRow) {\n            var level = session.getLine(row).search(re);\n\n            if (level == -1)\n                continue;\n\n            if (level <= startLevel) {\n                var token = session.getTokenAt(row, 0);\n                if (!token || token.type !== \"string\")\n                    break;\n            }\n\n            endRow = row;\n        }\n\n        if (endRow > startRow) {\n            var endColumn = session.getLine(endRow).length;\n            return new Range(startRow, startColumn, endRow, endColumn);\n        }\n    };\n\n    this.openingBracketBlock = function(session, bracket, row, column, typeRe) {\n        var start = {row: row, column: column + 1};\n        var end = session.$findClosingBracket(bracket, start, typeRe);\n        if (!end)\n            return;\n\n        var fw = session.foldWidgets[end.row];\n        if (fw == null)\n            fw = session.getFoldWidget(end.row);\n\n        if (fw == \"start\" && end.row > start.row) {\n            end.row --;\n            end.column = session.getLine(end.row).length;\n        }\n        return Range.fromPoints(start, end);\n    };\n\n    this.closingBracketBlock = function(session, bracket, row, column, typeRe) {\n        var end = {row: row, column: column};\n        var start = session.$findOpeningBracket(bracket, end);\n\n        if (!start)\n            return;\n\n        start.column++;\n        end.column--;\n\n        return  Range.fromPoints(start, end);\n    };\n}).call(FoldMode.prototype);\n\n});\n\ndefine(\"ace/theme/textmate\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nexports.isDark = false;\nexports.cssClass = \"ace-tm\";\nexports.cssText = \".ace-tm .ace_gutter {\\\nbackground: #f0f0f0;\\\ncolor: #333;\\\n}\\\n.ace-tm .ace_print-margin {\\\nwidth: 1px;\\\nbackground: #e8e8e8;\\\n}\\\n.ace-tm .ace_fold {\\\nbackground-color: #6B72E6;\\\n}\\\n.ace-tm {\\\nbackground-color: #FFFFFF;\\\ncolor: black;\\\n}\\\n.ace-tm .ace_cursor {\\\ncolor: black;\\\n}\\\n.ace-tm .ace_invisible {\\\ncolor: rgb(191, 191, 191);\\\n}\\\n.ace-tm .ace_storage,\\\n.ace-tm .ace_keyword {\\\ncolor: blue;\\\n}\\\n.ace-tm .ace_constant {\\\ncolor: rgb(197, 6, 11);\\\n}\\\n.ace-tm .ace_constant.ace_buildin {\\\ncolor: rgb(88, 72, 246);\\\n}\\\n.ace-tm .ace_constant.ace_language {\\\ncolor: rgb(88, 92, 246);\\\n}\\\n.ace-tm .ace_constant.ace_library {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_invalid {\\\nbackground-color: rgba(255, 0, 0, 0.1);\\\ncolor: red;\\\n}\\\n.ace-tm .ace_support.ace_function {\\\ncolor: rgb(60, 76, 114);\\\n}\\\n.ace-tm .ace_support.ace_constant {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_support.ace_type,\\\n.ace-tm .ace_support.ace_class {\\\ncolor: rgb(109, 121, 222);\\\n}\\\n.ace-tm .ace_keyword.ace_operator {\\\ncolor: rgb(104, 118, 135);\\\n}\\\n.ace-tm .ace_string {\\\ncolor: rgb(3, 106, 7);\\\n}\\\n.ace-tm .ace_comment {\\\ncolor: rgb(76, 136, 107);\\\n}\\\n.ace-tm .ace_comment.ace_doc {\\\ncolor: rgb(0, 102, 255);\\\n}\\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\\ncolor: rgb(128, 159, 191);\\\n}\\\n.ace-tm .ace_constant.ace_numeric {\\\ncolor: rgb(0, 0, 205);\\\n}\\\n.ace-tm .ace_variable {\\\ncolor: rgb(49, 132, 149);\\\n}\\\n.ace-tm .ace_xml-pe {\\\ncolor: rgb(104, 104, 91);\\\n}\\\n.ace-tm .ace_entity.ace_name.ace_function {\\\ncolor: #0000A2;\\\n}\\\n.ace-tm .ace_heading {\\\ncolor: rgb(12, 7, 255);\\\n}\\\n.ace-tm .ace_list {\\\ncolor:rgb(185, 6, 144);\\\n}\\\n.ace-tm .ace_meta.ace_tag {\\\ncolor:rgb(0, 22, 142);\\\n}\\\n.ace-tm .ace_string.ace_regex {\\\ncolor: rgb(255, 0, 0)\\\n}\\\n.ace-tm .ace_marker-layer .ace_selection {\\\nbackground: rgb(181, 213, 255);\\\n}\\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: 0 0 3px 0px white;\\\n}\\\n.ace-tm .ace_marker-layer .ace_step {\\\nbackground: rgb(252, 255, 0);\\\n}\\\n.ace-tm .ace_marker-layer .ace_stack {\\\nbackground: rgb(164, 229, 101);\\\n}\\\n.ace-tm .ace_marker-layer .ace_bracket {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid rgb(192, 192, 192);\\\n}\\\n.ace-tm .ace_marker-layer .ace_active-line {\\\nbackground: rgba(0, 0, 0, 0.07);\\\n}\\\n.ace-tm .ace_gutter-active-line {\\\nbackground-color : #dcdcdc;\\\n}\\\n.ace-tm .ace_marker-layer .ace_selected-word {\\\nbackground: rgb(250, 250, 255);\\\nborder: 1px solid rgb(200, 200, 250);\\\n}\\\n.ace-tm .ace_indent-guide {\\\nbackground: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y;\\\n}\\\n\";\nexports.$id = \"ace/theme/textmate\";\n\nvar dom = require(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass);\n});\n\ndefine(\"ace/line_widgets\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"./lib/dom\");\n\nfunction LineWidgets(session) {\n    this.session = session;\n    this.session.widgetManager = this;\n    this.session.getRowLength = this.getRowLength;\n    this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;\n    this.updateOnChange = this.updateOnChange.bind(this);\n    this.renderWidgets = this.renderWidgets.bind(this);\n    this.measureWidgets = this.measureWidgets.bind(this);\n    this.session._changedWidgets = [];\n    this.$onChangeEditor = this.$onChangeEditor.bind(this);\n    \n    this.session.on(\"change\", this.updateOnChange);\n    this.session.on(\"changeFold\", this.updateOnFold);\n    this.session.on(\"changeEditor\", this.$onChangeEditor);\n}\n\n(function() {\n    this.getRowLength = function(row) {\n        var h;\n        if (this.lineWidgets)\n            h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        else \n            h = 0;\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1 + h;\n        } else {\n            return this.$wrapData[row].length + 1 + h;\n        }\n    };\n\n    this.$getWidgetScreenLength = function() {\n        var screenRows = 0;\n        this.lineWidgets.forEach(function(w){\n            if (w && w.rowCount && !w.hidden)\n                screenRows += w.rowCount;\n        });\n        return screenRows;\n    };    \n    \n    this.$onChangeEditor = function(e) {\n        this.attach(e.editor);\n    };\n    \n    this.attach = function(editor) {\n        if (editor  && editor.widgetManager && editor.widgetManager != this)\n            editor.widgetManager.detach();\n\n        if (this.editor == editor)\n            return;\n\n        this.detach();\n        this.editor = editor;\n        \n        if (editor) {\n            editor.widgetManager = this;\n            editor.renderer.on(\"beforeRender\", this.measureWidgets);\n            editor.renderer.on(\"afterRender\", this.renderWidgets);\n        }\n    };\n    this.detach = function(e) {\n        var editor = this.editor;\n        if (!editor)\n            return;\n        \n        this.editor = null;\n        editor.widgetManager = null;\n        \n        editor.renderer.off(\"beforeRender\", this.measureWidgets);\n        editor.renderer.off(\"afterRender\", this.renderWidgets);\n        var lineWidgets = this.session.lineWidgets;\n        lineWidgets && lineWidgets.forEach(function(w) {\n            if (w && w.el && w.el.parentNode) {\n                w._inDocument = false;\n                w.el.parentNode.removeChild(w.el);\n            }\n        });\n    };\n\n    this.updateOnFold = function(e, session) {\n        var lineWidgets = session.lineWidgets;\n        if (!lineWidgets || !e.action)\n            return;\n        var fold = e.data;\n        var start = fold.start.row;\n        var end = fold.end.row;\n        var hide = e.action == \"add\";\n        for (var i = start + 1; i < end; i++) {\n            if (lineWidgets[i])\n                lineWidgets[i].hidden = hide;\n        }\n        if (lineWidgets[end]) {\n            if (hide) {\n                if (!lineWidgets[start])\n                    lineWidgets[start] = lineWidgets[end];\n                else\n                    lineWidgets[end].hidden = hide;\n            } else {\n                if (lineWidgets[start] == lineWidgets[end])\n                    lineWidgets[start] = undefined;\n                lineWidgets[end].hidden = hide;\n            }\n        }\n    };\n    \n    this.updateOnChange = function(delta) {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n        \n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n\n        if (len === 0) {\n        } else if (delta.action == \"remove\") {\n            var removed = lineWidgets.splice(startRow + 1, len);\n            if (!lineWidgets[startRow] && removed[removed.length - 1]) {\n                lineWidgets[startRow] = removed.pop();\n            }\n            removed.forEach(function(w) {\n                w && this.removeLineWidget(w);\n            }, this);\n            this.$updateRows();\n        } else {\n            var args = new Array(len);\n            if (lineWidgets[startRow] && lineWidgets[startRow].column != null) {\n                if (delta.start.column > lineWidgets[startRow].column)\n                    startRow++;\n            }\n            args.unshift(startRow, 0);\n            lineWidgets.splice.apply(lineWidgets, args);\n            this.$updateRows();\n        }\n    };\n    \n    this.$updateRows = function() {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n        var noWidgets = true;\n        lineWidgets.forEach(function(w, i) {\n            if (w) {\n                noWidgets = false;\n                w.row = i;\n                while (w.$oldWidget) {\n                    w.$oldWidget.row = i;\n                    w = w.$oldWidget;\n                }\n            }\n        });\n        if (noWidgets)\n            this.session.lineWidgets = null;\n    };\n\n    this.$registerLineWidget = function(w) {\n        if (!this.session.lineWidgets)\n            this.session.lineWidgets = new Array(this.session.getLength());\n        \n        var old = this.session.lineWidgets[w.row];\n        if (old) {\n            w.$oldWidget = old;\n            if (old.el && old.el.parentNode) {\n                old.el.parentNode.removeChild(old.el);\n                old._inDocument = false;\n            }\n        }\n            \n        this.session.lineWidgets[w.row] = w;\n        return w;\n    };\n    \n    this.addLineWidget = function(w) {\n        this.$registerLineWidget(w);\n        w.session = this.session;\n        \n        if (!this.editor) return w;\n        \n        var renderer = this.editor.renderer;\n        if (w.html && !w.el) {\n            w.el = dom.createElement(\"div\");\n            w.el.innerHTML = w.html;\n        }\n        if (w.el) {\n            dom.addCssClass(w.el, \"ace_lineWidgetContainer\");\n            w.el.style.position = \"absolute\";\n            w.el.style.zIndex = 5;\n            renderer.container.appendChild(w.el);\n            w._inDocument = true;\n            \n            if (!w.coverGutter) {\n                w.el.style.zIndex = 3;\n            }\n            if (w.pixelHeight == null) {\n                w.pixelHeight = w.el.offsetHeight;\n            }\n        }\n        if (w.rowCount == null) {\n            w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;\n        }\n        \n        var fold = this.session.getFoldAt(w.row, 0);\n        w.$fold = fold;\n        if (fold) {\n            var lineWidgets = this.session.lineWidgets;\n            if (w.row == fold.end.row && !lineWidgets[fold.start.row])\n                lineWidgets[fold.start.row] = w;\n            else\n                w.hidden = true;\n        }\n            \n        this.session._emit(\"changeFold\", {data:{start:{row: w.row}}});\n        \n        this.$updateRows();\n        this.renderWidgets(null, renderer);\n        this.onWidgetChanged(w);\n        return w;\n    };\n    \n    this.removeLineWidget = function(w) {\n        w._inDocument = false;\n        w.session = null;\n        if (w.el && w.el.parentNode)\n            w.el.parentNode.removeChild(w.el);\n        if (w.editor && w.editor.destroy) try {\n            w.editor.destroy();\n        } catch(e){}\n        if (this.session.lineWidgets) {\n            var w1 = this.session.lineWidgets[w.row];\n            if (w1 == w) {\n                this.session.lineWidgets[w.row] = w.$oldWidget;\n                if (w.$oldWidget)\n                    this.onWidgetChanged(w.$oldWidget);\n            } else {\n                while (w1) {\n                    if (w1.$oldWidget == w) {\n                        w1.$oldWidget = w.$oldWidget;\n                        break;\n                    }\n                    w1 = w1.$oldWidget;\n                }\n            }\n        }\n        this.session._emit(\"changeFold\", {data:{start:{row: w.row}}});\n        this.$updateRows();\n    };\n    \n    this.getWidgetsAtRow = function(row) {\n        var lineWidgets = this.session.lineWidgets;\n        var w = lineWidgets && lineWidgets[row];\n        var list = [];\n        while (w) {\n            list.push(w);\n            w = w.$oldWidget;\n        }\n        return list;\n    };\n    \n    this.onWidgetChanged = function(w) {\n        this.session._changedWidgets.push(w);\n        this.editor && this.editor.renderer.updateFull();\n    };\n    \n    this.measureWidgets = function(e, renderer) {\n        var changedWidgets = this.session._changedWidgets;\n        var config = renderer.layerConfig;\n        \n        if (!changedWidgets || !changedWidgets.length) return;\n        var min = Infinity;\n        for (var i = 0; i < changedWidgets.length; i++) {\n            var w = changedWidgets[i];\n            if (!w || !w.el) continue;\n            if (w.session != this.session) continue;\n            if (!w._inDocument) {\n                if (this.session.lineWidgets[w.row] != w)\n                    continue;\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            \n            w.h = w.el.offsetHeight;\n            \n            if (!w.fixedWidth) {\n                w.w = w.el.offsetWidth;\n                w.screenWidth = Math.ceil(w.w / config.characterWidth);\n            }\n            \n            var rowCount = w.h / config.lineHeight;\n            if (w.coverLine) {\n                rowCount -= this.session.getRowLineCount(w.row);\n                if (rowCount < 0)\n                    rowCount = 0;\n            }\n            if (w.rowCount != rowCount) {\n                w.rowCount = rowCount;\n                if (w.row < min)\n                    min = w.row;\n            }\n        }\n        if (min != Infinity) {\n            this.session._emit(\"changeFold\", {data:{start:{row: min}}});\n            this.session.lineWidgetWidth = null;\n        }\n        this.session._changedWidgets = [];\n    };\n    \n    this.renderWidgets = function(e, renderer) {\n        var config = renderer.layerConfig;\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var first = Math.min(this.firstRow, config.firstRow);\n        var last = Math.max(this.lastRow, config.lastRow, lineWidgets.length);\n        \n        while (first > 0 && !lineWidgets[first])\n            first--;\n        \n        this.firstRow = config.firstRow;\n        this.lastRow = config.lastRow;\n\n        renderer.$cursorLayer.config = config;\n        for (var i = first; i <= last; i++) {\n            var w = lineWidgets[i];\n            if (!w || !w.el) continue;\n            if (w.hidden) {\n                w.el.style.top = -100 - (w.pixelHeight || 0) + \"px\";\n                continue;\n            }\n            if (!w._inDocument) {\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            var top = renderer.$cursorLayer.getPixelPosition({row: i, column:0}, true).top;\n            if (!w.coverLine)\n                top += config.lineHeight * this.session.getRowLineCount(w.row);\n            w.el.style.top = top - config.offset + \"px\";\n            \n            var left = w.coverGutter ? 0 : renderer.gutterWidth;\n            if (!w.fixedWidth)\n                left -= renderer.scrollLeft;\n            w.el.style.left = left + \"px\";\n            \n            if (w.fullWidth && w.screenWidth) {\n                w.el.style.minWidth = config.width + 2 * config.padding + \"px\";\n            }\n            \n            if (w.fixedWidth) {\n                w.el.style.right = renderer.scrollBar.getWidth() + \"px\";\n            } else {\n                w.el.style.right = \"\";\n            }\n        }\n    };\n    \n}).call(LineWidgets.prototype);\n\n\nexports.LineWidgets = LineWidgets;\n\n});\n\ndefine(\"ace/ext/error_marker\",[\"require\",\"exports\",\"module\",\"ace/line_widgets\",\"ace/lib/dom\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar LineWidgets = require(\"../line_widgets\").LineWidgets;\nvar dom = require(\"../lib/dom\");\nvar Range = require(\"../range\").Range;\n\nfunction binarySearch(array, needle, comparator) {\n    var first = 0;\n    var last = array.length - 1;\n\n    while (first <= last) {\n        var mid = (first + last) >> 1;\n        var c = comparator(needle, array[mid]);\n        if (c > 0)\n            first = mid + 1;\n        else if (c < 0)\n            last = mid - 1;\n        else\n            return mid;\n    }\n    return -(first + 1);\n}\n\nfunction findAnnotations(session, row, dir) {\n    var annotations = session.getAnnotations().sort(Range.comparePoints);\n    if (!annotations.length)\n        return;\n    \n    var i = binarySearch(annotations, {row: row, column: -1}, Range.comparePoints);\n    if (i < 0)\n        i = -i - 1;\n    \n    if (i >= annotations.length)\n        i = dir > 0 ? 0 : annotations.length - 1;\n    else if (i === 0 && dir < 0)\n        i = annotations.length - 1;\n    \n    var annotation = annotations[i];\n    if (!annotation || !dir)\n        return;\n\n    if (annotation.row === row) {\n        do {\n            annotation = annotations[i += dir];\n        } while (annotation && annotation.row === row);\n        if (!annotation)\n            return annotations.slice();\n    }\n    \n    \n    var matched = [];\n    row = annotation.row;\n    do {\n        matched[dir < 0 ? \"unshift\" : \"push\"](annotation);\n        annotation = annotations[i += dir];\n    } while (annotation && annotation.row == row);\n    return matched.length && matched;\n}\n\nexports.showErrorMarker = function(editor, dir) {\n    var session = editor.session;\n    if (!session.widgetManager) {\n        session.widgetManager = new LineWidgets(session);\n        session.widgetManager.attach(editor);\n    }\n    \n    var pos = editor.getCursorPosition();\n    var row = pos.row;\n    var oldWidget = session.widgetManager.getWidgetsAtRow(row).filter(function(w) {\n        return w.type == \"errorMarker\";\n    })[0];\n    if (oldWidget) {\n        oldWidget.destroy();\n    } else {\n        row -= dir;\n    }\n    var annotations = findAnnotations(session, row, dir);\n    var gutterAnno;\n    if (annotations) {\n        var annotation = annotations[0];\n        pos.column = (annotation.pos && typeof annotation.column != \"number\"\n            ? annotation.pos.sc\n            : annotation.column) || 0;\n        pos.row = annotation.row;\n        gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];\n    } else if (oldWidget) {\n        return;\n    } else {\n        gutterAnno = {\n            text: [\"Looks good!\"],\n            className: \"ace_ok\"\n        };\n    }\n    editor.session.unfold(pos.row);\n    editor.selection.moveToPosition(pos);\n    \n    var w = {\n        row: pos.row, \n        fixedWidth: true,\n        coverGutter: true,\n        el: dom.createElement(\"div\"),\n        type: \"errorMarker\"\n    };\n    var el = w.el.appendChild(dom.createElement(\"div\"));\n    var arrow = w.el.appendChild(dom.createElement(\"div\"));\n    arrow.className = \"error_widget_arrow \" + gutterAnno.className;\n    \n    var left = editor.renderer.$cursorLayer\n        .getPixelPosition(pos).left;\n    arrow.style.left = left + editor.renderer.gutterWidth - 5 + \"px\";\n    \n    w.el.className = \"error_widget_wrapper\";\n    el.className = \"error_widget \" + gutterAnno.className;\n    el.innerHTML = gutterAnno.text.join(\"<br>\");\n    \n    el.appendChild(dom.createElement(\"div\"));\n    \n    var kb = function(_, hashId, keyString) {\n        if (hashId === 0 && (keyString === \"esc\" || keyString === \"return\")) {\n            w.destroy();\n            return {command: \"null\"};\n        }\n    };\n    \n    w.destroy = function() {\n        if (editor.$mouseHandler.isMousePressed)\n            return;\n        editor.keyBinding.removeKeyboardHandler(kb);\n        session.widgetManager.removeLineWidget(w);\n        editor.off(\"changeSelection\", w.destroy);\n        editor.off(\"changeSession\", w.destroy);\n        editor.off(\"mouseup\", w.destroy);\n        editor.off(\"change\", w.destroy);\n    };\n    \n    editor.keyBinding.addKeyboardHandler(kb);\n    editor.on(\"changeSelection\", w.destroy);\n    editor.on(\"changeSession\", w.destroy);\n    editor.on(\"mouseup\", w.destroy);\n    editor.on(\"change\", w.destroy);\n    \n    editor.session.widgetManager.addLineWidget(w);\n    \n    w.el.onmousedown = editor.focus.bind(editor);\n    \n    editor.renderer.scrollCursorIntoView(null, 0.5, {bottom: w.el.offsetHeight});\n};\n\n\ndom.importCssString(\"\\\n    .error_widget_wrapper {\\\n        background: inherit;\\\n        color: inherit;\\\n        border:none\\\n    }\\\n    .error_widget {\\\n        border-top: solid 2px;\\\n        border-bottom: solid 2px;\\\n        margin: 5px 0;\\\n        padding: 10px 40px;\\\n        white-space: pre-wrap;\\\n    }\\\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\\\n        border-color: #ff5a5a\\\n    }\\\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\\\n        border-color: #F1D817\\\n    }\\\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\\\n        border-color: #5a5a5a\\\n    }\\\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\\\n        border-color: #5aaa5a\\\n    }\\\n    .error_widget_arrow {\\\n        position: absolute;\\\n        border: solid 5px;\\\n        border-top-color: transparent!important;\\\n        border-right-color: transparent!important;\\\n        border-left-color: transparent!important;\\\n        top: -5px;\\\n    }\\\n\", \"\");\n\n});\n\ndefine(\"ace/ace\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/range\",\"ace/editor\",\"ace/edit_session\",\"ace/undomanager\",\"ace/virtual_renderer\",\"ace/worker/worker_client\",\"ace/keyboard/hash_handler\",\"ace/placeholder\",\"ace/multi_select\",\"ace/mode/folding/fold_mode\",\"ace/theme/textmate\",\"ace/ext/error_marker\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nrequire(\"./lib/fixoldbrowsers\");\n\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\n\nvar Range = require(\"./range\").Range;\nvar Editor = require(\"./editor\").Editor;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar UndoManager = require(\"./undomanager\").UndoManager;\nvar Renderer = require(\"./virtual_renderer\").VirtualRenderer;\nrequire(\"./worker/worker_client\");\nrequire(\"./keyboard/hash_handler\");\nrequire(\"./placeholder\");\nrequire(\"./multi_select\");\nrequire(\"./mode/folding/fold_mode\");\nrequire(\"./theme/textmate\");\nrequire(\"./ext/error_marker\");\n\nexports.config = require(\"./config\");\nexports.require = require;\n\nif (typeof define === \"function\")\n    exports.define = define;\nexports.edit = function(el, options) {\n    if (typeof el == \"string\") {\n        var _id = el;\n        el = document.getElementById(_id);\n        if (!el)\n            throw new Error(\"ace.edit can't find div #\" + _id);\n    }\n\n    if (el && el.env && el.env.editor instanceof Editor)\n        return el.env.editor;\n\n    var value = \"\";\n    if (el && /input|textarea/i.test(el.tagName)) {\n        var oldNode = el;\n        value = oldNode.value;\n        el = dom.createElement(\"pre\");\n        oldNode.parentNode.replaceChild(el, oldNode);\n    } else if (el) {\n        value = el.textContent;\n        el.innerHTML = \"\";\n    }\n\n    var doc = exports.createEditSession(value);\n\n    var editor = new Editor(new Renderer(el), doc, options);\n\n    var env = {\n        document: doc,\n        editor: editor,\n        onResize: editor.resize.bind(editor, null)\n    };\n    if (oldNode) env.textarea = oldNode;\n    event.addListener(window, \"resize\", env.onResize);\n    editor.on(\"destroy\", function() {\n        event.removeListener(window, \"resize\", env.onResize);\n        env.editor.container.env = null; // prevent memory leak on old ie\n    });\n    editor.container.env = editor.env = env;\n    return editor;\n};\nexports.createEditSession = function(text, mode) {\n    var doc = new EditSession(text, mode);\n    doc.setUndoManager(new UndoManager());\n    return doc;\n};\nexports.Range = Range;\nexports.Editor = Editor;\nexports.EditSession = EditSession;\nexports.UndoManager = UndoManager;\nexports.VirtualRenderer = Renderer;\nexports.version = exports.config.version;\n});            (function() {\n                window.require([\"ace/ace\"], function(a) {\n                    if (a) {\n                        a.config.init(true);\n                        a.define = window.define;\n                    }\n                    if (!window.ace)\n                        window.ace = a;\n                    for (var key in a) if (a.hasOwnProperty(key))\n                        window.ace[key] = a[key];\n                    window.ace[\"default\"] = window.ace;\n                    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                        module.exports = window.ace;\n                    }\n                });\n            })();\n        \n\n\n// WEBPACK FOOTER //\n// ./src/vendors/ace.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-104966c0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-104966c0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-104966c0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"app\">\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import HelloWorld from './components/HelloWorld'\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    // HelloWorld\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  /* margin-top: 60px; */\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import Vue from \"vue\";\r\nimport VueRouter from \"vue-router\";\r\n\r\nVue.use(VueRouter);\r\n\r\nconst router = new VueRouter({\r\n  mode: \"history\",\r\n  routes: [\r\n    {\r\n      path: \"/login\",\r\n      name: \"login\",\r\n      meta: {\r\n        title: \"登陆\"\r\n      },\r\n      component: resolve => require([\"@/view/login/index.vue\"], resolve)\r\n    },\r\n    {\r\n      path: \"/\",\r\n      component: resolve => require([\"@/view/index/home.vue\"], resolve),\r\n      redirect: \"/scq\",\r\n      children: [\r\n        // {\r\n        //   path: '/index',\r\n        //   // alias: '/index',\r\n        //   name:\"index\",\r\n        //   meta: {\r\n        //     title: '首页'\r\n        //   },\r\n        //   component: resolve => require(['@/view/index/index.vue'], resolve),\r\n        // },\r\n        {\r\n          path: \"/scq\",\r\n          name: \"scq\",\r\n          meta: {\r\n            title: \"生成器\"\r\n          },\r\n          component: resolve => require([\"@/view/scq/index.vue\"], resolve)\r\n        },\r\n        {\r\n          path: \"/realview\",\r\n          name: \"realview\",\r\n          meta: {\r\n            title: \"生成器\"\r\n          },\r\n          component: resolve => require([\"@/view/scq/realview.vue\"], resolve)\r\n        },\r\n        {\r\n          path: \"/pdsc\",\r\n          name: \"pdsc\",\r\n          meta: {\r\n            title: \"片段生成\"\r\n          },\r\n          component: resolve => require([\"@/view/pdsc/index.vue\"], resolve)\r\n        },\r\n\r\n        {\r\n          path: \"/scroll_wxxcx\",\r\n          name: \"scq\",\r\n          meta: {\r\n            title: \"微信小程序滚动加载\"\r\n          },\r\n          component: resolve =>\r\n            require([\"@/view/scroll_wxxcx/index.vue\"], resolve)\r\n        },\r\n        {\r\n          path: \"/qiongju\",\r\n          name: \"scq\",\r\n          meta: {\r\n            title: \"穷举\"\r\n          },\r\n          component: resolve => require([\"@/view/qiongju/index.vue\"], resolve)\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      path: \"*\",\r\n      meta: {\r\n        title: \"404\"\r\n      },\r\n      component: resolve => require([\"@/view/404/index.vue\"], resolve)\r\n    }\r\n  ]\r\n});\r\n\r\nexport default router;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vuex from \"vuex\";\r\nimport Vue from \"vue\";\r\n// import * as types from './types'\r\n\r\nVue.use(Vuex);\r\n\r\n// const SET_ELEMENT = (state)=>{\r\n\r\n// }\r\nlet store = new Vuex.Store({\r\n  state: {\r\n    preSave: [],\r\n    dataset: [],\r\n    preSet: {},\r\n    element: [\r\n      // {\r\n      //   id: \"1\",\r\n      //   value: \"1\",\r\n      //   tagName: \"div\",\r\n      //   direction: \"row\",\r\n      //   className: \"\",\r\n      //   levelClassName: \"\",\r\n      //   classObj: {},\r\n      //   subset: []\r\n      // }\r\n    ],\r\n    elementHistory: [],\r\n    token: \"\"\r\n  },\r\n  actions: {\r\n    pushPreSave({ commit, state, dispatch }, obj) {\r\n      commit(\"SET_PREVIEW_SAVE\", JSON.parse(JSON.stringify(obj)));\r\n    },\r\n    timeTravel({ commit, state, dispatch }, index) {\r\n      commit(\"SET_ELEMENT\", state.elementHistory[index]);\r\n    },\r\n    setElement({ commit, state, dispatch }, obj) {\r\n      // state.elementHistory.push(JSON.parse(JSON.stringify(data)));\r\n\r\n      commit(\"SET_DATASET\", obj);\r\n      commit(\"SET_ELEMENT_HISTORY\", obj);\r\n    }\r\n  },\r\n  mutations: {\r\n    SET_PRESET(state, data) {\r\n      let obj = state.preSet;\r\n      if (!obj[data.tagName]) {\r\n        obj[data.tagName] = [];\r\n      }\r\n      obj[data.tagName].push(data.dataset);\r\n      state.preSet = JSON.parse(JSON.stringify(obj));\r\n    },\r\n    SET_DATASET(state, data) {\r\n      let d = JSON.parse(JSON.stringify(data));\r\n      state.dataset = d;\r\n    },\r\n    SET_PREVIEW_SAVE(state, data) {\r\n      let d = JSON.parse(JSON.stringify(data));\r\n      state.preSave.push(d);\r\n    },\r\n    SET_ELEMENT_HISTORY(state, data) {\r\n      let d = JSON.parse(JSON.stringify(data));\r\n      state.elementHistory.push(d);\r\n    },\r\n    SET_ELEMENT(state, data) {\r\n      // return state => {\r\n      // console.log(\"set element\", data);\r\n      let d = JSON.parse(JSON.stringify(data));\r\n      state.element = d;\r\n      // };\r\n    },\r\n    updateToken(state, data) {\r\n      localStorage.token = data;\r\n      state.token = data;\r\n    }\r\n  },\r\n  strict: true\r\n});\r\nif (localStorage.token) {\r\n  store.commit(\"updateToken\", localStorage.token);\r\n}\r\nexport default store;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/store.js","import axios from 'axios'\r\nimport store from '@/vuex/store.js'\r\nimport {\r\n  IP,\r\n  ServerPort as PORT\r\n} from './env.js'\r\naxios.interceptors.request.use(\r\n  config => {\r\n      if (store.state.token) {\r\n          if(!config.noToken){\r\n              config.headers._token = store.state.token;\r\n          }\r\n      }else{\r\n      }\r\n      return config;\r\n\r\n  })\r\nexport default function fetch(type, path, params) {\r\n  let contentTpye = 'application/json'\r\n  return new Promise((resolve, reject) => {\r\n    axios({\r\n      method: type,\r\n      url: IP + ':' + PORT + path,\r\n      data: params,\r\n      headers: {\r\n        'Content-Type': contentTpye\r\n      }\r\n    }).then(response => {\r\n      resolve(response);\r\n    }).catch((error, res) => {\r\n      reject(error);\r\n    })\r\n  })\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/ajax.js","import fetch from '../ajax.js'\r\nexport default {\r\n    getPlanList({date_start=123,date_end=123,query_options=0}={}){\r\n        // let {\r\n        //     date\r\n        // } = obj\r\n        return fetch('post','/plan_list',{\r\n            date_start,\r\n            date_end,\r\n            query_options\r\n        })\r\n    },\r\n    addPlanList({time='',task=''}={}){\r\n        return fetch('post','/add_plan',{\r\n            time,task\r\n        })\r\n    },\r\n    startTask({id,remainTime}={}){\r\n        return fetch('post','/startTask',{\r\n            id,\r\n            remainTime\r\n        })\r\n    }\r\n    ,\r\n    stopTask({id,remainTime}={}){\r\n        return fetch('post','/stopTask',{\r\n            id,\r\n            remainTime\r\n        })\r\n    },\r\n    resumeTask({id,remainTime}={}){\r\n        return fetch('post','/resumeTask',{\r\n            id,\r\n            remainTime\r\n        })\r\n    },\r\n    delTask({id}={}){\r\n        return fetch('post','/delTask',{\r\n            id\r\n        })\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/module/plan.js","import Vue from \"vue\";\r\nimport App from \"./App\";\r\nimport router from \"./router/index\";\r\nimport store from \"./vuex/store\";\r\nimport ElementUI from \"element-ui\";\r\nimport * as api from \"@/api/index\";\r\n\r\nimport \"@/assets/flex.css\";\r\n\r\nimport \"element-ui/lib/theme-chalk/index.css\";\r\n\r\nVue.config.productionTip = false;\r\n\r\nVue.use(ElementUI);\r\nVue.prototype.api = api;\r\n\r\nimport Vant from \"vant\";\r\nimport \"vant/lib/index.css\";\r\n\r\nimport \"./vendors/ace.js\";\r\n\r\nVue.use(Vant);\r\n\r\n/* eslint-disable no-new */\r\nlet ins = new Vue({\r\n  router,\r\n  store,\r\n  render: h => h(App),\r\n  el: \"#app\"\r\n});\r\nwindow.INS = ins;\r\nconsole.log(\"INS\", window.INS);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","\r\n\r\n;let setip=''\r\nif (process.env.NODE_ENV === 'production') {\r\n setip = 'http://118.89.19.201'\r\n}else{\r\n setip = 'http://localhost'\r\n}\r\n\r\nexport const IP = setip\r\nexport const ServerPort = 8602\r\nexport const StaticPort = 8600\r\nexport const OAUTH_PORT = 8000\r\n// export {\r\n//     devFix,\r\n//     testFix\r\n// }\n\n\n// WEBPACK FOOTER //\n// ./src/api/env.js"],"sourceRoot":""}